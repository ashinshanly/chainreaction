(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();function pb(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var If={exports:{}},pl={};var d_;function gb(){if(d_)return pl;d_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(l,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var m in o)m!=="key"&&(f[m]=o[m])}else f=o;return o=f.ref,{$$typeof:a,type:l,key:h,ref:o!==void 0?o:null,props:f}}return pl.Fragment=t,pl.jsx=i,pl.jsxs=i,pl}var m_;function _b(){return m_||(m_=1,If.exports=gb()),If.exports}var D=_b(),Mf={exports:{}},te={};var p_;function yb(){if(p_)return te;p_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),E=Symbol.iterator;function U(T){return T===null||typeof T!="object"?null:(T=E&&T[E]||T["@@iterator"],typeof T=="function"?T:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,se={};function ne(T,M,H){this.props=T,this.context=M,this.refs=se,this.updater=H||L}ne.prototype.isReactComponent={},ne.prototype.setState=function(T,M){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,M,"setState")},ne.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function X(){}X.prototype=ne.prototype;function Q(T,M,H){this.props=T,this.context=M,this.refs=se,this.updater=H||L}var Ee=Q.prototype=new X;Ee.constructor=Q,G(Ee,ne.prototype),Ee.isPureReactComponent=!0;var Ve=Array.isArray;function nt(){}var re={H:null,A:null,T:null,S:null},it=Object.prototype.hasOwnProperty;function St(T,M,H){var j=H.ref;return{$$typeof:a,type:T,key:M,ref:j!==void 0?j:null,props:H}}function q(T,M){return St(T.type,M,T.props)}function $(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function ge(T){var M={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(H){return M[H]})}var be=/\/+/g;function oe(T,M){return typeof T=="object"&&T!==null&&T.key!=null?ge(""+T.key):M.toString(36)}function he(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(nt,nt):(T.status="pending",T.then(function(M){T.status==="pending"&&(T.status="fulfilled",T.value=M)},function(M){T.status==="pending"&&(T.status="rejected",T.reason=M)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function O(T,M,H,j,W){var ee=typeof T;(ee==="undefined"||ee==="boolean")&&(T=null);var _e=!1;if(T===null)_e=!0;else switch(ee){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(T.$$typeof){case a:case t:_e=!0;break;case S:return _e=T._init,O(_e(T._payload),M,H,j,W)}}if(_e)return W=W(T),_e=j===""?"."+oe(T,0):j,Ve(W)?(H="",_e!=null&&(H=_e.replace(be,"$&/")+"/"),O(W,M,H,"",function(ba){return ba})):W!=null&&($(W)&&(W=q(W,H+(W.key==null||T&&T.key===W.key?"":(""+W.key).replace(be,"$&/")+"/")+_e)),M.push(W)),1;_e=0;var ot=j===""?".":j+":";if(Ve(T))for(var Ye=0;Ye<T.length;Ye++)j=T[Ye],ee=ot+oe(j,Ye),_e+=O(j,M,H,ee,W);else if(Ye=U(T),typeof Ye=="function")for(T=Ye.call(T),Ye=0;!(j=T.next()).done;)j=j.value,ee=ot+oe(j,Ye++),_e+=O(j,M,H,ee,W);else if(ee==="object"){if(typeof T.then=="function")return O(he(T),M,H,j,W);throw M=String(T),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return _e}function z(T,M,H){if(T==null)return T;var j=[],W=0;return O(T,j,"","",function(ee){return M.call(H,ee,W++)}),j}function Y(T){if(T._status===-1){var M=T._result;M=M(),M.then(function(H){(T._status===0||T._status===-1)&&(T._status=1,T._result=H)},function(H){(T._status===0||T._status===-1)&&(T._status=2,T._result=H)}),T._status===-1&&(T._status=0,T._result=M)}if(T._status===1)return T._result.default;throw T._result}var de=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},ae={map:z,forEach:function(T,M,H){z(T,function(){M.apply(this,arguments)},H)},count:function(T){var M=0;return z(T,function(){M++}),M},toArray:function(T){return z(T,function(M){return M})||[]},only:function(T){if(!$(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return te.Activity=y,te.Children=ae,te.Component=ne,te.Fragment=i,te.Profiler=o,te.PureComponent=Q,te.StrictMode=l,te.Suspense=g,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,te.__COMPILER_RUNTIME={__proto__:null,c:function(T){return re.H.useMemoCache(T)}},te.cache=function(T){return function(){return T.apply(null,arguments)}},te.cacheSignal=function(){return null},te.cloneElement=function(T,M,H){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var j=G({},T.props),W=T.key;if(M!=null)for(ee in M.key!==void 0&&(W=""+M.key),M)!it.call(M,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&M.ref===void 0||(j[ee]=M[ee]);var ee=arguments.length-2;if(ee===1)j.children=H;else if(1<ee){for(var _e=Array(ee),ot=0;ot<ee;ot++)_e[ot]=arguments[ot+2];j.children=_e}return St(T.type,W,j)},te.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:f,_context:T},T},te.createElement=function(T,M,H){var j,W={},ee=null;if(M!=null)for(j in M.key!==void 0&&(ee=""+M.key),M)it.call(M,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(W[j]=M[j]);var _e=arguments.length-2;if(_e===1)W.children=H;else if(1<_e){for(var ot=Array(_e),Ye=0;Ye<_e;Ye++)ot[Ye]=arguments[Ye+2];W.children=ot}if(T&&T.defaultProps)for(j in _e=T.defaultProps,_e)W[j]===void 0&&(W[j]=_e[j]);return St(T,ee,W)},te.createRef=function(){return{current:null}},te.forwardRef=function(T){return{$$typeof:m,render:T}},te.isValidElement=$,te.lazy=function(T){return{$$typeof:S,_payload:{_status:-1,_result:T},_init:Y}},te.memo=function(T,M){return{$$typeof:p,type:T,compare:M===void 0?null:M}},te.startTransition=function(T){var M=re.T,H={};re.T=H;try{var j=T(),W=re.S;W!==null&&W(H,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(nt,de)}catch(ee){de(ee)}finally{M!==null&&H.types!==null&&(M.types=H.types),re.T=M}},te.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},te.use=function(T){return re.H.use(T)},te.useActionState=function(T,M,H){return re.H.useActionState(T,M,H)},te.useCallback=function(T,M){return re.H.useCallback(T,M)},te.useContext=function(T){return re.H.useContext(T)},te.useDebugValue=function(){},te.useDeferredValue=function(T,M){return re.H.useDeferredValue(T,M)},te.useEffect=function(T,M){return re.H.useEffect(T,M)},te.useEffectEvent=function(T){return re.H.useEffectEvent(T)},te.useId=function(){return re.H.useId()},te.useImperativeHandle=function(T,M,H){return re.H.useImperativeHandle(T,M,H)},te.useInsertionEffect=function(T,M){return re.H.useInsertionEffect(T,M)},te.useLayoutEffect=function(T,M){return re.H.useLayoutEffect(T,M)},te.useMemo=function(T,M){return re.H.useMemo(T,M)},te.useOptimistic=function(T,M){return re.H.useOptimistic(T,M)},te.useReducer=function(T,M,H){return re.H.useReducer(T,M,H)},te.useRef=function(T){return re.H.useRef(T)},te.useState=function(T){return re.H.useState(T)},te.useSyncExternalStore=function(T,M,H){return re.H.useSyncExternalStore(T,M,H)},te.useTransition=function(){return re.H.useTransition()},te.version="19.2.3",te}var g_;function Eh(){return g_||(g_=1,Mf.exports=yb()),Mf.exports}var He=Eh();const Jf=pb(He);var xf={exports:{}},gl={},kf={exports:{}},Uf={};var __;function vb(){return __||(__=1,(function(a){function t(O,z){var Y=O.length;O.push(z);e:for(;0<Y;){var de=Y-1>>>1,ae=O[de];if(0<o(ae,z))O[de]=z,O[Y]=ae,Y=de;else break e}}function i(O){return O.length===0?null:O[0]}function l(O){if(O.length===0)return null;var z=O[0],Y=O.pop();if(Y!==z){O[0]=Y;e:for(var de=0,ae=O.length,T=ae>>>1;de<T;){var M=2*(de+1)-1,H=O[M],j=M+1,W=O[j];if(0>o(H,Y))j<ae&&0>o(W,H)?(O[de]=W,O[j]=Y,de=j):(O[de]=H,O[M]=Y,de=M);else if(j<ae&&0>o(W,Y))O[de]=W,O[j]=Y,de=j;else break e}}return z}function o(O,z){var Y=O.sortIndex-z.sortIndex;return Y!==0?Y:O.id-z.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var g=[],p=[],S=1,y=null,E=3,U=!1,L=!1,G=!1,se=!1,ne=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function Ee(O){for(var z=i(p);z!==null;){if(z.callback===null)l(p);else if(z.startTime<=O)l(p),z.sortIndex=z.expirationTime,t(g,z);else break;z=i(p)}}function Ve(O){if(G=!1,Ee(O),!L)if(i(g)!==null)L=!0,nt||(nt=!0,ge());else{var z=i(p);z!==null&&he(Ve,z.startTime-O)}}var nt=!1,re=-1,it=5,St=-1;function q(){return se?!0:!(a.unstable_now()-St<it)}function $(){if(se=!1,nt){var O=a.unstable_now();St=O;var z=!0;try{e:{L=!1,G&&(G=!1,X(re),re=-1),U=!0;var Y=E;try{t:{for(Ee(O),y=i(g);y!==null&&!(y.expirationTime>O&&q());){var de=y.callback;if(typeof de=="function"){y.callback=null,E=y.priorityLevel;var ae=de(y.expirationTime<=O);if(O=a.unstable_now(),typeof ae=="function"){y.callback=ae,Ee(O),z=!0;break t}y===i(g)&&l(g),Ee(O)}else l(g);y=i(g)}if(y!==null)z=!0;else{var T=i(p);T!==null&&he(Ve,T.startTime-O),z=!1}}break e}finally{y=null,E=Y,U=!1}z=void 0}}finally{z?ge():nt=!1}}}var ge;if(typeof Q=="function")ge=function(){Q($)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,oe=be.port2;be.port1.onmessage=$,ge=function(){oe.postMessage(null)}}else ge=function(){ne($,0)};function he(O,z){re=ne(function(){O(a.unstable_now())},z)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(O){O.callback=null},a.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<O?Math.floor(1e3/O):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(O){switch(E){case 1:case 2:case 3:var z=3;break;default:z=E}var Y=E;E=z;try{return O()}finally{E=Y}},a.unstable_requestPaint=function(){se=!0},a.unstable_runWithPriority=function(O,z){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Y=E;E=O;try{return z()}finally{E=Y}},a.unstable_scheduleCallback=function(O,z,Y){var de=a.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?de+Y:de):Y=de,O){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Y+ae,O={id:S++,callback:z,priorityLevel:O,startTime:Y,expirationTime:ae,sortIndex:-1},Y>de?(O.sortIndex=Y,t(p,O),i(g)===null&&O===i(p)&&(G?(X(re),re=-1):G=!0,he(Ve,Y-de))):(O.sortIndex=ae,t(g,O),L||U||(L=!0,nt||(nt=!0,ge()))),O},a.unstable_shouldYield=q,a.unstable_wrapCallback=function(O){var z=E;return function(){var Y=E;E=z;try{return O.apply(this,arguments)}finally{E=Y}}}})(Uf)),Uf}var y_;function Sb(){return y_||(y_=1,kf.exports=vb()),kf.exports}var Lf={exports:{}},pt={};var v_;function Eb(){if(v_)return pt;v_=1;var a=Eh();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(g,p,S){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:g,containerInfo:p,implementation:S}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,pt.createPortal=function(g,p){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return f(g,p,null,S)},pt.flushSync=function(g){var p=h.T,S=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=p,l.p=S,l.d.f()}},pt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},pt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},pt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var S=p.as,y=m(S,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,U=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;S==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:U}):S==="script"&&l.d.X(g,{crossOrigin:y,integrity:E,fetchPriority:U,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var S=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},pt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var S=p.as,y=m(S,p.crossOrigin);l.d.L(g,S,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pt.preloadModule=function(g,p){if(typeof g=="string")if(p){var S=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},pt.requestFormReset=function(g){l.d.r(g)},pt.unstable_batchedUpdates=function(g,p){return g(p)},pt.useFormState=function(g,p,S){return h.H.useFormState(g,p,S)},pt.useFormStatus=function(){return h.H.useHostTransitionStatus()},pt.version="19.2.3",pt}var S_;function bb(){if(S_)return Lf.exports;S_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Lf.exports=Eb(),Lf.exports}var E_;function Tb(){if(E_)return gl;E_=1;var a=Sb(),t=Eh(),i=bb();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(l(188))}function p(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(l(188));return n!==e?null:e}for(var s=e,r=n;;){var u=s.return;if(u===null)break;var c=u.alternate;if(c===null){if(r=u.return,r!==null){s=r;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===s)return g(u),e;if(c===r)return g(u),n;c=c.sibling}throw Error(l(188))}if(s.return!==r.return)s=u,r=c;else{for(var d=!1,_=u.child;_;){if(_===s){d=!0,s=u,r=c;break}if(_===r){d=!0,r=u,s=c;break}_=_.sibling}if(!d){for(_=c.child;_;){if(_===s){d=!0,s=c,r=u;break}if(_===r){d=!0,r=c,s=u;break}_=_.sibling}if(!d)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),St=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function ge(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var be=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case ne:return"Profiler";case se:return"StrictMode";case Ve:return"Suspense";case nt:return"SuspenseList";case St:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case Q:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case Ee:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case re:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case it:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}var he=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},de=[],ae=-1;function T(e){return{current:e}}function M(e){0>ae||(e.current=de[ae],de[ae]=null,ae--)}function H(e,n){ae++,de[ae]=e.current,e.current=n}var j=T(null),W=T(null),ee=T(null),_e=T(null);function ot(e,n){switch(H(ee,n),H(W,e),H(j,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Lg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Lg(n),e=zg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(j),H(j,e)}function Ye(){M(j),M(W),M(ee)}function ba(e){e.memoizedState!==null&&H(_e,e);var n=j.current,s=zg(n,e.type);n!==s&&(H(W,e),H(j,s))}function Zl(e){W.current===e&&(M(j),M(W)),_e.current===e&&(M(_e),fl._currentValue=Y)}var hu,hd;function Ui(e){if(hu===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);hu=n&&n[1]||"",hd=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hu+e+hd}var du=!1;function mu(e,n){if(!e||du)return"";du=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(R){var N=R}Reflect.construct(e,[],k)}else{try{k.call()}catch(R){N=R}e.call(k.prototype)}}else{try{throw Error()}catch(R){N=R}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(R){if(R&&N&&typeof R.stack=="string")return[R.stack,N.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=r.DetermineComponentFrameRoot(),d=c[0],_=c[1];if(d&&_){var v=d.split(`
`),A=_.split(`
`);for(u=r=0;r<v.length&&!v[r].includes("DetermineComponentFrameRoot");)r++;for(;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;if(r===v.length||u===A.length)for(r=v.length-1,u=A.length-1;1<=r&&0<=u&&v[r]!==A[u];)u--;for(;1<=r&&0<=u;r--,u--)if(v[r]!==A[u]){if(r!==1||u!==1)do if(r--,u--,0>u||v[r]!==A[u]){var I=`
`+v[r].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=r&&0<=u);break}}}finally{du=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ui(s):""}function F0(e,n){switch(e.tag){case 26:case 27:case 5:return Ui(e.type);case 16:return Ui("Lazy");case 13:return e.child!==n&&n!==null?Ui("Suspense Fallback"):Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return mu(e.type,!1);case 11:return mu(e.type.render,!1);case 1:return mu(e.type,!0);case 31:return Ui("Activity");default:return""}}function dd(e){try{var n="",s=null;do n+=F0(e,s),s=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var pu=Object.prototype.hasOwnProperty,gu=a.unstable_scheduleCallback,_u=a.unstable_cancelCallback,Q0=a.unstable_shouldYield,X0=a.unstable_requestPaint,Mt=a.unstable_now,K0=a.unstable_getCurrentPriorityLevel,md=a.unstable_ImmediatePriority,pd=a.unstable_UserBlockingPriority,Jl=a.unstable_NormalPriority,W0=a.unstable_LowPriority,gd=a.unstable_IdlePriority,Z0=a.log,J0=a.unstable_setDisableYieldValue,Ta=null,xt=null;function Xn(e){if(typeof Z0=="function"&&J0(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Ta,e)}catch{}}var kt=Math.clz32?Math.clz32:tS,$0=Math.log,eS=Math.LN2;function tS(e){return e>>>=0,e===0?32:31-($0(e)/eS|0)|0}var $l=256,er=262144,tr=4194304;function Li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function nr(e,n,s){var r=e.pendingLanes;if(r===0)return 0;var u=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~c,r!==0?u=Li(r):(d&=_,d!==0?u=Li(d):s||(s=_&~e,s!==0&&(u=Li(s))))):(_=r&~c,_!==0?u=Li(_):d!==0?u=Li(d):s||(s=r&~e,s!==0&&(u=Li(s)))),u===0?0:n!==0&&n!==u&&(n&c)===0&&(c=u&-u,s=n&-n,c>=s||c===32&&(s&4194048)!==0)?n:u}function Ca(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function nS(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _d(){var e=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),e}function yu(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function wa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function iS(e,n,s,r,u,c){var d=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var _=e.entanglements,v=e.expirationTimes,A=e.hiddenUpdates;for(s=d&~s;0<s;){var I=31-kt(s),k=1<<I;_[I]=0,v[I]=-1;var N=A[I];if(N!==null)for(A[I]=null,I=0;I<N.length;I++){var R=N[I];R!==null&&(R.lane&=-536870913)}s&=~k}r!==0&&yd(e,r,0),c!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~n))}function yd(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-kt(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function vd(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var r=31-kt(s),u=1<<r;u&n|e[r]&n&&(e[r]|=n),s&=~u}}function Sd(e,n){var s=n&-n;return s=(s&42)!==0?1:vu(s),(s&(e.suspendedLanes|n))!==0?0:s}function vu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Su(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ed(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:l_(e.type))}function bd(e,n){var s=z.p;try{return z.p=e,n()}finally{z.p=s}}var Kn=Math.random().toString(36).slice(2),ut="__reactFiber$"+Kn,Et="__reactProps$"+Kn,ds="__reactContainer$"+Kn,Eu="__reactEvents$"+Kn,sS="__reactListeners$"+Kn,aS="__reactHandles$"+Kn,Td="__reactResources$"+Kn,Aa="__reactMarker$"+Kn;function bu(e){delete e[ut],delete e[Et],delete e[Eu],delete e[sS],delete e[aS]}function ms(e){var n=e[ut];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ds]||s[ut]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Vg(e);e!==null;){if(s=e[ut])return s;e=Vg(e)}return n}e=s,s=e.parentNode}return null}function ps(e){if(e=e[ut]||e[ds]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Na(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function gs(e){var n=e[Td];return n||(n=e[Td]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function st(e){e[Aa]=!0}var Cd=new Set,wd={};function zi(e,n){_s(e,n),_s(e+"Capture",n)}function _s(e,n){for(wd[e]=n,e=0;e<n.length;e++)Cd.add(n[e])}var lS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ad={},Nd={};function rS(e){return pu.call(Nd,e)?!0:pu.call(Ad,e)?!1:lS.test(e)?Nd[e]=!0:(Ad[e]=!0,!1)}function ir(e,n,s){if(rS(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function sr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function vn(e,n,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+r)}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function oS(e,n,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,c=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(d){s=""+d,c.call(this,d)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(d){s=""+d},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Tu(e){if(!e._valueTracker){var n=Rd(e)?"checked":"value";e._valueTracker=oS(e,n,""+e[n])}}function Od(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return e&&(r=Rd(e)?e.checked?"true":"false":e.value),e=r,e!==s?(n.setValue(e),!0):!1}function ar(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var uS=/[\n"\\]/g;function qt(e){return e.replace(uS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Cu(e,n,s,r,u,c,d,_){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),n!=null?d==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Pt(n)):e.value!==""+Pt(n)&&(e.value=""+Pt(n)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),n!=null?wu(e,d,Pt(n)):s!=null?wu(e,d,Pt(s)):r!=null&&e.removeAttribute("value"),u==null&&c!=null&&(e.defaultChecked=!!c),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Pt(_):e.removeAttribute("name")}function Dd(e,n,s,r,u,c,d,_){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),n!=null||s!=null){if(!(c!=="submit"&&c!=="reset"||n!=null)){Tu(e);return}s=s!=null?""+Pt(s):"",n=n!=null?""+Pt(n):s,_||n===e.value||(e.value=n),e.defaultValue=n}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Tu(e)}function wu(e,n,s){n==="number"&&ar(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ys(e,n,s,r){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Pt(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Id(e,n,s){if(n!=null&&(n=""+Pt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Pt(s):""}function Md(e,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(l(92));if(he(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=Pt(n),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),Tu(e)}function vs(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var cS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xd(e,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,s):typeof s!="number"||s===0||cS.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function kd(e,n,s){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in n)r=n[u],n.hasOwnProperty(u)&&s[u]!==r&&xd(e,u,r)}else for(var c in n)n.hasOwnProperty(c)&&xd(e,c,n[c])}function Au(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lr(e){return hS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Sn(){}var Nu=null;function Ru(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,Es=null;function Ud(e){var n=ps(e);if(n&&(e=n.stateNode)){var s=e[Et]||null;e:switch(e=n.stateNode,n.type){case"input":if(Cu(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+qt(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==e&&r.form===e.form){var u=r[Et]||null;if(!u)throw Error(l(90));Cu(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===e.form&&Od(r)}break e;case"textarea":Id(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&ys(e,!!s.multiple,n,!1)}}}var Ou=!1;function Ld(e,n,s){if(Ou)return e(n,s);Ou=!0;try{var r=e(n);return r}finally{if(Ou=!1,(Ss!==null||Es!==null)&&(Qr(),Ss&&(n=Ss,e=Es,Es=Ss=null,Ud(n),e)))for(n=0;n<e.length;n++)Ud(e[n])}}function Ra(e,n){var s=e.stateNode;if(s===null)return null;var r=s[Et]||null;if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Du=!1;if(En)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){Du=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{Du=!1}var Wn=null,Iu=null,rr=null;function zd(){if(rr)return rr;var e,n=Iu,s=n.length,r,u="value"in Wn?Wn.value:Wn.textContent,c=u.length;for(e=0;e<s&&n[e]===u[e];e++);var d=s-e;for(r=1;r<=d&&n[s-r]===u[c-r];r++);return rr=u.slice(e,1<r?1-r:void 0)}function or(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ur(){return!0}function Hd(){return!1}function bt(e){function n(s,r,u,c,d){this._reactName=s,this._targetInst=u,this.type=r,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(c):c[_]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?ur:Hd,this.isPropagationStopped=Hd,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),n}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=bt(Hi),Da=y({},Hi,{view:0,detail:0}),dS=bt(Da),Mu,xu,Ia,fr=y({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ia&&(Ia&&e.type==="mousemove"?(Mu=e.screenX-Ia.screenX,xu=e.screenY-Ia.screenY):xu=Mu=0,Ia=e),Mu)},movementY:function(e){return"movementY"in e?e.movementY:xu}}),Bd=bt(fr),mS=y({},fr,{dataTransfer:0}),pS=bt(mS),gS=y({},Da,{relatedTarget:0}),ku=bt(gS),_S=y({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),yS=bt(_S),vS=y({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SS=bt(vS),ES=y({},Hi,{data:0}),jd=bt(ES),bS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wS(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=CS[e])?!!n[e]:!1}function Uu(){return wS}var AS=y({},Da,{key:function(e){if(e.key){var n=bS[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(e){return e.type==="keypress"?or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NS=bt(AS),RS=y({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gd=bt(RS),OS=y({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),DS=bt(OS),IS=y({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),MS=bt(IS),xS=y({},fr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kS=bt(xS),US=y({},Hi,{newState:0,oldState:0}),LS=bt(US),zS=[9,13,27,32],Lu=En&&"CompositionEvent"in window,Ma=null;En&&"documentMode"in document&&(Ma=document.documentMode);var HS=En&&"TextEvent"in window&&!Ma,Pd=En&&(!Lu||Ma&&8<Ma&&11>=Ma),qd=" ",Vd=!1;function Yd(e,n){switch(e){case"keyup":return zS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bs=!1;function BS(e,n){switch(e){case"compositionend":return Fd(n);case"keypress":return n.which!==32?null:(Vd=!0,qd);case"textInput":return e=n.data,e===qd&&Vd?null:e;default:return null}}function jS(e,n){if(bs)return e==="compositionend"||!Lu&&Yd(e,n)?(e=zd(),rr=Iu=Wn=null,bs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Pd&&n.locale!=="ko"?null:n.data;default:return null}}var GS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!GS[e.type]:n==="textarea"}function Xd(e,n,s,r){Ss?Es?Es.push(r):Es=[r]:Ss=r,n=eo(n,"onChange"),0<n.length&&(s=new cr("onChange","change",null,s,r),e.push({event:s,listeners:n}))}var xa=null,ka=null;function PS(e){Dg(e,0)}function hr(e){var n=Na(e);if(Od(n))return e}function Kd(e,n){if(e==="change")return n}var Wd=!1;if(En){var zu;if(En){var Hu="oninput"in document;if(!Hu){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),Hu=typeof Zd.oninput=="function"}zu=Hu}else zu=!1;Wd=zu&&(!document.documentMode||9<document.documentMode)}function Jd(){xa&&(xa.detachEvent("onpropertychange",$d),ka=xa=null)}function $d(e){if(e.propertyName==="value"&&hr(ka)){var n=[];Xd(n,ka,e,Ru(e)),Ld(PS,n)}}function qS(e,n,s){e==="focusin"?(Jd(),xa=n,ka=s,xa.attachEvent("onpropertychange",$d)):e==="focusout"&&Jd()}function VS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hr(ka)}function YS(e,n){if(e==="click")return hr(n)}function FS(e,n){if(e==="input"||e==="change")return hr(n)}function QS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ut=typeof Object.is=="function"?Object.is:QS;function Ua(e,n){if(Ut(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var u=s[r];if(!pu.call(n,u)||!Ut(e[u],n[u]))return!1}return!0}function em(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tm(e,n){var s=em(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=n&&r>=n)return{node:s,offset:n-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=em(s)}}function nm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?nm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function im(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ar(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ar(e.document)}return n}function Bu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var XS=En&&"documentMode"in document&&11>=document.documentMode,Ts=null,ju=null,La=null,Gu=!1;function sm(e,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Gu||Ts==null||Ts!==ar(r)||(r=Ts,"selectionStart"in r&&Bu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),La&&Ua(La,r)||(La=r,r=eo(ju,"onSelect"),0<r.length&&(n=new cr("onSelect","select",null,n,s),e.push({event:n,listeners:r}),n.target=Ts)))}function Bi(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Cs={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionrun:Bi("Transition","TransitionRun"),transitionstart:Bi("Transition","TransitionStart"),transitioncancel:Bi("Transition","TransitionCancel"),transitionend:Bi("Transition","TransitionEnd")},Pu={},am={};En&&(am=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function ji(e){if(Pu[e])return Pu[e];if(!Cs[e])return e;var n=Cs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in am)return Pu[e]=n[s];return e}var lm=ji("animationend"),rm=ji("animationiteration"),om=ji("animationstart"),KS=ji("transitionrun"),WS=ji("transitionstart"),ZS=ji("transitioncancel"),um=ji("transitionend"),cm=new Map,qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qu.push("scrollEnd");function $t(e,n){cm.set(e,n),zi(n,[e])}var dr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],ws=0,Vu=0;function mr(){for(var e=ws,n=Vu=ws=0;n<e;){var s=Vt[n];Vt[n++]=null;var r=Vt[n];Vt[n++]=null;var u=Vt[n];Vt[n++]=null;var c=Vt[n];if(Vt[n++]=null,r!==null&&u!==null){var d=r.pending;d===null?u.next=u:(u.next=d.next,d.next=u),r.pending=u}c!==0&&fm(s,u,c)}}function pr(e,n,s,r){Vt[ws++]=e,Vt[ws++]=n,Vt[ws++]=s,Vt[ws++]=r,Vu|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Yu(e,n,s,r){return pr(e,n,s,r),gr(e)}function Gi(e,n){return pr(e,null,null,n),gr(e)}function fm(e,n,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var u=!1,c=e.return;c!==null;)c.childLanes|=s,r=c.alternate,r!==null&&(r.childLanes|=s),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(u=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,u&&n!==null&&(u=31-kt(s),e=c.hiddenUpdates,r=e[u],r===null?e[u]=[n]:r.push(n),n.lane=s|536870912),c):null}function gr(e){if(50<sl)throw sl=0,ef=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var As={};function JS(e,n,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,n,s,r){return new JS(e,n,s,r)}function Fu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bn(e,n){var s=e.alternate;return s===null?(s=Lt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function hm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _r(e,n,s,r,u,c){var d=0;if(r=e,typeof e=="function")Fu(e)&&(d=1);else if(typeof e=="string")d=ib(e,s,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case St:return e=Lt(31,s,n,u),e.elementType=St,e.lanes=c,e;case G:return Pi(s.children,u,c,n);case se:d=8,u|=24;break;case ne:return e=Lt(12,s,n,u|2),e.elementType=ne,e.lanes=c,e;case Ve:return e=Lt(13,s,n,u),e.elementType=Ve,e.lanes=c,e;case nt:return e=Lt(19,s,n,u),e.elementType=nt,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:d=10;break e;case X:d=9;break e;case Ee:d=11;break e;case re:d=14;break e;case it:d=16,r=null;break e}d=29,s=Error(l(130,e===null?"null":typeof e,"")),r=null}return n=Lt(d,s,n,u),n.elementType=e,n.type=r,n.lanes=c,n}function Pi(e,n,s,r){return e=Lt(7,e,r,n),e.lanes=s,e}function Qu(e,n,s){return e=Lt(6,e,null,n),e.lanes=s,e}function dm(e){var n=Lt(18,null,null,0);return n.stateNode=e,n}function Xu(e,n,s){return n=Lt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var mm=new WeakMap;function Yt(e,n){if(typeof e=="object"&&e!==null){var s=mm.get(e);return s!==void 0?s:(n={value:e,source:n,stack:dd(n)},mm.set(e,n),n)}return{value:e,source:n,stack:dd(n)}}var Ns=[],Rs=0,yr=null,za=0,Ft=[],Qt=0,Zn=null,un=1,cn="";function Tn(e,n){Ns[Rs++]=za,Ns[Rs++]=yr,yr=e,za=n}function pm(e,n,s){Ft[Qt++]=un,Ft[Qt++]=cn,Ft[Qt++]=Zn,Zn=e;var r=un;e=cn;var u=32-kt(r)-1;r&=~(1<<u),s+=1;var c=32-kt(n)+u;if(30<c){var d=u-u%5;c=(r&(1<<d)-1).toString(32),r>>=d,u-=d,un=1<<32-kt(n)+u|s<<u|r,cn=c+e}else un=1<<c|s<<u|r,cn=e}function Ku(e){e.return!==null&&(Tn(e,1),pm(e,1,0))}function Wu(e){for(;e===yr;)yr=Ns[--Rs],Ns[Rs]=null,za=Ns[--Rs],Ns[Rs]=null;for(;e===Zn;)Zn=Ft[--Qt],Ft[Qt]=null,cn=Ft[--Qt],Ft[Qt]=null,un=Ft[--Qt],Ft[Qt]=null}function gm(e,n){Ft[Qt++]=un,Ft[Qt++]=cn,Ft[Qt++]=Zn,un=n.id,cn=n.overflow,Zn=e}var ct=null,Le=null,Se=!1,Jn=null,Xt=!1,Zu=Error(l(519));function $n(e){var n=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ha(Yt(n,e)),Zu}function _m(e){var n=e.stateNode,s=e.type,r=e.memoizedProps;switch(n[ut]=e,n[Et]=r,s){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(s=0;s<ll.length;s++)pe(ll[s],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":pe("invalid",n),Dd(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":pe("invalid",n);break;case"textarea":pe("invalid",n),Md(n,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||kg(n.textContent,s)?(r.popover!=null&&(pe("beforetoggle",n),pe("toggle",n)),r.onScroll!=null&&pe("scroll",n),r.onScrollEnd!=null&&pe("scrollend",n),r.onClick!=null&&(n.onclick=Sn),n=!0):n=!1,n||$n(e,!0)}function ym(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:ct=ct.return}}function Os(e){if(e!==ct)return!1;if(!Se)return ym(e),Se=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||gf(e.type,e.memoizedProps)),s=!s),s&&Le&&$n(e),ym(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Le=qg(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Le=qg(e)}else n===27?(n=Le,di(e.type)?(e=Ef,Ef=null,Le=e):Le=n):Le=ct?Wt(e.stateNode.nextSibling):null;return!0}function qi(){Le=ct=null,Se=!1}function Ju(){var e=Jn;return e!==null&&(At===null?At=e:At.push.apply(At,e),Jn=null),e}function Ha(e){Jn===null?Jn=[e]:Jn.push(e)}var $u=T(null),Vi=null,Cn=null;function ei(e,n,s){H($u,n._currentValue),n._currentValue=s}function wn(e){e._currentValue=$u.current,M($u)}function ec(e,n,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===s)break;e=e.return}}function tc(e,n,s,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var c=u.dependencies;if(c!==null){var d=u.child;c=c.firstContext;e:for(;c!==null;){var _=c;c=u;for(var v=0;v<n.length;v++)if(_.context===n[v]){c.lanes|=s,_=c.alternate,_!==null&&(_.lanes|=s),ec(c.return,s,e),r||(d=null);break e}c=_.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(l(341));d.lanes|=s,c=d.alternate,c!==null&&(c.lanes|=s),ec(d,s,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function Ds(e,n,s,r){e=null;for(var u=n,c=!1;u!==null;){if(!c){if((u.flags&524288)!==0)c=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(l(387));if(d=d.memoizedProps,d!==null){var _=u.type;Ut(u.pendingProps.value,d.value)||(e!==null?e.push(_):e=[_])}}else if(u===_e.current){if(d=u.alternate,d===null)throw Error(l(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(fl):e=[fl])}u=u.return}e!==null&&tc(n,e,s,r),n.flags|=262144}function vr(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Yi(e){Vi=e,Cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return vm(Vi,e)}function Sr(e,n){return Vi===null&&Yi(e),vm(e,n)}function vm(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Cn===null){if(e===null)throw Error(l(308));Cn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Cn=Cn.next=n;return s}var $S=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},eE=a.unstable_scheduleCallback,tE=a.unstable_NormalPriority,We={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nc(){return{controller:new $S,data:new Map,refCount:0}}function Ba(e){e.refCount--,e.refCount===0&&eE(tE,function(){e.controller.abort()})}var ja=null,ic=0,Is=0,Ms=null;function nE(e,n){if(ja===null){var s=ja=[];ic=0,Is=rf(),Ms={status:"pending",value:void 0,then:function(r){s.push(r)}}}return ic++,n.then(Sm,Sm),n}function Sm(){if(--ic===0&&ja!==null){Ms!==null&&(Ms.status="fulfilled");var e=ja;ja=null,Is=0,Ms=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function iE(e,n){var s=[],r={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var u=0;u<s.length;u++)(0,s[u])(n)},function(u){for(r.status="rejected",r.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),r}var Em=O.S;O.S=function(e,n){sg=Mt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&nE(e,n),Em!==null&&Em(e,n)};var Fi=T(null);function sc(){var e=Fi.current;return e!==null?e:ke.pooledCache}function Er(e,n){n===null?H(Fi,Fi.current):H(Fi,n.pool)}function bm(){var e=sc();return e===null?null:{parent:We._currentValue,pool:e}}var xs=Error(l(460)),ac=Error(l(474)),br=Error(l(542)),Tr={then:function(){}};function Tm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cm(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Sn,Sn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Am(e),e;default:if(typeof n.status=="string")n.then(Sn,Sn);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=r}},function(r){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Am(e),e}throw Xi=n,xs}}function Qi(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Xi=s,xs):s}}var Xi=null;function wm(){if(Xi===null)throw Error(l(459));var e=Xi;return Xi=null,e}function Am(e){if(e===xs||e===br)throw Error(l(483))}var ks=null,Ga=0;function Cr(e){var n=Ga;return Ga+=1,ks===null&&(ks=[]),Cm(ks,e,n)}function Pa(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function wr(e,n){throw n.$$typeof===E?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Nm(e){function n(C,b){if(e){var w=C.deletions;w===null?(C.deletions=[b],C.flags|=16):w.push(b)}}function s(C,b){if(!e)return null;for(;b!==null;)n(C,b),b=b.sibling;return null}function r(C){for(var b=new Map;C!==null;)C.key!==null?b.set(C.key,C):b.set(C.index,C),C=C.sibling;return b}function u(C,b){return C=bn(C,b),C.index=0,C.sibling=null,C}function c(C,b,w){return C.index=w,e?(w=C.alternate,w!==null?(w=w.index,w<b?(C.flags|=67108866,b):w):(C.flags|=67108866,b)):(C.flags|=1048576,b)}function d(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function _(C,b,w,x){return b===null||b.tag!==6?(b=Qu(w,C.mode,x),b.return=C,b):(b=u(b,w),b.return=C,b)}function v(C,b,w,x){var F=w.type;return F===G?I(C,b,w.props.children,x,w.key):b!==null&&(b.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===it&&Qi(F)===b.type)?(b=u(b,w.props),Pa(b,w),b.return=C,b):(b=_r(w.type,w.key,w.props,null,C.mode,x),Pa(b,w),b.return=C,b)}function A(C,b,w,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Xu(w,C.mode,x),b.return=C,b):(b=u(b,w.children||[]),b.return=C,b)}function I(C,b,w,x,F){return b===null||b.tag!==7?(b=Pi(w,C.mode,x,F),b.return=C,b):(b=u(b,w),b.return=C,b)}function k(C,b,w){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Qu(""+b,C.mode,w),b.return=C,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case U:return w=_r(b.type,b.key,b.props,null,C.mode,w),Pa(w,b),w.return=C,w;case L:return b=Xu(b,C.mode,w),b.return=C,b;case it:return b=Qi(b),k(C,b,w)}if(he(b)||ge(b))return b=Pi(b,C.mode,w,null),b.return=C,b;if(typeof b.then=="function")return k(C,Cr(b),w);if(b.$$typeof===Q)return k(C,Sr(C,b),w);wr(C,b)}return null}function N(C,b,w,x){var F=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return F!==null?null:_(C,b,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case U:return w.key===F?v(C,b,w,x):null;case L:return w.key===F?A(C,b,w,x):null;case it:return w=Qi(w),N(C,b,w,x)}if(he(w)||ge(w))return F!==null?null:I(C,b,w,x,null);if(typeof w.then=="function")return N(C,b,Cr(w),x);if(w.$$typeof===Q)return N(C,b,Sr(C,w),x);wr(C,w)}return null}function R(C,b,w,x,F){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return C=C.get(w)||null,_(b,C,""+x,F);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case U:return C=C.get(x.key===null?w:x.key)||null,v(b,C,x,F);case L:return C=C.get(x.key===null?w:x.key)||null,A(b,C,x,F);case it:return x=Qi(x),R(C,b,w,x,F)}if(he(x)||ge(x))return C=C.get(w)||null,I(b,C,x,F,null);if(typeof x.then=="function")return R(C,b,w,Cr(x),F);if(x.$$typeof===Q)return R(C,b,w,Sr(b,x),F);wr(b,x)}return null}function P(C,b,w,x){for(var F=null,Te=null,V=b,le=b=0,ve=null;V!==null&&le<w.length;le++){V.index>le?(ve=V,V=null):ve=V.sibling;var Ce=N(C,V,w[le],x);if(Ce===null){V===null&&(V=ve);break}e&&V&&Ce.alternate===null&&n(C,V),b=c(Ce,b,le),Te===null?F=Ce:Te.sibling=Ce,Te=Ce,V=ve}if(le===w.length)return s(C,V),Se&&Tn(C,le),F;if(V===null){for(;le<w.length;le++)V=k(C,w[le],x),V!==null&&(b=c(V,b,le),Te===null?F=V:Te.sibling=V,Te=V);return Se&&Tn(C,le),F}for(V=r(V);le<w.length;le++)ve=R(V,C,le,w[le],x),ve!==null&&(e&&ve.alternate!==null&&V.delete(ve.key===null?le:ve.key),b=c(ve,b,le),Te===null?F=ve:Te.sibling=ve,Te=ve);return e&&V.forEach(function(yi){return n(C,yi)}),Se&&Tn(C,le),F}function K(C,b,w,x){if(w==null)throw Error(l(151));for(var F=null,Te=null,V=b,le=b=0,ve=null,Ce=w.next();V!==null&&!Ce.done;le++,Ce=w.next()){V.index>le?(ve=V,V=null):ve=V.sibling;var yi=N(C,V,Ce.value,x);if(yi===null){V===null&&(V=ve);break}e&&V&&yi.alternate===null&&n(C,V),b=c(yi,b,le),Te===null?F=yi:Te.sibling=yi,Te=yi,V=ve}if(Ce.done)return s(C,V),Se&&Tn(C,le),F;if(V===null){for(;!Ce.done;le++,Ce=w.next())Ce=k(C,Ce.value,x),Ce!==null&&(b=c(Ce,b,le),Te===null?F=Ce:Te.sibling=Ce,Te=Ce);return Se&&Tn(C,le),F}for(V=r(V);!Ce.done;le++,Ce=w.next())Ce=R(V,C,le,Ce.value,x),Ce!==null&&(e&&Ce.alternate!==null&&V.delete(Ce.key===null?le:Ce.key),b=c(Ce,b,le),Te===null?F=Ce:Te.sibling=Ce,Te=Ce);return e&&V.forEach(function(mb){return n(C,mb)}),Se&&Tn(C,le),F}function Me(C,b,w,x){if(typeof w=="object"&&w!==null&&w.type===G&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case U:e:{for(var F=w.key;b!==null;){if(b.key===F){if(F=w.type,F===G){if(b.tag===7){s(C,b.sibling),x=u(b,w.props.children),x.return=C,C=x;break e}}else if(b.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===it&&Qi(F)===b.type){s(C,b.sibling),x=u(b,w.props),Pa(x,w),x.return=C,C=x;break e}s(C,b);break}else n(C,b);b=b.sibling}w.type===G?(x=Pi(w.props.children,C.mode,x,w.key),x.return=C,C=x):(x=_r(w.type,w.key,w.props,null,C.mode,x),Pa(x,w),x.return=C,C=x)}return d(C);case L:e:{for(F=w.key;b!==null;){if(b.key===F)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){s(C,b.sibling),x=u(b,w.children||[]),x.return=C,C=x;break e}else{s(C,b);break}else n(C,b);b=b.sibling}x=Xu(w,C.mode,x),x.return=C,C=x}return d(C);case it:return w=Qi(w),Me(C,b,w,x)}if(he(w))return P(C,b,w,x);if(ge(w)){if(F=ge(w),typeof F!="function")throw Error(l(150));return w=F.call(w),K(C,b,w,x)}if(typeof w.then=="function")return Me(C,b,Cr(w),x);if(w.$$typeof===Q)return Me(C,b,Sr(C,w),x);wr(C,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,b!==null&&b.tag===6?(s(C,b.sibling),x=u(b,w),x.return=C,C=x):(s(C,b),x=Qu(w,C.mode,x),x.return=C,C=x),d(C)):s(C,b)}return function(C,b,w,x){try{Ga=0;var F=Me(C,b,w,x);return ks=null,F}catch(V){if(V===xs||V===br)throw V;var Te=Lt(29,V,null,C.mode);return Te.lanes=x,Te.return=C,Te}}}var Ki=Nm(!0),Rm=Nm(!1),ti=!1;function lc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ni(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,n,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ae&2)!==0){var u=r.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),r.pending=n,n=gr(e),fm(e,null,s),n}return pr(e,r,n,s),gr(e)}function qa(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,vd(e,s)}}function oc(e,n){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var u=null,c=null;if(s=s.firstBaseUpdate,s!==null){do{var d={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};c===null?u=c=d:c=c.next=d,s=s.next}while(s!==null);c===null?u=c=n:c=c.next=n}else u=c=n;s={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var uc=!1;function Va(){if(uc){var e=Ms;if(e!==null)throw e}}function Ya(e,n,s,r){uc=!1;var u=e.updateQueue;ti=!1;var c=u.firstBaseUpdate,d=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var v=_,A=v.next;v.next=null,d===null?c=A:d.next=A,d=v;var I=e.alternate;I!==null&&(I=I.updateQueue,_=I.lastBaseUpdate,_!==d&&(_===null?I.firstBaseUpdate=A:_.next=A,I.lastBaseUpdate=v))}if(c!==null){var k=u.baseState;d=0,I=A=v=null,_=c;do{var N=_.lane&-536870913,R=N!==_.lane;if(R?(ye&N)===N:(r&N)===N){N!==0&&N===Is&&(uc=!0),I!==null&&(I=I.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var P=e,K=_;N=n;var Me=s;switch(K.tag){case 1:if(P=K.payload,typeof P=="function"){k=P.call(Me,k,N);break e}k=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=K.payload,N=typeof P=="function"?P.call(Me,k,N):P,N==null)break e;k=y({},k,N);break e;case 2:ti=!0}}N=_.callback,N!==null&&(e.flags|=64,R&&(e.flags|=8192),R=u.callbacks,R===null?u.callbacks=[N]:R.push(N))}else R={lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},I===null?(A=I=R,v=k):I=I.next=R,d|=N;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;R=_,_=R.next,R.next=null,u.lastBaseUpdate=R,u.shared.pending=null}}while(!0);I===null&&(v=k),u.baseState=v,u.firstBaseUpdate=A,u.lastBaseUpdate=I,c===null&&(u.shared.lanes=0),oi|=d,e.lanes=d,e.memoizedState=k}}function Om(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function Dm(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Om(s[e],n)}var Us=T(null),Ar=T(0);function Im(e,n){e=kn,H(Ar,e),H(Us,n),kn=e|n.baseLanes}function cc(){H(Ar,kn),H(Us,Us.current)}function fc(){kn=Ar.current,M(Us),M(Ar)}var zt=T(null),Kt=null;function si(e){var n=e.alternate;H(Fe,Fe.current&1),H(zt,e),Kt===null&&(n===null||Us.current!==null||n.memoizedState!==null)&&(Kt=e)}function hc(e){H(Fe,Fe.current),H(zt,e),Kt===null&&(Kt=e)}function Mm(e){e.tag===22?(H(Fe,Fe.current),H(zt,e),Kt===null&&(Kt=e)):ai()}function ai(){H(Fe,Fe.current),H(zt,zt.current)}function Ht(e){M(zt),Kt===e&&(Kt=null),M(Fe)}var Fe=T(0);function Nr(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||vf(s)||Sf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var An=0,ie=null,De=null,Ze=null,Rr=!1,Ls=!1,Wi=!1,Or=0,Fa=0,zs=null,sE=0;function Pe(){throw Error(l(321))}function dc(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Ut(e[s],n[s]))return!1;return!0}function mc(e,n,s,r,u,c){return An=c,ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?pp:Oc,Wi=!1,c=s(r,u),Wi=!1,Ls&&(c=km(n,s,r,u)),xm(e),c}function xm(e){O.H=Ka;var n=De!==null&&De.next!==null;if(An=0,Ze=De=ie=null,Rr=!1,Fa=0,zs=null,n)throw Error(l(300));e===null||Je||(e=e.dependencies,e!==null&&vr(e)&&(Je=!0))}function km(e,n,s,r){ie=e;var u=0;do{if(Ls&&(zs=null),Fa=0,Ls=!1,25<=u)throw Error(l(301));if(u+=1,Ze=De=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}O.H=gp,c=n(s,r)}while(Ls);return c}function aE(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?Qa(n):n,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(ie.flags|=1024),n}function pc(){var e=Or!==0;return Or=0,e}function gc(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function _c(e){if(Rr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Rr=!1}An=0,Ze=De=ie=null,Ls=!1,Fa=Or=0,zs=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ie.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Qe(){if(De===null){var e=ie.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var n=Ze===null?ie.memoizedState:Ze.next;if(n!==null)Ze=n,De=e;else{if(e===null)throw ie.alternate===null?Error(l(467)):Error(l(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ze===null?ie.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function Dr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qa(e){var n=Fa;return Fa+=1,zs===null&&(zs=[]),e=Cm(zs,e,n),n=ie,(Ze===null?n.memoizedState:Ze.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?pp:Oc),e}function Ir(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qa(e);if(e.$$typeof===Q)return ft(e)}throw Error(l(438,String(e)))}function yc(e){var n=null,s=ie.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=ie.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Dr(),ie.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),r=0;r<e;r++)s[r]=q;return n.index++,s}function Nn(e,n){return typeof n=="function"?n(e):n}function Mr(e){var n=Qe();return vc(n,De,e)}function vc(e,n,s){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var u=e.baseQueue,c=r.pending;if(c!==null){if(u!==null){var d=u.next;u.next=c.next,c.next=d}n.baseQueue=u=c,r.pending=null}if(c=e.baseState,u===null)e.memoizedState=c;else{n=u.next;var _=d=null,v=null,A=n,I=!1;do{var k=A.lane&-536870913;if(k!==A.lane?(ye&k)===k:(An&k)===k){var N=A.revertLane;if(N===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),k===Is&&(I=!0);else if((An&N)===N){A=A.next,N===Is&&(I=!0);continue}else k={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},v===null?(_=v=k,d=c):v=v.next=k,ie.lanes|=N,oi|=N;k=A.action,Wi&&s(c,k),c=A.hasEagerState?A.eagerState:s(c,k)}else N={lane:k,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},v===null?(_=v=N,d=c):v=v.next=N,ie.lanes|=k,oi|=k;A=A.next}while(A!==null&&A!==n);if(v===null?d=c:v.next=_,!Ut(c,e.memoizedState)&&(Je=!0,I&&(s=Ms,s!==null)))throw s;e.memoizedState=c,e.baseState=d,e.baseQueue=v,r.lastRenderedState=c}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Sc(e){var n=Qe(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var r=s.dispatch,u=s.pending,c=n.memoizedState;if(u!==null){s.pending=null;var d=u=u.next;do c=e(c,d.action),d=d.next;while(d!==u);Ut(c,n.memoizedState)||(Je=!0),n.memoizedState=c,n.baseQueue===null&&(n.baseState=c),s.lastRenderedState=c}return[c,r]}function Um(e,n,s){var r=ie,u=Qe(),c=Se;if(c){if(s===void 0)throw Error(l(407));s=s()}else s=n();var d=!Ut((De||u).memoizedState,s);if(d&&(u.memoizedState=s,Je=!0),u=u.queue,Tc(Hm.bind(null,r,u,e),[e]),u.getSnapshot!==n||d||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,Hs(9,{destroy:void 0},zm.bind(null,r,u,s,n),null),ke===null)throw Error(l(349));c||(An&127)!==0||Lm(r,n,s)}return s}function Lm(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=ie.updateQueue,n===null?(n=Dr(),ie.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function zm(e,n,s,r){n.value=s,n.getSnapshot=r,Bm(n)&&jm(e)}function Hm(e,n,s){return s(function(){Bm(n)&&jm(e)})}function Bm(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Ut(e,s)}catch{return!0}}function jm(e){var n=Gi(e,2);n!==null&&Nt(n,e,2)}function Ec(e){var n=_t();if(typeof e=="function"){var s=e;if(e=s(),Wi){Xn(!0);try{s()}finally{Xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},n}function Gm(e,n,s,r){return e.baseState=s,vc(e,De,typeof r=="function"?r:Nn)}function lE(e,n,s,r,u){if(Ur(e))throw Error(l(485));if(e=n.action,e!==null){var c={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};O.T!==null?s(!0):c.isTransition=!1,r(c),s=n.pending,s===null?(c.next=n.pending=c,Pm(n,c)):(c.next=s.next,n.pending=s.next=c)}}function Pm(e,n){var s=n.action,r=n.payload,u=e.state;if(n.isTransition){var c=O.T,d={};O.T=d;try{var _=s(u,r),v=O.S;v!==null&&v(d,_),qm(e,n,_)}catch(A){bc(e,n,A)}finally{c!==null&&d.types!==null&&(c.types=d.types),O.T=c}}else try{c=s(u,r),qm(e,n,c)}catch(A){bc(e,n,A)}}function qm(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Vm(e,n,r)},function(r){return bc(e,n,r)}):Vm(e,n,s)}function Vm(e,n,s){n.status="fulfilled",n.value=s,Ym(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Pm(e,s)))}function bc(e,n,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,Ym(n),n=n.next;while(n!==r)}e.action=null}function Ym(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Fm(e,n){return n}function Qm(e,n){if(Se){var s=ke.formState;if(s!==null){e:{var r=ie;if(Se){if(Le){t:{for(var u=Le,c=Xt;u.nodeType!==8;){if(!c){u=null;break t}if(u=Wt(u.nextSibling),u===null){u=null;break t}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){Le=Wt(u.nextSibling),r=u.data==="F!";break e}}$n(r)}r=!1}r&&(n=s[0])}}return s=_t(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fm,lastRenderedState:n},s.queue=r,s=hp.bind(null,ie,r),r.dispatch=s,r=Ec(!1),c=Rc.bind(null,ie,!1,r.queue),r=_t(),u={state:n,dispatch:null,action:e,pending:null},r.queue=u,s=lE.bind(null,ie,u,c,s),u.dispatch=s,r.memoizedState=e,[n,s,!1]}function Xm(e){var n=Qe();return Km(n,De,e)}function Km(e,n,s){if(n=vc(e,n,Fm)[0],e=Mr(Nn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Qa(n)}catch(d){throw d===xs?br:d}else r=n;n=Qe();var u=n.queue,c=u.dispatch;return s!==n.memoizedState&&(ie.flags|=2048,Hs(9,{destroy:void 0},rE.bind(null,u,s),null)),[r,c,e]}function rE(e,n){e.action=n}function Wm(e){var n=Qe(),s=De;if(s!==null)return Km(n,s,e);Qe(),n=n.memoizedState,s=Qe();var r=s.queue.dispatch;return s.memoizedState=e,[n,r,!1]}function Hs(e,n,s,r){return e={tag:e,create:s,deps:r,inst:n,next:null},n=ie.updateQueue,n===null&&(n=Dr(),ie.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,n.lastEffect=e),e}function Zm(){return Qe().memoizedState}function xr(e,n,s,r){var u=_t();ie.flags|=e,u.memoizedState=Hs(1|n,{destroy:void 0},s,r===void 0?null:r)}function kr(e,n,s,r){var u=Qe();r=r===void 0?null:r;var c=u.memoizedState.inst;De!==null&&r!==null&&dc(r,De.memoizedState.deps)?u.memoizedState=Hs(n,c,s,r):(ie.flags|=e,u.memoizedState=Hs(1|n,c,s,r))}function Jm(e,n){xr(8390656,8,e,n)}function Tc(e,n){kr(2048,8,e,n)}function oE(e){ie.flags|=4;var n=ie.updateQueue;if(n===null)n=Dr(),ie.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function $m(e){var n=Qe().memoizedState;return oE({ref:n,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}function ep(e,n){return kr(4,2,e,n)}function tp(e,n){return kr(4,4,e,n)}function np(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ip(e,n,s){s=s!=null?s.concat([e]):null,kr(4,4,np.bind(null,n,e),s)}function Cc(){}function sp(e,n){var s=Qe();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&dc(n,r[1])?r[0]:(s.memoizedState=[e,n],e)}function ap(e,n){var s=Qe();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&dc(n,r[1]))return r[0];if(r=e(),Wi){Xn(!0);try{e()}finally{Xn(!1)}}return s.memoizedState=[r,n],r}function wc(e,n,s){return s===void 0||(An&1073741824)!==0&&(ye&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=lg(),ie.lanes|=e,oi|=e,s)}function lp(e,n,s,r){return Ut(s,n)?s:Us.current!==null?(e=wc(e,s,r),Ut(e,n)||(Je=!0),e):(An&42)===0||(An&1073741824)!==0&&(ye&261930)===0?(Je=!0,e.memoizedState=s):(e=lg(),ie.lanes|=e,oi|=e,n)}function rp(e,n,s,r,u){var c=z.p;z.p=c!==0&&8>c?c:8;var d=O.T,_={};O.T=_,Rc(e,!1,n,s);try{var v=u(),A=O.S;if(A!==null&&A(_,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var I=iE(v,r);Xa(e,n,I,Gt(e))}else Xa(e,n,r,Gt(e))}catch(k){Xa(e,n,{then:function(){},status:"rejected",reason:k},Gt())}finally{z.p=c,d!==null&&_.types!==null&&(d.types=_.types),O.T=d}}function uE(){}function Ac(e,n,s,r){if(e.tag!==5)throw Error(l(476));var u=op(e).queue;rp(e,u,n,Y,s===null?uE:function(){return up(e),s(r)})}function op(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:Y},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function up(e){var n=op(e);n.next===null&&(n=e.alternate.memoizedState),Xa(e,n.next.queue,{},Gt())}function Nc(){return ft(fl)}function cp(){return Qe().memoizedState}function fp(){return Qe().memoizedState}function cE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Gt();e=ni(s);var r=ii(n,e,s);r!==null&&(Nt(r,n,s),qa(r,n,s)),n={cache:nc()},e.payload=n;return}n=n.return}}function fE(e,n,s){var r=Gt();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ur(e)?dp(n,s):(s=Yu(e,n,s,r),s!==null&&(Nt(s,e,r),mp(s,n,r)))}function hp(e,n,s){var r=Gt();Xa(e,n,s,r)}function Xa(e,n,s,r){var u={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ur(e))dp(n,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=n.lastRenderedReducer,c!==null))try{var d=n.lastRenderedState,_=c(d,s);if(u.hasEagerState=!0,u.eagerState=_,Ut(_,d))return pr(e,n,u,0),ke===null&&mr(),!1}catch{}if(s=Yu(e,n,u,r),s!==null)return Nt(s,e,r),mp(s,n,r),!0}return!1}function Rc(e,n,s,r){if(r={lane:2,revertLane:rf(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ur(e)){if(n)throw Error(l(479))}else n=Yu(e,s,r,2),n!==null&&Nt(n,e,2)}function Ur(e){var n=e.alternate;return e===ie||n!==null&&n===ie}function dp(e,n){Ls=Rr=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function mp(e,n,s){if((s&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,vd(e,s)}}var Ka={readContext:ft,use:Ir,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};Ka.useEffectEvent=Pe;var pp={readContext:ft,use:Ir,useCallback:function(e,n){return _t().memoizedState=[e,n===void 0?null:n],e},useContext:ft,useEffect:Jm,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,xr(4194308,4,np.bind(null,n,e),s)},useLayoutEffect:function(e,n){return xr(4194308,4,e,n)},useInsertionEffect:function(e,n){xr(4,2,e,n)},useMemo:function(e,n){var s=_t();n=n===void 0?null:n;var r=e();if(Wi){Xn(!0);try{e()}finally{Xn(!1)}}return s.memoizedState=[r,n],r},useReducer:function(e,n,s){var r=_t();if(s!==void 0){var u=s(n);if(Wi){Xn(!0);try{s(n)}finally{Xn(!1)}}}else u=n;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=fE.bind(null,ie,e),[r.memoizedState,e]},useRef:function(e){var n=_t();return e={current:e},n.memoizedState=e},useState:function(e){e=Ec(e);var n=e.queue,s=hp.bind(null,ie,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Cc,useDeferredValue:function(e,n){var s=_t();return wc(s,e,n)},useTransition:function(){var e=Ec(!1);return e=rp.bind(null,ie,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var r=ie,u=_t();if(Se){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),ke===null)throw Error(l(349));(ye&127)!==0||Lm(r,n,s)}u.memoizedState=s;var c={value:s,getSnapshot:n};return u.queue=c,Jm(Hm.bind(null,r,c,e),[e]),r.flags|=2048,Hs(9,{destroy:void 0},zm.bind(null,r,c,s,n),null),s},useId:function(){var e=_t(),n=ke.identifierPrefix;if(Se){var s=cn,r=un;s=(r&~(1<<32-kt(r)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Or++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=sE++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Nc,useFormState:Qm,useActionState:Qm,useOptimistic:function(e){var n=_t();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rc.bind(null,ie,!0,s),s.dispatch=n,[e,n]},useMemoCache:yc,useCacheRefresh:function(){return _t().memoizedState=cE.bind(null,ie)},useEffectEvent:function(e){var n=_t(),s={impl:e};return n.memoizedState=s,function(){if((Ae&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},Oc={readContext:ft,use:Ir,useCallback:sp,useContext:ft,useEffect:Tc,useImperativeHandle:ip,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:ap,useReducer:Mr,useRef:Zm,useState:function(){return Mr(Nn)},useDebugValue:Cc,useDeferredValue:function(e,n){var s=Qe();return lp(s,De.memoizedState,e,n)},useTransition:function(){var e=Mr(Nn)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Qa(e),n]},useSyncExternalStore:Um,useId:cp,useHostTransitionStatus:Nc,useFormState:Xm,useActionState:Xm,useOptimistic:function(e,n){var s=Qe();return Gm(s,De,e,n)},useMemoCache:yc,useCacheRefresh:fp};Oc.useEffectEvent=$m;var gp={readContext:ft,use:Ir,useCallback:sp,useContext:ft,useEffect:Tc,useImperativeHandle:ip,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:ap,useReducer:Sc,useRef:Zm,useState:function(){return Sc(Nn)},useDebugValue:Cc,useDeferredValue:function(e,n){var s=Qe();return De===null?wc(s,e,n):lp(s,De.memoizedState,e,n)},useTransition:function(){var e=Sc(Nn)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Qa(e),n]},useSyncExternalStore:Um,useId:cp,useHostTransitionStatus:Nc,useFormState:Wm,useActionState:Wm,useOptimistic:function(e,n){var s=Qe();return De!==null?Gm(s,De,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:yc,useCacheRefresh:fp};gp.useEffectEvent=$m;function Dc(e,n,s,r){n=e.memoizedState,s=s(r,n),s=s==null?n:y({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ic={enqueueSetState:function(e,n,s){e=e._reactInternals;var r=Gt(),u=ni(r);u.payload=n,s!=null&&(u.callback=s),n=ii(e,u,r),n!==null&&(Nt(n,e,r),qa(n,e,r))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var r=Gt(),u=ni(r);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=ii(e,u,r),n!==null&&(Nt(n,e,r),qa(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Gt(),r=ni(s);r.tag=2,n!=null&&(r.callback=n),n=ii(e,r,s),n!==null&&(Nt(n,e,s),qa(n,e,s))}};function _p(e,n,s,r,u,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,c,d):n.prototype&&n.prototype.isPureReactComponent?!Ua(s,r)||!Ua(u,c):!0}function yp(e,n,s,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==e&&Ic.enqueueReplaceState(n,n.state,null)}function Zi(e,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(e=e.defaultProps){s===n&&(s=y({},s));for(var u in e)s[u]===void 0&&(s[u]=e[u])}return s}function vp(e){dr(e)}function Sp(e){console.error(e)}function Ep(e){dr(e)}function Lr(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function bp(e,n,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Mc(e,n,s){return s=ni(s),s.tag=3,s.payload={element:null},s.callback=function(){Lr(e,n)},s}function Tp(e){return e=ni(e),e.tag=3,e}function Cp(e,n,s,r){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var c=r.value;e.payload=function(){return u(c)},e.callback=function(){bp(n,s,r)}}var d=s.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){bp(n,s,r),typeof u!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function hE(e,n,s,r,u){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&Ds(n,s,u,!0),s=zt.current,s!==null){switch(s.tag){case 31:case 13:return Kt===null?Xr():s.alternate===null&&qe===0&&(qe=3),s.flags&=-257,s.flags|=65536,s.lanes=u,r===Tr?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),sf(e,r,u)),!1;case 22:return s.flags|=65536,r===Tr?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),sf(e,r,u)),!1}throw Error(l(435,s.tag))}return sf(e,r,u),Xr(),!1}if(Se)return n=zt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,r!==Zu&&(e=Error(l(422),{cause:r}),Ha(Yt(e,s)))):(r!==Zu&&(n=Error(l(423),{cause:r}),Ha(Yt(n,s))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=Yt(r,s),u=Mc(e.stateNode,r,u),oc(e,u),qe!==4&&(qe=2)),!1;var c=Error(l(520),{cause:r});if(c=Yt(c,s),il===null?il=[c]:il.push(c),qe!==4&&(qe=2),n===null)return!0;r=Yt(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=u&-u,s.lanes|=e,e=Mc(s.stateNode,r,e),oc(s,e),!1;case 1:if(n=s.type,c=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ui===null||!ui.has(c))))return s.flags|=65536,u&=-u,s.lanes|=u,u=Tp(u),Cp(u,e,s,r),oc(s,u),!1}s=s.return}while(s!==null);return!1}var xc=Error(l(461)),Je=!1;function ht(e,n,s,r){n.child=e===null?Rm(n,null,s,r):Ki(n,e.child,s,r)}function wp(e,n,s,r,u){s=s.render;var c=n.ref;if("ref"in r){var d={};for(var _ in r)_!=="ref"&&(d[_]=r[_])}else d=r;return Yi(n),r=mc(e,n,s,d,c,u),_=pc(),e!==null&&!Je?(gc(e,n,u),Rn(e,n,u)):(Se&&_&&Ku(n),n.flags|=1,ht(e,n,r,u),n.child)}function Ap(e,n,s,r,u){if(e===null){var c=s.type;return typeof c=="function"&&!Fu(c)&&c.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=c,Np(e,n,c,r,u)):(e=_r(s.type,null,r,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(c=e.child,!Gc(e,u)){var d=c.memoizedProps;if(s=s.compare,s=s!==null?s:Ua,s(d,r)&&e.ref===n.ref)return Rn(e,n,u)}return n.flags|=1,e=bn(c,r),e.ref=n.ref,e.return=n,n.child=e}function Np(e,n,s,r,u){if(e!==null){var c=e.memoizedProps;if(Ua(c,r)&&e.ref===n.ref)if(Je=!1,n.pendingProps=r=c,Gc(e,u))(e.flags&131072)!==0&&(Je=!0);else return n.lanes=e.lanes,Rn(e,n,u)}return kc(e,n,s,r,u)}function Rp(e,n,s,r){var u=r.children,c=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(c=c!==null?c.baseLanes|s:s,e!==null){for(r=n.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~c}else r=0,n.child=null;return Op(e,n,c,s,r)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Er(n,c!==null?c.cachePool:null),c!==null?Im(n,c):cc(),Mm(n);else return r=n.lanes=536870912,Op(e,n,c!==null?c.baseLanes|s:s,s,r)}else c!==null?(Er(n,c.cachePool),Im(n,c),ai(),n.memoizedState=null):(e!==null&&Er(n,null),cc(),ai());return ht(e,n,u,s),n.child}function Wa(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Op(e,n,s,r,u){var c=sc();return c=c===null?null:{parent:We._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},e!==null&&Er(n,null),cc(),Mm(n),e!==null&&Ds(e,n,r,!0),n.childLanes=u,null}function zr(e,n){return n=Br({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Dp(e,n,s){return Ki(n,e.child,null,s),e=zr(n,n.pendingProps),e.flags|=2,Ht(n),n.memoizedState=null,e}function dE(e,n,s){var r=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Se){if(r.mode==="hidden")return e=zr(n,r),n.lanes=536870912,Wa(null,e);if(hc(n),(e=Le)?(e=Pg(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Zn!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},s=dm(e),s.return=n,n.child=s,ct=n,Le=null)):e=null,e===null)throw $n(n);return n.lanes=536870912,null}return zr(n,r)}var c=e.memoizedState;if(c!==null){var d=c.dehydrated;if(hc(n),u)if(n.flags&256)n.flags&=-257,n=Dp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(l(558));else if(Je||Ds(e,n,s,!1),u=(s&e.childLanes)!==0,Je||u){if(r=ke,r!==null&&(d=Sd(r,s),d!==0&&d!==c.retryLane))throw c.retryLane=d,Gi(e,d),Nt(r,e,d),xc;Xr(),n=Dp(e,n,s)}else e=c.treeContext,Le=Wt(d.nextSibling),ct=n,Se=!0,Jn=null,Xt=!1,e!==null&&gm(n,e),n=zr(n,r),n.flags|=4096;return n}return e=bn(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hr(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function kc(e,n,s,r,u){return Yi(n),s=mc(e,n,s,r,void 0,u),r=pc(),e!==null&&!Je?(gc(e,n,u),Rn(e,n,u)):(Se&&r&&Ku(n),n.flags|=1,ht(e,n,s,u),n.child)}function Ip(e,n,s,r,u,c){return Yi(n),n.updateQueue=null,s=km(n,r,s,u),xm(e),r=pc(),e!==null&&!Je?(gc(e,n,c),Rn(e,n,c)):(Se&&r&&Ku(n),n.flags|=1,ht(e,n,s,c),n.child)}function Mp(e,n,s,r,u){if(Yi(n),n.stateNode===null){var c=As,d=s.contextType;typeof d=="object"&&d!==null&&(c=ft(d)),c=new s(r,c),n.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Ic,n.stateNode=c,c._reactInternals=n,c=n.stateNode,c.props=r,c.state=n.memoizedState,c.refs={},lc(n),d=s.contextType,c.context=typeof d=="object"&&d!==null?ft(d):As,c.state=n.memoizedState,d=s.getDerivedStateFromProps,typeof d=="function"&&(Dc(n,s,d,r),c.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&Ic.enqueueReplaceState(c,c.state,null),Ya(n,r,c,u),Va(),c.state=n.memoizedState),typeof c.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){c=n.stateNode;var _=n.memoizedProps,v=Zi(s,_);c.props=v;var A=c.context,I=s.contextType;d=As,typeof I=="object"&&I!==null&&(d=ft(I));var k=s.getDerivedStateFromProps;I=typeof k=="function"||typeof c.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,I||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(_||A!==d)&&yp(n,c,r,d),ti=!1;var N=n.memoizedState;c.state=N,Ya(n,r,c,u),Va(),A=n.memoizedState,_||N!==A||ti?(typeof k=="function"&&(Dc(n,s,k,r),A=n.memoizedState),(v=ti||_p(n,s,v,r,N,A,d))?(I||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(n.flags|=4194308)):(typeof c.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=A),c.props=r,c.state=A,c.context=d,r=v):(typeof c.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{c=n.stateNode,rc(e,n),d=n.memoizedProps,I=Zi(s,d),c.props=I,k=n.pendingProps,N=c.context,A=s.contextType,v=As,typeof A=="object"&&A!==null&&(v=ft(A)),_=s.getDerivedStateFromProps,(A=typeof _=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==k||N!==v)&&yp(n,c,r,v),ti=!1,N=n.memoizedState,c.state=N,Ya(n,r,c,u),Va();var R=n.memoizedState;d!==k||N!==R||ti||e!==null&&e.dependencies!==null&&vr(e.dependencies)?(typeof _=="function"&&(Dc(n,s,_,r),R=n.memoizedState),(I=ti||_p(n,s,I,r,N,R,v)||e!==null&&e.dependencies!==null&&vr(e.dependencies))?(A||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,R,v),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,R,v)),typeof c.componentDidUpdate=="function"&&(n.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=R),c.props=r,c.state=R,c.context=v,r=I):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),r=!1)}return c=r,Hr(e,n),r=(n.flags&128)!==0,c||r?(c=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:c.render(),n.flags|=1,e!==null&&r?(n.child=Ki(n,e.child,null,u),n.child=Ki(n,null,s,u)):ht(e,n,s,u),n.memoizedState=c.state,e=n.child):e=Rn(e,n,u),e}function xp(e,n,s,r){return qi(),n.flags|=256,ht(e,n,s,r),n.child}var Uc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lc(e){return{baseLanes:e,cachePool:bm()}}function zc(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=jt),e}function kp(e,n,s){var r=n.pendingProps,u=!1,c=(n.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),d&&(u=!0,n.flags&=-129),d=(n.flags&32)!==0,n.flags&=-33,e===null){if(Se){if(u?si(n):ai(),(e=Le)?(e=Pg(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Zn!==null?{id:un,overflow:cn}:null,retryLane:536870912,hydrationErrors:null},s=dm(e),s.return=n,n.child=s,ct=n,Le=null)):e=null,e===null)throw $n(n);return Sf(e)?n.lanes=32:n.lanes=536870912,null}var _=r.children;return r=r.fallback,u?(ai(),u=n.mode,_=Br({mode:"hidden",children:_},u),r=Pi(r,u,s,null),_.return=n,r.return=n,_.sibling=r,n.child=_,r=n.child,r.memoizedState=Lc(s),r.childLanes=zc(e,d,s),n.memoizedState=Uc,Wa(null,r)):(si(n),Hc(n,_))}var v=e.memoizedState;if(v!==null&&(_=v.dehydrated,_!==null)){if(c)n.flags&256?(si(n),n.flags&=-257,n=Bc(e,n,s)):n.memoizedState!==null?(ai(),n.child=e.child,n.flags|=128,n=null):(ai(),_=r.fallback,u=n.mode,r=Br({mode:"visible",children:r.children},u),_=Pi(_,u,s,null),_.flags|=2,r.return=n,_.return=n,r.sibling=_,n.child=r,Ki(n,e.child,null,s),r=n.child,r.memoizedState=Lc(s),r.childLanes=zc(e,d,s),n.memoizedState=Uc,n=Wa(null,r));else if(si(n),Sf(_)){if(d=_.nextSibling&&_.nextSibling.dataset,d)var A=d.dgst;d=A,r=Error(l(419)),r.stack="",r.digest=d,Ha({value:r,source:null,stack:null}),n=Bc(e,n,s)}else if(Je||Ds(e,n,s,!1),d=(s&e.childLanes)!==0,Je||d){if(d=ke,d!==null&&(r=Sd(d,s),r!==0&&r!==v.retryLane))throw v.retryLane=r,Gi(e,r),Nt(d,e,r),xc;vf(_)||Xr(),n=Bc(e,n,s)}else vf(_)?(n.flags|=192,n.child=e.child,n=null):(e=v.treeContext,Le=Wt(_.nextSibling),ct=n,Se=!0,Jn=null,Xt=!1,e!==null&&gm(n,e),n=Hc(n,r.children),n.flags|=4096);return n}return u?(ai(),_=r.fallback,u=n.mode,v=e.child,A=v.sibling,r=bn(v,{mode:"hidden",children:r.children}),r.subtreeFlags=v.subtreeFlags&65011712,A!==null?_=bn(A,_):(_=Pi(_,u,s,null),_.flags|=2),_.return=n,r.return=n,r.sibling=_,n.child=r,Wa(null,r),r=n.child,_=e.child.memoizedState,_===null?_=Lc(s):(u=_.cachePool,u!==null?(v=We._currentValue,u=u.parent!==v?{parent:v,pool:v}:u):u=bm(),_={baseLanes:_.baseLanes|s,cachePool:u}),r.memoizedState=_,r.childLanes=zc(e,d,s),n.memoizedState=Uc,Wa(e.child,r)):(si(n),s=e.child,e=s.sibling,s=bn(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,e!==null&&(d=n.deletions,d===null?(n.deletions=[e],n.flags|=16):d.push(e)),n.child=s,n.memoizedState=null,s)}function Hc(e,n){return n=Br({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Br(e,n){return e=Lt(22,e,null,n),e.lanes=0,e}function Bc(e,n,s){return Ki(n,e.child,null,s),e=Hc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Up(e,n,s){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),ec(e.return,n,s)}function jc(e,n,s,r,u,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:u,treeForkCount:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=s,d.tailMode=u,d.treeForkCount=c)}function Lp(e,n,s){var r=n.pendingProps,u=r.revealOrder,c=r.tail;r=r.children;var d=Fe.current,_=(d&2)!==0;if(_?(d=d&1|2,n.flags|=128):d&=1,H(Fe,d),ht(e,n,r,s),r=Se?za:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Up(e,s,n);else if(e.tag===19)Up(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&Nr(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),jc(n,!1,u,s,c,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Nr(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}jc(n,!0,s,null,c,r);break;case"together":jc(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function Rn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),oi|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ds(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,s=bn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=bn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Gc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&vr(e)))}function mE(e,n,s){switch(n.tag){case 3:ot(n,n.stateNode.containerInfo),ei(n,We,e.memoizedState.cache),qi();break;case 27:case 5:ba(n);break;case 4:ot(n,n.stateNode.containerInfo);break;case 10:ei(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hc(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(si(n),n.flags|=128,null):(s&n.child.childLanes)!==0?kp(e,n,s):(si(n),e=Rn(e,n,s),e!==null?e.sibling:null);si(n);break;case 19:var u=(e.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(Ds(e,n,s,!1),r=(s&n.childLanes)!==0),u){if(r)return Lp(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),H(Fe,Fe.current),r)break;return null;case 22:return n.lanes=0,Rp(e,n,s,n.pendingProps);case 24:ei(n,We,e.memoizedState.cache)}return Rn(e,n,s)}function zp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Je=!0;else{if(!Gc(e,s)&&(n.flags&128)===0)return Je=!1,mE(e,n,s);Je=(e.flags&131072)!==0}else Je=!1,Se&&(n.flags&1048576)!==0&&pm(n,za,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=Qi(n.elementType),n.type=e,typeof e=="function")Fu(e)?(r=Zi(e,r),n.tag=1,n=Mp(null,n,e,r,s)):(n.tag=0,n=kc(null,n,e,r,s));else{if(e!=null){var u=e.$$typeof;if(u===Ee){n.tag=11,n=wp(null,n,e,r,s);break e}else if(u===re){n.tag=14,n=Ap(null,n,e,r,s);break e}}throw n=oe(e)||e,Error(l(306,n,""))}}return n;case 0:return kc(e,n,n.type,n.pendingProps,s);case 1:return r=n.type,u=Zi(r,n.pendingProps),Mp(e,n,r,u,s);case 3:e:{if(ot(n,n.stateNode.containerInfo),e===null)throw Error(l(387));r=n.pendingProps;var c=n.memoizedState;u=c.element,rc(e,n),Ya(n,r,null,s);var d=n.memoizedState;if(r=d.cache,ei(n,We,r),r!==c.cache&&tc(n,[We],s,!0),Va(),r=d.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:d.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=xp(e,n,r,s);break e}else if(r!==u){u=Yt(Error(l(424)),n),Ha(u),n=xp(e,n,r,s);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Le=Wt(e.firstChild),ct=n,Se=!0,Jn=null,Xt=!0,s=Rm(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(qi(),r===u){n=Rn(e,n,s);break e}ht(e,n,r,s)}n=n.child}return n;case 26:return Hr(e,n),e===null?(s=Xg(n.type,null,n.pendingProps,null))?n.memoizedState=s:Se||(s=n.type,e=n.pendingProps,r=to(ee.current).createElement(s),r[ut]=n,r[Et]=e,dt(r,s,e),st(r),n.stateNode=r):n.memoizedState=Xg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ba(n),e===null&&Se&&(r=n.stateNode=Yg(n.type,n.pendingProps,ee.current),ct=n,Xt=!0,u=Le,di(n.type)?(Ef=u,Le=Wt(r.firstChild)):Le=u),ht(e,n,n.pendingProps.children,s),Hr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Se&&((u=r=Le)&&(r=VE(r,n.type,n.pendingProps,Xt),r!==null?(n.stateNode=r,ct=n,Le=Wt(r.firstChild),Xt=!1,u=!0):u=!1),u||$n(n)),ba(n),u=n.type,c=n.pendingProps,d=e!==null?e.memoizedProps:null,r=c.children,gf(u,c)?r=null:d!==null&&gf(u,d)&&(n.flags|=32),n.memoizedState!==null&&(u=mc(e,n,aE,null,null,s),fl._currentValue=u),Hr(e,n),ht(e,n,r,s),n.child;case 6:return e===null&&Se&&((e=s=Le)&&(s=YE(s,n.pendingProps,Xt),s!==null?(n.stateNode=s,ct=n,Le=null,e=!0):e=!1),e||$n(n)),null;case 13:return kp(e,n,s);case 4:return ot(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Ki(n,null,r,s):ht(e,n,r,s),n.child;case 11:return wp(e,n,n.type,n.pendingProps,s);case 7:return ht(e,n,n.pendingProps,s),n.child;case 8:return ht(e,n,n.pendingProps.children,s),n.child;case 12:return ht(e,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,ei(n,n.type,r.value),ht(e,n,r.children,s),n.child;case 9:return u=n.type._context,r=n.pendingProps.children,Yi(n),u=ft(u),r=r(u),n.flags|=1,ht(e,n,r,s),n.child;case 14:return Ap(e,n,n.type,n.pendingProps,s);case 15:return Np(e,n,n.type,n.pendingProps,s);case 19:return Lp(e,n,s);case 31:return dE(e,n,s);case 22:return Rp(e,n,s,n.pendingProps);case 24:return Yi(n),r=ft(We),e===null?(u=sc(),u===null&&(u=ke,c=nc(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=s),u=c),n.memoizedState={parent:r,cache:u},lc(n),ei(n,We,u)):((e.lanes&s)!==0&&(rc(e,n),Ya(n,null,null,s),Va()),u=e.memoizedState,c=n.memoizedState,u.parent!==r?(u={parent:r,cache:r},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ei(n,We,r)):(r=c.cache,ei(n,We,r),r!==u.cache&&tc(n,[We],s,!0))),ht(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function On(e){e.flags|=4}function Pc(e,n,s,r,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(cg())e.flags|=8192;else throw Xi=Tr,ac}else e.flags&=-16777217}function Hp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!$g(n))if(cg())e.flags|=8192;else throw Xi=Tr,ac}function jr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?_d():536870912,e.lanes|=n,Ps|=n)}function Za(e,n){if(!Se)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=s,n}function pE(e,n,s){var r=n.pendingProps;switch(Wu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(n),null;case 1:return ze(n),null;case 3:return s=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),wn(We),Ye(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Os(n)?On(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ju())),ze(n),null;case 26:var u=n.type,c=n.memoizedState;return e===null?(On(n),c!==null?(ze(n),Hp(n,c)):(ze(n),Pc(n,u,null,r,s))):c?c!==e.memoizedState?(On(n),ze(n),Hp(n,c)):(ze(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&On(n),ze(n),Pc(n,u,e,r,s)),null;case 27:if(Zl(n),s=ee.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&On(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return ze(n),null}e=j.current,Os(n)?_m(n):(e=Yg(u,r,s),n.stateNode=e,On(n))}return ze(n),null;case 5:if(Zl(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&On(n);else{if(!r){if(n.stateNode===null)throw Error(l(166));return ze(n),null}if(c=j.current,Os(n))_m(n);else{var d=to(ee.current);switch(c){case 1:c=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:c=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":c=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":c=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":c=d.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof r.is=="string"?d.createElement("select",{is:r.is}):d.createElement("select"),r.multiple?c.multiple=!0:r.size&&(c.size=r.size);break;default:c=typeof r.is=="string"?d.createElement(u,{is:r.is}):d.createElement(u)}}c[ut]=n,c[Et]=r;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)c.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=c;e:switch(dt(c,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&On(n)}}return ze(n),Pc(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&On(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(l(166));if(e=ee.current,Os(n)){if(e=n.stateNode,s=n.memoizedProps,r=null,u=ct,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[ut]=n,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||kg(e.nodeValue,s)),e||$n(n,!0)}else e=to(e).createTextNode(r),e[ut]=n,n.stateNode=e}return ze(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(r=Os(n),s!==null){if(e===null){if(!r)throw Error(l(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ut]=n}else qi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),e=!1}else s=Ju(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Ht(n),n):(Ht(n),null);if((n.flags&128)!==0)throw Error(l(558))}return ze(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Os(n),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[ut]=n}else qi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),u=!1}else u=Ju(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Ht(n),n):(Ht(n),null)}return Ht(n),(n.flags&128)!==0?(n.lanes=s,n):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=n.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==u&&(r.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),jr(n,n.updateQueue),ze(n),null);case 4:return Ye(),e===null&&ff(n.stateNode.containerInfo),ze(n),null;case 10:return wn(n.type),ze(n),null;case 19:if(M(Fe),r=n.memoizedState,r===null)return ze(n),null;if(u=(n.flags&128)!==0,c=r.rendering,c===null)if(u)Za(r,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(c=Nr(e),c!==null){for(n.flags|=128,Za(r,!1),e=c.updateQueue,n.updateQueue=e,jr(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)hm(s,e),s=s.sibling;return H(Fe,Fe.current&1|2),Se&&Tn(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&Mt()>Yr&&(n.flags|=128,u=!0,Za(r,!1),n.lanes=4194304)}else{if(!u)if(e=Nr(c),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,jr(n,e),Za(r,!0),r.tail===null&&r.tailMode==="hidden"&&!c.alternate&&!Se)return ze(n),null}else 2*Mt()-r.renderingStartTime>Yr&&s!==536870912&&(n.flags|=128,u=!0,Za(r,!1),n.lanes=4194304);r.isBackwards?(c.sibling=n.child,n.child=c):(e=r.last,e!==null?e.sibling=c:n.child=c,r.last=c)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Mt(),e.sibling=null,s=Fe.current,H(Fe,u?s&1|2:s&1),Se&&Tn(n,r.treeForkCount),e):(ze(n),null);case 22:case 23:return Ht(n),fc(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(ze(n),n.subtreeFlags&6&&(n.flags|=8192)):ze(n),s=n.updateQueue,s!==null&&jr(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),e!==null&&M(Fi),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),wn(We),ze(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function gE(e,n){switch(Wu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wn(We),Ye(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Zl(n),null;case 31:if(n.memoizedState!==null){if(Ht(n),n.alternate===null)throw Error(l(340));qi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ht(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));qi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return M(Fe),null;case 4:return Ye(),null;case 10:return wn(n.type),null;case 22:case 23:return Ht(n),fc(),e!==null&&M(Fi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wn(We),null;case 25:return null;default:return null}}function Bp(e,n){switch(Wu(n),n.tag){case 3:wn(We),Ye();break;case 26:case 27:case 5:Zl(n);break;case 4:Ye();break;case 31:n.memoizedState!==null&&Ht(n);break;case 13:Ht(n);break;case 19:M(Fe);break;case 10:wn(n.type);break;case 22:case 23:Ht(n),fc(),e!==null&&M(Fi);break;case 24:wn(We)}}function Ja(e,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){r=void 0;var c=s.create,d=s.inst;r=c(),d.destroy=r}s=s.next}while(s!==u)}}catch(_){Re(n,n.return,_)}}function li(e,n,s){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var c=u.next;r=c;do{if((r.tag&e)===e){var d=r.inst,_=d.destroy;if(_!==void 0){d.destroy=void 0,u=n;var v=s,A=_;try{A()}catch(I){Re(u,v,I)}}}r=r.next}while(r!==c)}}catch(I){Re(n,n.return,I)}}function jp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Dm(n,s)}catch(r){Re(e,e.return,r)}}}function Gp(e,n,s){s.props=Zi(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){Re(e,n,r)}}function $a(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(u){Re(e,n,u)}}function fn(e,n){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(u){Re(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Re(e,n,u)}else s.current=null}function Pp(e){var n=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(u){Re(e,e.return,u)}}function qc(e,n,s){try{var r=e.stateNode;HE(r,e.type,s,n),r[Et]=n}catch(u){Re(e,e.return,u)}}function qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&di(e.type)||e.tag===4}function Vc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&di(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yc(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Sn));else if(r!==4&&(r===27&&di(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Yc(e,n,s),e=e.sibling;e!==null;)Yc(e,n,s),e=e.sibling}function Gr(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(r!==4&&(r===27&&di(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Gr(e,n,s),e=e.sibling;e!==null;)Gr(e,n,s),e=e.sibling}function Vp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);dt(n,r,s),n[ut]=e,n[Et]=s}catch(c){Re(e,e.return,c)}}var Dn=!1,$e=!1,Fc=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,at=null;function _E(e,n){if(e=e.containerInfo,mf=oo,e=im(e),Bu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var u=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{s.nodeType,c.nodeType}catch{s=null;break e}var d=0,_=-1,v=-1,A=0,I=0,k=e,N=null;t:for(;;){for(var R;k!==s||u!==0&&k.nodeType!==3||(_=d+u),k!==c||r!==0&&k.nodeType!==3||(v=d+r),k.nodeType===3&&(d+=k.nodeValue.length),(R=k.firstChild)!==null;)N=k,k=R;for(;;){if(k===e)break t;if(N===s&&++A===u&&(_=d),N===c&&++I===r&&(v=d),(R=k.nextSibling)!==null)break;k=N,N=k.parentNode}k=R}s=_===-1||v===-1?null:{start:_,end:v}}else s=null}s=s||{start:0,end:0}}else s=null;for(pf={focusedElem:e,selectionRange:s},oo=!1,at=n;at!==null;)if(n=at,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,at=e;else for(;at!==null;){switch(n=at,c=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)u=e[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,s=n,u=c.memoizedProps,c=c.memoizedState,r=s.stateNode;try{var P=Zi(s.type,u);e=r.getSnapshotBeforeUpdate(P,c),r.__reactInternalSnapshotBeforeUpdate=e}catch(K){Re(s,s.return,K)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)yf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,at=e;break}at=n.return}}function Fp(e,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Mn(e,s),r&4&&Ja(5,s);break;case 1:if(Mn(e,s),r&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(d){Re(s,s.return,d)}else{var u=Zi(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Re(s,s.return,d)}}r&64&&jp(s),r&512&&$a(s,s.return);break;case 3:if(Mn(e,s),r&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Dm(e,n)}catch(d){Re(s,s.return,d)}}break;case 27:n===null&&r&4&&Vp(s);case 26:case 5:Mn(e,s),n===null&&r&4&&Pp(s),r&512&&$a(s,s.return);break;case 12:Mn(e,s);break;case 31:Mn(e,s),r&4&&Kp(e,s);break;case 13:Mn(e,s),r&4&&Wp(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=AE.bind(null,s),FE(e,s))));break;case 22:if(r=s.memoizedState!==null||Dn,!r){n=n!==null&&n.memoizedState!==null||$e,u=Dn;var c=$e;Dn=r,($e=n)&&!c?xn(e,s,(s.subtreeFlags&8772)!==0):Mn(e,s),Dn=u,$e=c}break;case 30:break;default:Mn(e,s)}}function Qp(e){var n=e.alternate;n!==null&&(e.alternate=null,Qp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&bu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,Tt=!1;function In(e,n,s){for(s=s.child;s!==null;)Xp(e,n,s),s=s.sibling}function Xp(e,n,s){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Ta,s)}catch{}switch(s.tag){case 26:$e||fn(s,n),In(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:$e||fn(s,n);var r=je,u=Tt;di(s.type)&&(je=s.stateNode,Tt=!1),In(e,n,s),ol(s.stateNode),je=r,Tt=u;break;case 5:$e||fn(s,n);case 6:if(r=je,u=Tt,je=null,In(e,n,s),je=r,Tt=u,je!==null)if(Tt)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(s.stateNode)}catch(c){Re(s,n,c)}else try{je.removeChild(s.stateNode)}catch(c){Re(s,n,c)}break;case 18:je!==null&&(Tt?(e=je,jg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ws(e)):jg(je,s.stateNode));break;case 4:r=je,u=Tt,je=s.stateNode.containerInfo,Tt=!0,In(e,n,s),je=r,Tt=u;break;case 0:case 11:case 14:case 15:li(2,s,n),$e||li(4,s,n),In(e,n,s);break;case 1:$e||(fn(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Gp(s,n,r)),In(e,n,s);break;case 21:In(e,n,s);break;case 22:$e=(r=$e)||s.memoizedState!==null,In(e,n,s),$e=r;break;default:In(e,n,s)}}function Kp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ws(e)}catch(s){Re(n,n.return,s)}}}function Wp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ws(e)}catch(s){Re(n,n.return,s)}}function yE(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Yp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Yp),n;default:throw Error(l(435,e.tag))}}function Pr(e,n){var s=yE(e);n.forEach(function(r){if(!s.has(r)){s.add(r);var u=NE.bind(null,e,r);r.then(u,u)}})}function Ct(e,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var u=s[r],c=e,d=n,_=d;e:for(;_!==null;){switch(_.tag){case 27:if(di(_.type)){je=_.stateNode,Tt=!1;break e}break;case 5:je=_.stateNode,Tt=!1;break e;case 3:case 4:je=_.stateNode.containerInfo,Tt=!0;break e}_=_.return}if(je===null)throw Error(l(160));Xp(c,d,u),je=null,Tt=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Zp(n,e),n=n.sibling}var en=null;function Zp(e,n){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ct(n,e),wt(e),r&4&&(li(3,e,e.return),Ja(3,e),li(5,e,e.return));break;case 1:Ct(n,e),wt(e),r&512&&($e||s===null||fn(s,s.return)),r&64&&Dn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var u=en;if(Ct(n,e),wt(e),r&512&&($e||s===null||fn(s,s.return)),r&4){var c=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":c=u.getElementsByTagName("title")[0],(!c||c[Aa]||c[ut]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(r),u.head.insertBefore(c,u.querySelector("head > title"))),dt(c,r,s),c[ut]=e,st(c),r=c;break e;case"link":var d=Zg("link","href",u).get(r+(s.href||""));if(d){for(var _=0;_<d.length;_++)if(c=d[_],c.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&c.getAttribute("rel")===(s.rel==null?null:s.rel)&&c.getAttribute("title")===(s.title==null?null:s.title)&&c.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){d.splice(_,1);break t}}c=u.createElement(r),dt(c,r,s),u.head.appendChild(c);break;case"meta":if(d=Zg("meta","content",u).get(r+(s.content||""))){for(_=0;_<d.length;_++)if(c=d[_],c.getAttribute("content")===(s.content==null?null:""+s.content)&&c.getAttribute("name")===(s.name==null?null:s.name)&&c.getAttribute("property")===(s.property==null?null:s.property)&&c.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&c.getAttribute("charset")===(s.charSet==null?null:s.charSet)){d.splice(_,1);break t}}c=u.createElement(r),dt(c,r,s),u.head.appendChild(c);break;default:throw Error(l(468,r))}c[ut]=e,st(c),r=c}e.stateNode=r}else Jg(u,e.type,e.stateNode);else e.stateNode=Wg(u,r,e.memoizedProps);else c!==r?(c===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):c.count--,r===null?Jg(u,e.type,e.stateNode):Wg(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&qc(e,e.memoizedProps,s.memoizedProps)}break;case 27:Ct(n,e),wt(e),r&512&&($e||s===null||fn(s,s.return)),s!==null&&r&4&&qc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Ct(n,e),wt(e),r&512&&($e||s===null||fn(s,s.return)),e.flags&32){u=e.stateNode;try{vs(u,"")}catch(P){Re(e,e.return,P)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,qc(e,u,s!==null?s.memoizedProps:u)),r&1024&&(Fc=!0);break;case 6:if(Ct(n,e),wt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(P){Re(e,e.return,P)}}break;case 3:if(so=null,u=en,en=no(n.containerInfo),Ct(n,e),en=u,wt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Ws(n.containerInfo)}catch(P){Re(e,e.return,P)}Fc&&(Fc=!1,Jp(e));break;case 4:r=en,en=no(e.stateNode.containerInfo),Ct(n,e),wt(e),en=r;break;case 12:Ct(n,e),wt(e);break;case 31:Ct(n,e),wt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Pr(e,r)));break;case 13:Ct(n,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Vr=Mt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Pr(e,r)));break;case 22:u=e.memoizedState!==null;var v=s!==null&&s.memoizedState!==null,A=Dn,I=$e;if(Dn=A||u,$e=I||v,Ct(n,e),$e=I,Dn=A,wt(e),r&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(s===null||v||Dn||$e||Ji(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){v=s=n;try{if(c=v.stateNode,u)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=v.stateNode;var k=v.memoizedProps.style,N=k!=null&&k.hasOwnProperty("display")?k.display:null;_.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(P){Re(v,v.return,P)}}}else if(n.tag===6){if(s===null){v=n;try{v.stateNode.nodeValue=u?"":v.memoizedProps}catch(P){Re(v,v.return,P)}}}else if(n.tag===18){if(s===null){v=n;try{var R=v.stateNode;u?Gg(R,!0):Gg(v.stateNode,!1)}catch(P){Re(v,v.return,P)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,Pr(e,s))));break;case 19:Ct(n,e),wt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Pr(e,r)));break;case 30:break;case 21:break;default:Ct(n,e),wt(e)}}function wt(e){var n=e.flags;if(n&2){try{for(var s,r=e.return;r!==null;){if(qp(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var u=s.stateNode,c=Vc(e);Gr(e,c,u);break;case 5:var d=s.stateNode;s.flags&32&&(vs(d,""),s.flags&=-33);var _=Vc(e);Gr(e,_,d);break;case 3:case 4:var v=s.stateNode.containerInfo,A=Vc(e);Yc(e,A,v);break;default:throw Error(l(161))}}catch(I){Re(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Jp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Jp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Mn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fp(e,n.alternate,n),n=n.sibling}function Ji(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:li(4,n,n.return),Ji(n);break;case 1:fn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Gp(n,n.return,s),Ji(n);break;case 27:ol(n.stateNode);case 26:case 5:fn(n,n.return),Ji(n);break;case 22:n.memoizedState===null&&Ji(n);break;case 30:Ji(n);break;default:Ji(n)}e=e.sibling}}function xn(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,u=e,c=n,d=c.flags;switch(c.tag){case 0:case 11:case 15:xn(u,c,s),Ja(4,c);break;case 1:if(xn(u,c,s),r=c,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(A){Re(r,r.return,A)}if(r=c,u=r.updateQueue,u!==null){var _=r.stateNode;try{var v=u.shared.hiddenCallbacks;if(v!==null)for(u.shared.hiddenCallbacks=null,u=0;u<v.length;u++)Om(v[u],_)}catch(A){Re(r,r.return,A)}}s&&d&64&&jp(c),$a(c,c.return);break;case 27:Vp(c);case 26:case 5:xn(u,c,s),s&&r===null&&d&4&&Pp(c),$a(c,c.return);break;case 12:xn(u,c,s);break;case 31:xn(u,c,s),s&&d&4&&Kp(u,c);break;case 13:xn(u,c,s),s&&d&4&&Wp(u,c);break;case 22:c.memoizedState===null&&xn(u,c,s),$a(c,c.return);break;case 30:break;default:xn(u,c,s)}n=n.sibling}}function Qc(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ba(s))}function Xc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ba(e))}function tn(e,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$p(e,n,s,r),n=n.sibling}function $p(e,n,s,r){var u=n.flags;switch(n.tag){case 0:case 11:case 15:tn(e,n,s,r),u&2048&&Ja(9,n);break;case 1:tn(e,n,s,r);break;case 3:tn(e,n,s,r),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ba(e)));break;case 12:if(u&2048){tn(e,n,s,r),e=n.stateNode;try{var c=n.memoizedProps,d=c.id,_=c.onPostCommit;typeof _=="function"&&_(d,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){Re(n,n.return,v)}}else tn(e,n,s,r);break;case 31:tn(e,n,s,r);break;case 13:tn(e,n,s,r);break;case 23:break;case 22:c=n.stateNode,d=n.alternate,n.memoizedState!==null?c._visibility&2?tn(e,n,s,r):el(e,n):c._visibility&2?tn(e,n,s,r):(c._visibility|=2,Bs(e,n,s,r,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Qc(d,n);break;case 24:tn(e,n,s,r),u&2048&&Xc(n.alternate,n);break;default:tn(e,n,s,r)}}function Bs(e,n,s,r,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var c=e,d=n,_=s,v=r,A=d.flags;switch(d.tag){case 0:case 11:case 15:Bs(c,d,_,v,u),Ja(8,d);break;case 23:break;case 22:var I=d.stateNode;d.memoizedState!==null?I._visibility&2?Bs(c,d,_,v,u):el(c,d):(I._visibility|=2,Bs(c,d,_,v,u)),u&&A&2048&&Qc(d.alternate,d);break;case 24:Bs(c,d,_,v,u),u&&A&2048&&Xc(d.alternate,d);break;default:Bs(c,d,_,v,u)}n=n.sibling}}function el(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,r=n,u=r.flags;switch(r.tag){case 22:el(s,r),u&2048&&Qc(r.alternate,r);break;case 24:el(s,r),u&2048&&Xc(r.alternate,r);break;default:el(s,r)}n=n.sibling}}var tl=8192;function js(e,n,s){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)eg(e,n,s),e=e.sibling}function eg(e,n,s){switch(e.tag){case 26:js(e,n,s),e.flags&tl&&e.memoizedState!==null&&sb(s,en,e.memoizedState,e.memoizedProps);break;case 5:js(e,n,s);break;case 3:case 4:var r=en;en=no(e.stateNode.containerInfo),js(e,n,s),en=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=tl,tl=16777216,js(e,n,s),tl=r):js(e,n,s));break;default:js(e,n,s)}}function tg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];at=r,ig(r,e)}tg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ng(e),e=e.sibling}function ng(e){switch(e.tag){case 0:case 11:case 15:nl(e),e.flags&2048&&li(9,e,e.return);break;case 3:nl(e);break;case 12:nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,qr(e)):nl(e);break;default:nl(e)}}function qr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];at=r,ig(r,e)}tg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:li(8,n,n.return),qr(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,qr(n));break;default:qr(n)}e=e.sibling}}function ig(e,n){for(;at!==null;){var s=at;switch(s.tag){case 0:case 11:case 15:li(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ba(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,at=r;else e:for(s=e;at!==null;){r=at;var u=r.sibling,c=r.return;if(Qp(r),r===s){at=null;break e}if(u!==null){u.return=c,at=u;break e}at=c}}}var vE={getCacheForType:function(e){var n=ft(We),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return ft(We).controller.signal}},SE=typeof WeakMap=="function"?WeakMap:Map,Ae=0,ke=null,me=null,ye=0,Ne=0,Bt=null,ri=!1,Gs=!1,Kc=!1,kn=0,qe=0,oi=0,$i=0,Wc=0,jt=0,Ps=0,il=null,At=null,Zc=!1,Vr=0,sg=0,Yr=1/0,Fr=null,ui=null,et=0,ci=null,qs=null,Un=0,Jc=0,$c=null,ag=null,sl=0,ef=null;function Gt(){return(Ae&2)!==0&&ye!==0?ye&-ye:O.T!==null?rf():Ed()}function lg(){if(jt===0)if((ye&536870912)===0||Se){var e=er;er<<=1,(er&3932160)===0&&(er=262144),jt=e}else jt=536870912;return e=zt.current,e!==null&&(e.flags|=32),jt}function Nt(e,n,s){(e===ke&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(Vs(e,0),fi(e,ye,jt,!1)),wa(e,s),((Ae&2)===0||e!==ke)&&(e===ke&&((Ae&2)===0&&($i|=s),qe===4&&fi(e,ye,jt,!1)),hn(e))}function rg(e,n,s){if((Ae&6)!==0)throw Error(l(327));var r=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ca(e,n),u=r?TE(e,n):nf(e,n,!0),c=r;do{if(u===0){Gs&&!r&&fi(e,n,0,!1);break}else{if(s=e.current.alternate,c&&!EE(s)){u=nf(e,n,!1),c=!1;continue}if(u===2){if(c=n,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){n=d;e:{var _=e;u=il;var v=_.current.memoizedState.isDehydrated;if(v&&(Vs(_,d).flags|=256),d=nf(_,d,!1),d!==2){if(Kc&&!v){_.errorRecoveryDisabledLanes|=c,$i|=c,u=4;break e}c=At,At=u,c!==null&&(At===null?At=c:At.push.apply(At,c))}u=d}if(c=!1,u!==2)continue}}if(u===1){Vs(e,0),fi(e,n,0,!0);break}e:{switch(r=e,c=u,c){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:fi(r,n,jt,!ri);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=Vr+300-Mt(),10<u)){if(fi(r,n,jt,!ri),nr(r,0,!0)!==0)break e;Un=n,r.timeoutHandle=Hg(og.bind(null,r,s,At,Fr,Zc,n,jt,$i,Ps,ri,c,"Throttled",-0,0),u);break e}og(r,s,At,Fr,Zc,n,jt,$i,Ps,ri,c,null,-0,0)}}break}while(!0);hn(e)}function og(e,n,s,r,u,c,d,_,v,A,I,k,N,R){if(e.timeoutHandle=-1,k=n.subtreeFlags,k&8192||(k&16785408)===16785408){k={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sn},eg(n,c,k);var P=(c&62914560)===c?Vr-Mt():(c&4194048)===c?sg-Mt():0;if(P=ab(k,P),P!==null){Un=c,e.cancelPendingCommit=P(gg.bind(null,e,n,c,s,r,u,d,_,v,I,k,null,N,R)),fi(e,c,d,!A);return}}gg(e,n,c,s,r,u,d,_,v)}function EE(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var u=s[r],c=u.getSnapshot;u=u.value;try{if(!Ut(c(),u))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fi(e,n,s,r){n&=~Wc,n&=~$i,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var u=n;0<u;){var c=31-kt(u),d=1<<c;r[c]=-1,u&=~d}s!==0&&yd(e,s,n)}function Qr(){return(Ae&6)===0?(al(0),!1):!0}function tf(){if(me!==null){if(Ne===0)var e=me.return;else e=me,Cn=Vi=null,_c(e),ks=null,Ga=0,e=me;for(;e!==null;)Bp(e.alternate,e),e=e.return;me=null}}function Vs(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,GE(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Un=0,tf(),ke=e,me=s=bn(e.current,null),ye=n,Ne=0,Bt=null,ri=!1,Gs=Ca(e,n),Kc=!1,Ps=jt=Wc=$i=oi=qe=0,At=il=null,Zc=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var u=31-kt(r),c=1<<u;n|=e[u],r&=~c}return kn=n,mr(),s}function ug(e,n){ie=null,O.H=Ka,n===xs||n===br?(n=wm(),Ne=3):n===ac?(n=wm(),Ne=4):Ne=n===xc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Bt=n,me===null&&(qe=1,Lr(e,Yt(n,e.current)))}function cg(){var e=zt.current;return e===null?!0:(ye&4194048)===ye?Kt===null:(ye&62914560)===ye||(ye&536870912)!==0?e===Kt:!1}function fg(){var e=O.H;return O.H=Ka,e===null?Ka:e}function hg(){var e=O.A;return O.A=vE,e}function Xr(){qe=4,ri||(ye&4194048)!==ye&&zt.current!==null||(Gs=!0),(oi&134217727)===0&&($i&134217727)===0||ke===null||fi(ke,ye,jt,!1)}function nf(e,n,s){var r=Ae;Ae|=2;var u=fg(),c=hg();(ke!==e||ye!==n)&&(Fr=null,Vs(e,n)),n=!1;var d=qe;e:do try{if(Ne!==0&&me!==null){var _=me,v=Bt;switch(Ne){case 8:tf(),d=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(n=!0);var A=Ne;if(Ne=0,Bt=null,Ys(e,_,v,A),s&&Gs){d=0;break e}break;default:A=Ne,Ne=0,Bt=null,Ys(e,_,v,A)}}bE(),d=qe;break}catch(I){ug(e,I)}while(!0);return n&&e.shellSuspendCounter++,Cn=Vi=null,Ae=r,O.H=u,O.A=c,me===null&&(ke=null,ye=0,mr()),d}function bE(){for(;me!==null;)dg(me)}function TE(e,n){var s=Ae;Ae|=2;var r=fg(),u=hg();ke!==e||ye!==n?(Fr=null,Yr=Mt()+500,Vs(e,n)):Gs=Ca(e,n);e:do try{if(Ne!==0&&me!==null){n=me;var c=Bt;t:switch(Ne){case 1:Ne=0,Bt=null,Ys(e,n,c,1);break;case 2:case 9:if(Tm(c)){Ne=0,Bt=null,mg(n);break}n=function(){Ne!==2&&Ne!==9||ke!==e||(Ne=7),hn(e)},c.then(n,n);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Tm(c)?(Ne=0,Bt=null,mg(n)):(Ne=0,Bt=null,Ys(e,n,c,7));break;case 5:var d=null;switch(me.tag){case 26:d=me.memoizedState;case 5:case 27:var _=me;if(d?$g(d):_.stateNode.complete){Ne=0,Bt=null;var v=_.sibling;if(v!==null)me=v;else{var A=_.return;A!==null?(me=A,Kr(A)):me=null}break t}}Ne=0,Bt=null,Ys(e,n,c,5);break;case 6:Ne=0,Bt=null,Ys(e,n,c,6);break;case 8:tf(),qe=6;break e;default:throw Error(l(462))}}CE();break}catch(I){ug(e,I)}while(!0);return Cn=Vi=null,O.H=r,O.A=u,Ae=s,me!==null?0:(ke=null,ye=0,mr(),qe)}function CE(){for(;me!==null&&!Q0();)dg(me)}function dg(e){var n=zp(e.alternate,e,kn);e.memoizedProps=e.pendingProps,n===null?Kr(e):me=n}function mg(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Ip(s,n,n.pendingProps,n.type,void 0,ye);break;case 11:n=Ip(s,n,n.pendingProps,n.type.render,n.ref,ye);break;case 5:_c(n);default:Bp(s,n),n=me=hm(n,kn),n=zp(s,n,kn)}e.memoizedProps=e.pendingProps,n===null?Kr(e):me=n}function Ys(e,n,s,r){Cn=Vi=null,_c(n),ks=null,Ga=0;var u=n.return;try{if(hE(e,u,n,s,ye)){qe=1,Lr(e,Yt(s,e.current)),me=null;return}}catch(c){if(u!==null)throw me=u,c;qe=1,Lr(e,Yt(s,e.current)),me=null;return}n.flags&32768?(Se||r===1?e=!0:Gs||(ye&536870912)!==0?e=!1:(ri=e=!0,(r===2||r===9||r===3||r===6)&&(r=zt.current,r!==null&&r.tag===13&&(r.flags|=16384))),pg(n,e)):Kr(n)}function Kr(e){var n=e;do{if((n.flags&32768)!==0){pg(n,ri);return}e=n.return;var s=pE(n.alternate,n,kn);if(s!==null){me=s;return}if(n=n.sibling,n!==null){me=n;return}me=n=e}while(n!==null);qe===0&&(qe=5)}function pg(e,n){do{var s=gE(e.alternate,e);if(s!==null){s.flags&=32767,me=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){me=e;return}me=e=s}while(e!==null);qe=6,me=null}function gg(e,n,s,r,u,c,d,_,v){e.cancelPendingCommit=null;do Wr();while(et!==0);if((Ae&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(c=n.lanes|n.childLanes,c|=Vu,iS(e,s,c,d,_,v),e===ke&&(me=ke=null,ye=0),qs=n,ci=e,Un=s,Jc=c,$c=u,ag=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,RE(Jl,function(){return Eg(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=O.T,O.T=null,u=z.p,z.p=2,d=Ae,Ae|=4;try{_E(e,n,s)}finally{Ae=d,z.p=u,O.T=r}}et=1,_g(),yg(),vg()}}function _g(){if(et===1){et=0;var e=ci,n=qs,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=O.T,O.T=null;var r=z.p;z.p=2;var u=Ae;Ae|=4;try{Zp(n,e);var c=pf,d=im(e.containerInfo),_=c.focusedElem,v=c.selectionRange;if(d!==_&&_&&_.ownerDocument&&nm(_.ownerDocument.documentElement,_)){if(v!==null&&Bu(_)){var A=v.start,I=v.end;if(I===void 0&&(I=A),"selectionStart"in _)_.selectionStart=A,_.selectionEnd=Math.min(I,_.value.length);else{var k=_.ownerDocument||document,N=k&&k.defaultView||window;if(N.getSelection){var R=N.getSelection(),P=_.textContent.length,K=Math.min(v.start,P),Me=v.end===void 0?K:Math.min(v.end,P);!R.extend&&K>Me&&(d=Me,Me=K,K=d);var C=tm(_,K),b=tm(_,Me);if(C&&b&&(R.rangeCount!==1||R.anchorNode!==C.node||R.anchorOffset!==C.offset||R.focusNode!==b.node||R.focusOffset!==b.offset)){var w=k.createRange();w.setStart(C.node,C.offset),R.removeAllRanges(),K>Me?(R.addRange(w),R.extend(b.node,b.offset)):(w.setEnd(b.node,b.offset),R.addRange(w))}}}}for(k=[],R=_;R=R.parentNode;)R.nodeType===1&&k.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<k.length;_++){var x=k[_];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}oo=!!mf,pf=mf=null}finally{Ae=u,z.p=r,O.T=s}}e.current=n,et=2}}function yg(){if(et===2){et=0;var e=ci,n=qs,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=O.T,O.T=null;var r=z.p;z.p=2;var u=Ae;Ae|=4;try{Fp(e,n.alternate,n)}finally{Ae=u,z.p=r,O.T=s}}et=3}}function vg(){if(et===4||et===3){et=0,X0();var e=ci,n=qs,s=Un,r=ag;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?et=5:(et=0,qs=ci=null,Sg(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ui=null),Su(s),n=n.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Ta,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=O.T,u=z.p,z.p=2,O.T=null;try{for(var c=e.onRecoverableError,d=0;d<r.length;d++){var _=r[d];c(_.value,{componentStack:_.stack})}}finally{O.T=n,z.p=u}}(Un&3)!==0&&Wr(),hn(e),u=e.pendingLanes,(s&261930)!==0&&(u&42)!==0?e===ef?sl++:(sl=0,ef=e):sl=0,al(0)}}function Sg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ba(n)))}function Wr(){return _g(),yg(),vg(),Eg()}function Eg(){if(et!==5)return!1;var e=ci,n=Jc;Jc=0;var s=Su(Un),r=O.T,u=z.p;try{z.p=32>s?32:s,O.T=null,s=$c,$c=null;var c=ci,d=Un;if(et=0,qs=ci=null,Un=0,(Ae&6)!==0)throw Error(l(331));var _=Ae;if(Ae|=4,ng(c.current),$p(c,c.current,d,s),Ae=_,al(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Ta,c)}catch{}return!0}finally{z.p=u,O.T=r,Sg(e,n)}}function bg(e,n,s){n=Yt(s,n),n=Mc(e.stateNode,n,2),e=ii(e,n,2),e!==null&&(wa(e,2),hn(e))}function Re(e,n,s){if(e.tag===3)bg(e,e,s);else for(;n!==null;){if(n.tag===3){bg(n,e,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ui===null||!ui.has(r))){e=Yt(s,e),s=Tp(2),r=ii(n,s,2),r!==null&&(Cp(s,r,n,e),wa(r,2),hn(r));break}}n=n.return}}function sf(e,n,s){var r=e.pingCache;if(r===null){r=e.pingCache=new SE;var u=new Set;r.set(n,u)}else u=r.get(n),u===void 0&&(u=new Set,r.set(n,u));u.has(s)||(Kc=!0,u.add(s),e=wE.bind(null,e,n,s),n.then(e,e))}function wE(e,n,s){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ke===e&&(ye&s)===s&&(qe===4||qe===3&&(ye&62914560)===ye&&300>Mt()-Vr?(Ae&2)===0&&Vs(e,0):Wc|=s,Ps===ye&&(Ps=0)),hn(e)}function Tg(e,n){n===0&&(n=_d()),e=Gi(e,n),e!==null&&(wa(e,n),hn(e))}function AE(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Tg(e,s)}function NE(e,n){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(n),Tg(e,s)}function RE(e,n){return gu(e,n)}var Zr=null,Fs=null,af=!1,Jr=!1,lf=!1,hi=0;function hn(e){e!==Fs&&e.next===null&&(Fs===null?Zr=Fs=e:Fs=Fs.next=e),Jr=!0,af||(af=!0,DE())}function al(e,n){if(!lf&&Jr){lf=!0;do for(var s=!1,r=Zr;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var c=0;else{var d=r.suspendedLanes,_=r.pingedLanes;c=(1<<31-kt(42|e)+1)-1,c&=u&~(d&~_),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(s=!0,Ng(r,c))}else c=ye,c=nr(r,r===ke?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(c&3)===0||Ca(r,c)||(s=!0,Ng(r,c));r=r.next}while(s);lf=!1}}function OE(){Cg()}function Cg(){Jr=af=!1;var e=0;hi!==0&&jE()&&(e=hi);for(var n=Mt(),s=null,r=Zr;r!==null;){var u=r.next,c=wg(r,n);c===0?(r.next=null,s===null?Zr=u:s.next=u,u===null&&(Fs=s)):(s=r,(e!==0||(c&3)!==0)&&(Jr=!0)),r=u}et!==0&&et!==5||al(e),hi!==0&&(hi=0)}function wg(e,n){for(var s=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-kt(c),_=1<<d,v=u[d];v===-1?((_&s)===0||(_&r)!==0)&&(u[d]=nS(_,n)):v<=n&&(e.expiredLanes|=_),c&=~_}if(n=ke,s=ye,s=nr(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===n&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&_u(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ca(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(r!==null&&_u(r),Su(s)){case 2:case 8:s=pd;break;case 32:s=Jl;break;case 268435456:s=gd;break;default:s=Jl}return r=Ag.bind(null,e),s=gu(s,r),e.callbackPriority=n,e.callbackNode=s,n}return r!==null&&r!==null&&_u(r),e.callbackPriority=2,e.callbackNode=null,2}function Ag(e,n){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Wr()&&e.callbackNode!==s)return null;var r=ye;return r=nr(e,e===ke?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(rg(e,r,n),wg(e,Mt()),e.callbackNode!=null&&e.callbackNode===s?Ag.bind(null,e):null)}function Ng(e,n){if(Wr())return null;rg(e,n,!0)}function DE(){PE(function(){(Ae&6)!==0?gu(md,OE):Cg()})}function rf(){if(hi===0){var e=Is;e===0&&(e=$l,$l<<=1,($l&261888)===0&&($l=256)),hi=e}return hi}function Rg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:lr(""+e)}function Og(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function IE(e,n,s,r,u){if(n==="submit"&&s&&s.stateNode===u){var c=Rg((u[Et]||null).action),d=r.submitter;d&&(n=(n=d[Et]||null)?Rg(n.formAction):d.getAttribute("formAction"),n!==null&&(c=n,d=null));var _=new cr("action","action",null,r,u);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(hi!==0){var v=d?Og(u,d):new FormData(u);Ac(s,{pending:!0,data:v,method:u.method,action:c},null,v)}}else typeof c=="function"&&(_.preventDefault(),v=d?Og(u,d):new FormData(u),Ac(s,{pending:!0,data:v,method:u.method,action:c},c,v))},currentTarget:u}]})}}for(var of=0;of<qu.length;of++){var uf=qu[of],ME=uf.toLowerCase(),xE=uf[0].toUpperCase()+uf.slice(1);$t(ME,"on"+xE)}$t(lm,"onAnimationEnd"),$t(rm,"onAnimationIteration"),$t(om,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(KS,"onTransitionRun"),$t(WS,"onTransitionStart"),$t(ZS,"onTransitionCancel"),$t(um,"onTransitionEnd"),_s("onMouseEnter",["mouseout","mouseover"]),_s("onMouseLeave",["mouseout","mouseover"]),_s("onPointerEnter",["pointerout","pointerover"]),_s("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function Dg(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],u=r.event;r=r.listeners;e:{var c=void 0;if(n)for(var d=r.length-1;0<=d;d--){var _=r[d],v=_.instance,A=_.currentTarget;if(_=_.listener,v!==c&&u.isPropagationStopped())break e;c=_,u.currentTarget=A;try{c(u)}catch(I){dr(I)}u.currentTarget=null,c=v}else for(d=0;d<r.length;d++){if(_=r[d],v=_.instance,A=_.currentTarget,_=_.listener,v!==c&&u.isPropagationStopped())break e;c=_,u.currentTarget=A;try{c(u)}catch(I){dr(I)}u.currentTarget=null,c=v}}}}function pe(e,n){var s=n[Eu];s===void 0&&(s=n[Eu]=new Set);var r=e+"__bubble";s.has(r)||(Ig(n,e,2,!1),s.add(r))}function cf(e,n,s){var r=0;n&&(r|=4),Ig(s,e,r,n)}var $r="_reactListening"+Math.random().toString(36).slice(2);function ff(e){if(!e[$r]){e[$r]=!0,Cd.forEach(function(s){s!=="selectionchange"&&(kE.has(s)||cf(s,!1,e),cf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[$r]||(n[$r]=!0,cf("selectionchange",!1,n))}}function Ig(e,n,s,r){switch(l_(n)){case 2:var u=ob;break;case 8:u=ub;break;default:u=Af}s=u.bind(null,n,s,e),u=void 0,!Du||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function hf(e,n,s,r,u){var c=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var _=r.stateNode.containerInfo;if(_===u)break;if(d===4)for(d=r.return;d!==null;){var v=d.tag;if((v===3||v===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;_!==null;){if(d=ms(_),d===null)return;if(v=d.tag,v===5||v===6||v===26||v===27){r=c=d;continue e}_=_.parentNode}}r=r.return}Ld(function(){var A=c,I=Ru(s),k=[];e:{var N=cm.get(e);if(N!==void 0){var R=cr,P=e;switch(e){case"keypress":if(or(s)===0)break e;case"keydown":case"keyup":R=NS;break;case"focusin":P="focus",R=ku;break;case"focusout":P="blur",R=ku;break;case"beforeblur":case"afterblur":R=ku;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=pS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=DS;break;case lm:case rm:case om:R=yS;break;case um:R=MS;break;case"scroll":case"scrollend":R=dS;break;case"wheel":R=kS;break;case"copy":case"cut":case"paste":R=SS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Gd;break;case"toggle":case"beforetoggle":R=LS}var K=(n&4)!==0,Me=!K&&(e==="scroll"||e==="scrollend"),C=K?N!==null?N+"Capture":null:N;K=[];for(var b=A,w;b!==null;){var x=b;if(w=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||w===null||C===null||(x=Ra(b,C),x!=null&&K.push(rl(b,x,w))),Me)break;b=b.return}0<K.length&&(N=new R(N,P,null,s,I),k.push({event:N,listeners:K}))}}if((n&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",N&&s!==Nu&&(P=s.relatedTarget||s.fromElement)&&(ms(P)||P[ds]))break e;if((R||N)&&(N=I.window===I?I:(N=I.ownerDocument)?N.defaultView||N.parentWindow:window,R?(P=s.relatedTarget||s.toElement,R=A,P=P?ms(P):null,P!==null&&(Me=f(P),K=P.tag,P!==Me||K!==5&&K!==27&&K!==6)&&(P=null)):(R=null,P=A),R!==P)){if(K=Bd,x="onMouseLeave",C="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(K=Gd,x="onPointerLeave",C="onPointerEnter",b="pointer"),Me=R==null?N:Na(R),w=P==null?N:Na(P),N=new K(x,b+"leave",R,s,I),N.target=Me,N.relatedTarget=w,x=null,ms(I)===A&&(K=new K(C,b+"enter",P,s,I),K.target=w,K.relatedTarget=Me,x=K),Me=x,R&&P)t:{for(K=UE,C=R,b=P,w=0,x=C;x;x=K(x))w++;x=0;for(var F=b;F;F=K(F))x++;for(;0<w-x;)C=K(C),w--;for(;0<x-w;)b=K(b),x--;for(;w--;){if(C===b||b!==null&&C===b.alternate){K=C;break t}C=K(C),b=K(b)}K=null}else K=null;R!==null&&Mg(k,N,R,K,!1),P!==null&&Me!==null&&Mg(k,Me,P,K,!0)}}e:{if(N=A?Na(A):window,R=N.nodeName&&N.nodeName.toLowerCase(),R==="select"||R==="input"&&N.type==="file")var Te=Kd;else if(Qd(N))if(Wd)Te=FS;else{Te=VS;var V=qS}else R=N.nodeName,!R||R.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?A&&Au(A.elementType)&&(Te=Kd):Te=YS;if(Te&&(Te=Te(e,A))){Xd(k,Te,s,I);break e}V&&V(e,N,A),e==="focusout"&&A&&N.type==="number"&&A.memoizedProps.value!=null&&wu(N,"number",N.value)}switch(V=A?Na(A):window,e){case"focusin":(Qd(V)||V.contentEditable==="true")&&(Ts=V,ju=A,La=null);break;case"focusout":La=ju=Ts=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,sm(k,s,I);break;case"selectionchange":if(XS)break;case"keydown":case"keyup":sm(k,s,I)}var le;if(Lu)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else bs?Yd(e,s)&&(ve="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ve="onCompositionStart");ve&&(Pd&&s.locale!=="ko"&&(bs||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&bs&&(le=zd()):(Wn=I,Iu="value"in Wn?Wn.value:Wn.textContent,bs=!0)),V=eo(A,ve),0<V.length&&(ve=new jd(ve,e,null,s,I),k.push({event:ve,listeners:V}),le?ve.data=le:(le=Fd(s),le!==null&&(ve.data=le)))),(le=HS?BS(e,s):jS(e,s))&&(ve=eo(A,"onBeforeInput"),0<ve.length&&(V=new jd("onBeforeInput","beforeinput",null,s,I),k.push({event:V,listeners:ve}),V.data=le)),IE(k,e,A,s,I)}Dg(k,n)})}function rl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function eo(e,n){for(var s=n+"Capture",r=[];e!==null;){var u=e,c=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=Ra(e,s),u!=null&&r.unshift(rl(e,u,c)),u=Ra(e,n),u!=null&&r.push(rl(e,u,c))),e.tag===3)return r;e=e.return}return[]}function UE(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Mg(e,n,s,r,u){for(var c=n._reactName,d=[];s!==null&&s!==r;){var _=s,v=_.alternate,A=_.stateNode;if(_=_.tag,v!==null&&v===r)break;_!==5&&_!==26&&_!==27||A===null||(v=A,u?(A=Ra(s,c),A!=null&&d.unshift(rl(s,A,v))):u||(A=Ra(s,c),A!=null&&d.push(rl(s,A,v)))),s=s.return}d.length!==0&&e.push({event:n,listeners:d})}var LE=/\r\n?/g,zE=/\u0000|\uFFFD/g;function xg(e){return(typeof e=="string"?e:""+e).replace(LE,`
`).replace(zE,"")}function kg(e,n){return n=xg(n),xg(e)===n}function Ie(e,n,s,r,u,c){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||vs(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&vs(e,""+r);break;case"className":sr(e,"class",r);break;case"tabIndex":sr(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(e,s,r);break;case"style":kd(e,r,c);break;case"data":if(n!=="object"){sr(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=lr(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(s==="formAction"?(n!=="input"&&Ie(e,n,"name",u.name,u,null),Ie(e,n,"formEncType",u.formEncType,u,null),Ie(e,n,"formMethod",u.formMethod,u,null),Ie(e,n,"formTarget",u.formTarget,u,null)):(Ie(e,n,"encType",u.encType,u,null),Ie(e,n,"method",u.method,u,null),Ie(e,n,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=lr(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=Sn);break;case"onScroll":r!=null&&pe("scroll",e);break;case"onScrollEnd":r!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=lr(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":pe("beforetoggle",e),pe("toggle",e),ir(e,"popover",r);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ir(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fS.get(s)||s,ir(e,s,r))}}function df(e,n,s,r,u,c){switch(s){case"style":kd(e,r,c);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof r=="string"?vs(e,r):(typeof r=="number"||typeof r=="bigint")&&vs(e,""+r);break;case"onScroll":r!=null&&pe("scroll",e);break;case"onScrollEnd":r!=null&&pe("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wd.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),n=s.slice(2,u?s.length-7:void 0),c=e[Et]||null,c=c!=null?c[s]:null,typeof c=="function"&&e.removeEventListener(n,c,u),typeof r=="function")){typeof c!="function"&&c!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,r,u);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):ir(e,s,r)}}}function dt(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var r=!1,u=!1,c;for(c in s)if(s.hasOwnProperty(c)){var d=s[c];if(d!=null)switch(c){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ie(e,n,c,d,s,null)}}u&&Ie(e,n,"srcSet",s.srcSet,s,null),r&&Ie(e,n,"src",s.src,s,null);return;case"input":pe("invalid",e);var _=c=d=u=null,v=null,A=null;for(r in s)if(s.hasOwnProperty(r)){var I=s[r];if(I!=null)switch(r){case"name":u=I;break;case"type":d=I;break;case"checked":v=I;break;case"defaultChecked":A=I;break;case"value":c=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,n));break;default:Ie(e,n,r,I,s,null)}}Dd(e,c,_,v,A,d,u,!1);return;case"select":pe("invalid",e),r=d=c=null;for(u in s)if(s.hasOwnProperty(u)&&(_=s[u],_!=null))switch(u){case"value":c=_;break;case"defaultValue":d=_;break;case"multiple":r=_;default:Ie(e,n,u,_,s,null)}n=c,s=d,e.multiple=!!r,n!=null?ys(e,!!r,n,!1):s!=null&&ys(e,!!r,s,!0);return;case"textarea":pe("invalid",e),c=u=r=null;for(d in s)if(s.hasOwnProperty(d)&&(_=s[d],_!=null))switch(d){case"value":r=_;break;case"defaultValue":u=_;break;case"children":c=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(l(91));break;default:Ie(e,n,d,_,s,null)}Md(e,r,u,c);return;case"option":for(v in s)s.hasOwnProperty(v)&&(r=s[v],r!=null)&&(v==="selected"?e.selected=r&&typeof r!="function"&&typeof r!="symbol":Ie(e,n,v,r,s,null));return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(r=0;r<ll.length;r++)pe(ll[r],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in s)if(s.hasOwnProperty(A)&&(r=s[A],r!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:Ie(e,n,A,r,s,null)}return;default:if(Au(n)){for(I in s)s.hasOwnProperty(I)&&(r=s[I],r!==void 0&&df(e,n,I,r,s,void 0));return}}for(_ in s)s.hasOwnProperty(_)&&(r=s[_],r!=null&&Ie(e,n,_,r,s,null))}function HE(e,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,d=null,_=null,v=null,A=null,I=null;for(R in s){var k=s[R];if(s.hasOwnProperty(R)&&k!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":v=k;default:r.hasOwnProperty(R)||Ie(e,n,R,null,r,k)}}for(var N in r){var R=r[N];if(k=s[N],r.hasOwnProperty(N)&&(R!=null||k!=null))switch(N){case"type":c=R;break;case"name":u=R;break;case"checked":A=R;break;case"defaultChecked":I=R;break;case"value":d=R;break;case"defaultValue":_=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,n));break;default:R!==k&&Ie(e,n,N,R,r,k)}}Cu(e,d,_,v,A,I,c,u);return;case"select":R=d=_=N=null;for(c in s)if(v=s[c],s.hasOwnProperty(c)&&v!=null)switch(c){case"value":break;case"multiple":R=v;default:r.hasOwnProperty(c)||Ie(e,n,c,null,r,v)}for(u in r)if(c=r[u],v=s[u],r.hasOwnProperty(u)&&(c!=null||v!=null))switch(u){case"value":N=c;break;case"defaultValue":_=c;break;case"multiple":d=c;default:c!==v&&Ie(e,n,u,c,r,v)}n=_,s=d,r=R,N!=null?ys(e,!!s,N,!1):!!r!=!!s&&(n!=null?ys(e,!!s,n,!0):ys(e,!!s,s?[]:"",!1));return;case"textarea":R=N=null;for(_ in s)if(u=s[_],s.hasOwnProperty(_)&&u!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ie(e,n,_,null,r,u)}for(d in r)if(u=r[d],c=s[d],r.hasOwnProperty(d)&&(u!=null||c!=null))switch(d){case"value":N=u;break;case"defaultValue":R=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==c&&Ie(e,n,d,u,r,c)}Id(e,N,R);return;case"option":for(var P in s)N=s[P],s.hasOwnProperty(P)&&N!=null&&!r.hasOwnProperty(P)&&(P==="selected"?e.selected=!1:Ie(e,n,P,null,r,N));for(v in r)N=r[v],R=s[v],r.hasOwnProperty(v)&&N!==R&&(N!=null||R!=null)&&(v==="selected"?e.selected=N&&typeof N!="function"&&typeof N!="symbol":Ie(e,n,v,N,r,R));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var K in s)N=s[K],s.hasOwnProperty(K)&&N!=null&&!r.hasOwnProperty(K)&&Ie(e,n,K,null,r,N);for(A in r)if(N=r[A],R=s[A],r.hasOwnProperty(A)&&N!==R&&(N!=null||R!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(137,n));break;default:Ie(e,n,A,N,r,R)}return;default:if(Au(n)){for(var Me in s)N=s[Me],s.hasOwnProperty(Me)&&N!==void 0&&!r.hasOwnProperty(Me)&&df(e,n,Me,void 0,r,N);for(I in r)N=r[I],R=s[I],!r.hasOwnProperty(I)||N===R||N===void 0&&R===void 0||df(e,n,I,N,r,R);return}}for(var C in s)N=s[C],s.hasOwnProperty(C)&&N!=null&&!r.hasOwnProperty(C)&&Ie(e,n,C,null,r,N);for(k in r)N=r[k],R=s[k],!r.hasOwnProperty(k)||N===R||N==null&&R==null||Ie(e,n,k,N,r,R)}function Ug(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BE(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var u=s[r],c=u.transferSize,d=u.initiatorType,_=u.duration;if(c&&_&&Ug(d)){for(d=0,_=u.responseEnd,r+=1;r<s.length;r++){var v=s[r],A=v.startTime;if(A>_)break;var I=v.transferSize,k=v.initiatorType;I&&Ug(k)&&(v=v.responseEnd,d+=I*(v<_?1:(_-A)/(v-A)))}if(--r,n+=8*(c+d)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var mf=null,pf=null;function to(e){return e.nodeType===9?e:e.ownerDocument}function Lg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function gf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _f=null;function jE(){var e=window.event;return e&&e.type==="popstate"?e===_f?!1:(_f=e,!0):(_f=null,!1)}var Hg=typeof setTimeout=="function"?setTimeout:void 0,GE=typeof clearTimeout=="function"?clearTimeout:void 0,Bg=typeof Promise=="function"?Promise:void 0,PE=typeof queueMicrotask=="function"?queueMicrotask:typeof Bg<"u"?function(e){return Bg.resolve(null).then(e).catch(qE)}:Hg;function qE(e){setTimeout(function(){throw e})}function di(e){return e==="head"}function jg(e,n){var s=n,r=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(u),Ws(n);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")ol(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ol(s);for(var c=s.firstChild;c;){var d=c.nextSibling,_=c.nodeName;c[Aa]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&c.rel.toLowerCase()==="stylesheet"||s.removeChild(c),c=d}}else s==="body"&&ol(e.ownerDocument.body);s=u}while(s);Ws(n)}function Gg(e,n){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function yf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yf(s),bu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function VE(e,n,s,r){for(;e.nodeType===1;){var u=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Aa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function YE(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Wt(e.nextSibling),e===null))return null;return e}function Pg(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Wt(e.nextSibling),e===null))return null;return e}function vf(e){return e.data==="$?"||e.data==="$~"}function Sf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function FE(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Wt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ef=null;function qg(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Wt(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Vg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function Yg(e,n,s){switch(n=to(s),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);bu(e)}var Zt=new Map,Fg=new Set;function no(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ln=z.d;z.d={f:QE,r:XE,D:KE,C:WE,L:ZE,m:JE,X:eb,S:$E,M:tb};function QE(){var e=Ln.f(),n=Qr();return e||n}function XE(e){var n=ps(e);n!==null&&n.tag===5&&n.type==="form"?up(n):Ln.r(e)}var Qs=typeof document>"u"?null:document;function Qg(e,n,s){var r=Qs;if(r&&typeof n=="string"&&n){var u=qt(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),Fg.has(u)||(Fg.add(u),e={rel:e,crossOrigin:s,href:n},r.querySelector(u)===null&&(n=r.createElement("link"),dt(n,"link",e),st(n),r.head.appendChild(n)))}}function KE(e){Ln.D(e),Qg("dns-prefetch",e,null)}function WE(e,n){Ln.C(e,n),Qg("preconnect",e,n)}function ZE(e,n,s){Ln.L(e,n,s);var r=Qs;if(r&&e&&n){var u='link[rel="preload"][as="'+qt(n)+'"]';n==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+qt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+qt(s.imageSizes)+'"]')):u+='[href="'+qt(e)+'"]';var c=u;switch(n){case"style":c=Xs(e);break;case"script":c=Ks(e)}Zt.has(c)||(e=y({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Zt.set(c,e),r.querySelector(u)!==null||n==="style"&&r.querySelector(ul(c))||n==="script"&&r.querySelector(cl(c))||(n=r.createElement("link"),dt(n,"link",e),st(n),r.head.appendChild(n)))}}function JE(e,n){Ln.m(e,n);var s=Qs;if(s&&e){var r=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+qt(r)+'"][href="'+qt(e)+'"]',c=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Ks(e)}if(!Zt.has(c)&&(e=y({rel:"modulepreload",href:e},n),Zt.set(c,e),s.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cl(c)))return}r=s.createElement("link"),dt(r,"link",e),st(r),s.head.appendChild(r)}}}function $E(e,n,s){Ln.S(e,n,s);var r=Qs;if(r&&e){var u=gs(r).hoistableStyles,c=Xs(e);n=n||"default";var d=u.get(c);if(!d){var _={loading:0,preload:null};if(d=r.querySelector(ul(c)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Zt.get(c))&&bf(e,s);var v=d=r.createElement("link");st(v),dt(v,"link",e),v._p=new Promise(function(A,I){v.onload=A,v.onerror=I}),v.addEventListener("load",function(){_.loading|=1}),v.addEventListener("error",function(){_.loading|=2}),_.loading|=4,io(d,n,r)}d={type:"stylesheet",instance:d,count:1,state:_},u.set(c,d)}}}function eb(e,n){Ln.X(e,n);var s=Qs;if(s&&e){var r=gs(s).hoistableScripts,u=Ks(e),c=r.get(u);c||(c=s.querySelector(cl(u)),c||(e=y({src:e,async:!0},n),(n=Zt.get(u))&&Tf(e,n),c=s.createElement("script"),st(c),dt(c,"link",e),s.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(u,c))}}function tb(e,n){Ln.M(e,n);var s=Qs;if(s&&e){var r=gs(s).hoistableScripts,u=Ks(e),c=r.get(u);c||(c=s.querySelector(cl(u)),c||(e=y({src:e,async:!0,type:"module"},n),(n=Zt.get(u))&&Tf(e,n),c=s.createElement("script"),st(c),dt(c,"link",e),s.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(u,c))}}function Xg(e,n,s,r){var u=(u=ee.current)?no(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Xs(s.href),s=gs(u).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Xs(s.href);var c=gs(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(ul(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Zt.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Zt.set(e,s),c||nb(u,e,s,d.state))),n&&r===null)throw Error(l(528,""));return d}if(n&&r!==null)throw Error(l(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ks(s),s=gs(u).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Xs(e){return'href="'+qt(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function Kg(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function nb(e,n,s,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),dt(n,"link",s),st(n),e.head.appendChild(n))}function Ks(e){return'[src="'+qt(e)+'"]'}function cl(e){return"script[async]"+e}function Wg(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+qt(s.href)+'"]');if(r)return n.instance=r,st(r),r;var u=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),st(r),dt(r,"style",u),io(r,s.precedence,e),n.instance=r;case"stylesheet":u=Xs(s.href);var c=e.querySelector(ul(u));if(c)return n.state.loading|=4,n.instance=c,st(c),c;r=Kg(s),(u=Zt.get(u))&&bf(r,u),c=(e.ownerDocument||e).createElement("link"),st(c);var d=c;return d._p=new Promise(function(_,v){d.onload=_,d.onerror=v}),dt(c,"link",r),n.state.loading|=4,io(c,s.precedence,e),n.instance=c;case"script":return c=Ks(s.src),(u=e.querySelector(cl(c)))?(n.instance=u,st(u),u):(r=s,(u=Zt.get(c))&&(r=y({},s),Tf(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),st(u),dt(u,"link",r),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,io(r,s.precedence,e));return n.instance}function io(e,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,c=u,d=0;d<r.length;d++){var _=r[d];if(_.dataset.precedence===n)c=_;else if(c!==u)break}c?c.parentNode.insertBefore(e,c.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function bf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Tf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var so=null;function Zg(e,n,s){if(so===null){var r=new Map,u=so=new Map;u.set(s,r)}else u=so,r=u.get(s),r||(r=new Map,u.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),u=0;u<s.length;u++){var c=s[u];if(!(c[Aa]||c[ut]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(n)||"";d=e+d;var _=r.get(d);_?_.push(c):r.set(d,[c])}}return r}function Jg(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function ib(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $g(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sb(e,n,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=Xs(r.href),c=n.querySelector(ul(u));if(c){n=c._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ao.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=c,st(c);return}c=n.ownerDocument||n,r=Kg(r),(u=Zt.get(u))&&bf(r,u),c=c.createElement("link"),st(c);var d=c;d._p=new Promise(function(_,v){d.onload=_,d.onerror=v}),dt(c,"link",r),s.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ao.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Cf=0;function ab(e,n){return e.stylesheets&&e.count===0&&ro(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&ro(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+n);0<e.imgBytes&&Cf===0&&(Cf=62500*BE());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ro(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Cf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function ao(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ro(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lo=null;function ro(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lo=new Map,n.forEach(lb,e),lo=null,ao.call(e))}function lb(e,n){if(!(n.state.loading&4)){var s=lo.get(e);if(s)var r=s.get(null);else{s=new Map,lo.set(e,s);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var d=u[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(s.set(d.dataset.precedence,d),r=d)}r&&s.set(null,r)}u=n.instance,d=u.getAttribute("data-precedence"),c=s.get(d)||r,c===r&&s.set(null,u),s.set(d,u),this.count++,r=ao.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),c?c.parentNode.insertBefore(u,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var fl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function rb(e,n,s,r,u,c,d,_,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yu(0),this.hiddenUpdates=yu(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function e_(e,n,s,r,u,c,d,_,v,A,I,k){return e=new rb(e,n,s,d,v,A,I,k,_),n=1,c===!0&&(n|=24),c=Lt(3,null,null,n),e.current=c,c.stateNode=e,n=nc(),n.refCount++,e.pooledCache=n,n.refCount++,c.memoizedState={element:r,isDehydrated:s,cache:n},lc(c),e}function t_(e){return e?(e=As,e):As}function n_(e,n,s,r,u,c){u=t_(u),r.context===null?r.context=u:r.pendingContext=u,r=ni(n),r.payload={element:s},c=c===void 0?null:c,c!==null&&(r.callback=c),s=ii(e,r,n),s!==null&&(Nt(s,e,n),qa(s,e,n))}function i_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function wf(e,n){i_(e,n),(e=e.alternate)&&i_(e,n)}function s_(e){if(e.tag===13||e.tag===31){var n=Gi(e,67108864);n!==null&&Nt(n,e,67108864),wf(e,67108864)}}function a_(e){if(e.tag===13||e.tag===31){var n=Gt();n=vu(n);var s=Gi(e,n);s!==null&&Nt(s,e,n),wf(e,n)}}var oo=!0;function ob(e,n,s,r){var u=O.T;O.T=null;var c=z.p;try{z.p=2,Af(e,n,s,r)}finally{z.p=c,O.T=u}}function ub(e,n,s,r){var u=O.T;O.T=null;var c=z.p;try{z.p=8,Af(e,n,s,r)}finally{z.p=c,O.T=u}}function Af(e,n,s,r){if(oo){var u=Nf(r);if(u===null)hf(e,n,r,uo,s),r_(e,r);else if(fb(u,e,n,s,r))r.stopPropagation();else if(r_(e,r),n&4&&-1<cb.indexOf(e)){for(;u!==null;){var c=ps(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=Li(c.pendingLanes);if(d!==0){var _=c;for(_.pendingLanes|=2,_.entangledLanes|=2;d;){var v=1<<31-kt(d);_.entanglements[1]|=v,d&=~v}hn(c),(Ae&6)===0&&(Yr=Mt()+500,al(0))}}break;case 31:case 13:_=Gi(c,2),_!==null&&Nt(_,c,2),Qr(),wf(c,2)}if(c=Nf(r),c===null&&hf(e,n,r,uo,s),c===u)break;u=c}u!==null&&r.stopPropagation()}else hf(e,n,r,null,s)}}function Nf(e){return e=Ru(e),Rf(e)}var uo=null;function Rf(e){if(uo=null,e=ms(e),e!==null){var n=f(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=h(n),e!==null)return e;e=null}else if(s===31){if(e=m(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return uo=e,null}function l_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(K0()){case md:return 2;case pd:return 8;case Jl:case W0:return 32;case gd:return 268435456;default:return 32}default:return 32}}var Of=!1,mi=null,pi=null,gi=null,hl=new Map,dl=new Map,_i=[],cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r_(e,n){switch(e){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(n.pointerId)}}function ml(e,n,s,r,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:c,targetContainers:[u]},n!==null&&(n=ps(n),n!==null&&s_(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function fb(e,n,s,r,u){switch(n){case"focusin":return mi=ml(mi,e,n,s,r,u),!0;case"dragenter":return pi=ml(pi,e,n,s,r,u),!0;case"mouseover":return gi=ml(gi,e,n,s,r,u),!0;case"pointerover":var c=u.pointerId;return hl.set(c,ml(hl.get(c)||null,e,n,s,r,u)),!0;case"gotpointercapture":return c=u.pointerId,dl.set(c,ml(dl.get(c)||null,e,n,s,r,u)),!0}return!1}function o_(e){var n=ms(e.target);if(n!==null){var s=f(n);if(s!==null){if(n=s.tag,n===13){if(n=h(s),n!==null){e.blockedOn=n,bd(e.priority,function(){a_(s)});return}}else if(n===31){if(n=m(s),n!==null){e.blockedOn=n,bd(e.priority,function(){a_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function co(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Nf(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Nu=r,s.target.dispatchEvent(r),Nu=null}else return n=ps(s),n!==null&&s_(n),e.blockedOn=s,!1;n.shift()}return!0}function u_(e,n,s){co(e)&&s.delete(n)}function hb(){Of=!1,mi!==null&&co(mi)&&(mi=null),pi!==null&&co(pi)&&(pi=null),gi!==null&&co(gi)&&(gi=null),hl.forEach(u_),dl.forEach(u_)}function fo(e,n){e.blockedOn===n&&(e.blockedOn=null,Of||(Of=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,hb)))}var ho=null;function c_(e){ho!==e&&(ho=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ho===e&&(ho=null);for(var n=0;n<e.length;n+=3){var s=e[n],r=e[n+1],u=e[n+2];if(typeof r!="function"){if(Rf(r||s)===null)continue;break}var c=ps(s);c!==null&&(e.splice(n,3),n-=3,Ac(c,{pending:!0,data:u,method:s.method,action:r},r,u))}}))}function Ws(e){function n(v){return fo(v,e)}mi!==null&&fo(mi,e),pi!==null&&fo(pi,e),gi!==null&&fo(gi,e),hl.forEach(n),dl.forEach(n);for(var s=0;s<_i.length;s++){var r=_i[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<_i.length&&(s=_i[0],s.blockedOn===null);)o_(s),s.blockedOn===null&&_i.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var u=s[r],c=s[r+1],d=u[Et]||null;if(typeof c=="function")d||c_(s);else if(d){var _=null;if(c&&c.hasAttribute("formAction")){if(u=c,d=c[Et]||null)_=d.formAction;else if(Rf(u)!==null)continue}else _=d.action;typeof _=="function"?s[r+1]=_:(s.splice(r,3),r-=3),c_(s)}}}function f_(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function Df(e){this._internalRoot=e}mo.prototype.render=Df.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var s=n.current,r=Gt();n_(s,r,e,n,null,null)},mo.prototype.unmount=Df.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;n_(e.current,2,null,e,null,null),Qr(),n[ds]=null}};function mo(e){this._internalRoot=e}mo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ed();e={blockedOn:null,target:e,priority:n};for(var s=0;s<_i.length&&n!==0&&n<_i[s].priority;s++);_i.splice(s,0,e),s===0&&o_(e)}};var h_=t.version;if(h_!=="19.2.3")throw Error(l(527,h_,"19.2.3"));z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var db={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{Ta=po.inject(db),xt=po}catch{}}return gl.createRoot=function(e,n){if(!o(e))throw Error(l(299));var s=!1,r="",u=vp,c=Sp,d=Ep;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(c=n.onCaughtError),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=e_(e,1,!1,null,null,s,r,null,u,c,d,f_),e[ds]=n.current,ff(e),new Df(n)},gl.hydrateRoot=function(e,n,s){if(!o(e))throw Error(l(299));var r=!1,u="",c=vp,d=Sp,_=Ep,v=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.formState!==void 0&&(v=s.formState)),n=e_(e,1,!0,n,s??null,r,u,v,c,d,_,f_),n.context=t_(null),s=n.current,r=Gt(),r=vu(r),u=ni(r),u.callback=null,ii(s,u,r),s=r,n.current.lanes=s,wa(n,s),hn(n),e[ds]=n.current,ff(e),new mo(n)},gl.version="19.2.3",gl}var b_;function Cb(){if(b_)return xf.exports;b_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),xf.exports=Tb(),xf.exports}var wb=Cb();const Ab=()=>{};var T_={};const ky={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const B=function(a,t){if(!a)throw ha(t)},ha=function(a){return new Error("Firebase Database ("+ky.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const Uy=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&l+1<a.length&&(a.charCodeAt(l+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++l)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Nb=function(a){const t=[];let i=0,l=0;for(;i<a.length;){const o=a[i++];if(o<128)t[l++]=String.fromCharCode(o);else if(o>191&&o<224){const f=a[i++];t[l++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=a[i++],h=a[i++],m=a[i++],g=((o&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;t[l++]=String.fromCharCode(55296+(g>>10)),t[l++]=String.fromCharCode(56320+(g&1023))}else{const f=a[i++],h=a[i++];t[l++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return t.join("")},bh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,l=[];for(let o=0;o<a.length;o+=3){const f=a[o],h=o+1<a.length,m=h?a[o+1]:0,g=o+2<a.length,p=g?a[o+2]:0,S=f>>2,y=(f&3)<<4|m>>4;let E=(m&15)<<2|p>>6,U=p&63;g||(U=64,h||(E=64)),l.push(i[S],i[y],i[E],i[U])}return l.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(Uy(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):Nb(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,l=[];for(let o=0;o<a.length;){const f=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const p=o<a.length?i[a.charAt(o)]:64;++o;const y=o<a.length?i[a.charAt(o)]:64;if(++o,f==null||m==null||p==null||y==null)throw new Rb;const E=f<<2|m>>4;if(l.push(E),p!==64){const U=m<<4&240|p>>2;if(l.push(U),y!==64){const L=p<<6&192|y;l.push(L)}}}return l},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class Rb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ly=function(a){const t=Uy(a);return bh.encodeByteArray(t,!0)},Co=function(a){return Ly(a).replace(/\./g,"")},wo=function(a){try{return bh.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ob(a){return zy(void 0,a)}function zy(a,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!Db(i)||(a[i]=zy(a[i],t[i]));return a}function Db(a){return a!=="__proto__"}function Ib(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Mb=()=>Ib().__FIREBASE_DEFAULTS__,xb=()=>{if(typeof process>"u"||typeof T_>"u")return;const a=T_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},kb=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&wo(a[1]);return t&&JSON.parse(t)},Th=()=>{try{return Ab()||Mb()||xb()||kb()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Hy=a=>Th()?.emulatorHosts?.[a],Ub=a=>{const t=Hy(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const l=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),l]:[t.substring(0,i),l]},By=()=>Th()?.config,jy=a=>Th()?.[`_${a}`];class Hn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,l)=>{i?this.reject(i):this.resolve(l),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,l))}}}function da(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gy(a){return(await fetch(a,{credentials:"include"})).ok}function Lb(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},l=t||"demo-project",o=a.iat||0,f=a.sub||a.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${l}`,aud:l,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Co(JSON.stringify(i)),Co(JSON.stringify(h)),""].join(".")}const bl={};function zb(){const a={prod:[],emulator:[]};for(const t of Object.keys(bl))bl[t]?a.emulator.push(t):a.prod.push(t);return a}function Hb(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let C_=!1;function Py(a,t){if(typeof window>"u"||typeof document>"u"||!da(window.location.host)||bl[a]===t||bl[a]||C_)return;bl[a]=t;function i(E){return`__firebase__banner__${E}`}const l="__firebase__banner",f=zb().prod.length>0;function h(){const E=document.getElementById(l);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,U){E.setAttribute("width","24"),E.setAttribute("id",U),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{C_=!0,h()},E}function S(E,U){E.setAttribute("id",U),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=Hb(l),U=i("text"),L=document.getElementById(U)||document.createElement("span"),G=i("learnmore"),se=document.getElementById(G)||document.createElement("a"),ne=i("preprendIcon"),X=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Q=E.element;m(Q),S(se,G);const Ee=p();g(X,ne),Q.append(X,L,se,Ee),document.body.appendChild(Q)}f?(L.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ch(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function Bb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jb(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function qy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gb(){const a=vt();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function Pb(){return ky.NODE_ADMIN===!0}function qb(){try{return typeof indexedDB=="object"}catch{return!1}}function Vb(){return new Promise((a,t)=>{try{let i=!0;const l="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(l);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(l),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const Yb="FirebaseError";class ki extends Error{constructor(t,i,l){super(i),this.code=t,this.customData=l,this.name=Yb,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(t,i,l){this.service=t,this.serviceName=i,this.errors=l}create(t,...i){const l=i[0]||{},o=`${this.service}/${t}`,f=this.errors[t],h=f?Fb(f,l):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ki(o,m,l)}}function Fb(a,t){return a.replace(Qb,(i,l)=>{const o=t[l];return o!=null?String(o):`<${l}?>`})}const Qb=/\{\$([^}]+)}/g;function Ol(a){return JSON.parse(a)}function tt(a){return JSON.stringify(a)}const Vy=function(a){let t={},i={},l={},o="";try{const f=a.split(".");t=Ol(wo(f[0])||""),i=Ol(wo(f[1])||""),o=f[2],l=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:l,signature:o}},Xb=function(a){const t=Vy(a),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},Kb=function(a){const t=Vy(a).claims;return typeof t=="object"&&t.admin===!0};function yn(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function aa(a,t){if(Object.prototype.hasOwnProperty.call(a,t))return a[t]}function Ao(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function No(a,t,i){const l={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=t.call(i,a[o],o,a));return l}function as(a,t){if(a===t)return!0;const i=Object.keys(a),l=Object.keys(t);for(const o of i){if(!l.includes(o))return!1;const f=a[o],h=t[o];if(w_(f)&&w_(h)){if(!as(f,h))return!1}else if(f!==h)return!1}for(const o of l)if(!i.includes(o))return!1;return!0}function w_(a){return a!==null&&typeof a=="object"}function ma(a){const t=[];for(const[i,l]of Object.entries(a))Array.isArray(l)?l.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(l));return t.length?"&"+t.join("&"):""}class Wb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const l=this.W_;if(typeof t=="string")for(let y=0;y<16;y++)l[y]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)l[y]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let y=16;y<80;y++){const E=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],m=this.chain_[3],g=this.chain_[4],p,S;for(let y=0;y<80;y++){y<40?y<20?(p=m^f&(h^m),S=1518500249):(p=f^h^m,S=1859775393):y<60?(p=f&h|m&(f|h),S=2400959708):(p=f^h^m,S=3395469782);const E=(o<<5|o>>>27)+p+g+S+l[y]&4294967295;g=m,m=h,h=(f<<30|f>>>2)&4294967295,f=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const l=i-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=l;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(f[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<i;)if(f[h]=t[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let l=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)t[l]=this.chain_[o]>>f&255,++l;return t}}function Zb(a,t){const i=new Jb(a,t);return i.subscribe.bind(i)}class Jb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(l=>{this.error(l)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,l){let o;if(t===void 0&&i===void 0&&l===void 0)throw new Error("Missing Observer.");$b(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:l},o.next===void 0&&(o.next=zf),o.error===void 0&&(o.error=zf),o.complete===void 0&&(o.complete=zf);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),f}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(l){typeof console<"u"&&console.error&&console.error(l)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $b(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function zf(){}function la(a,t){return`${a} failed: ${t} argument `}const eT=function(a){const t=[];let i=0;for(let l=0;l<a.length;l++){let o=a.charCodeAt(l);if(o>=55296&&o<=56319){const f=o-55296;l++,B(l<a.length,"Surrogate pair missing trail surrogate.");const h=a.charCodeAt(l)-56320;o=65536+(f<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Ko=function(a){let t=0;for(let i=0;i<a.length;i++){const l=a.charCodeAt(i);l<128?t++:l<2048?t+=2:l>=55296&&l<=56319?(t+=4,i++):t+=3}return t};function It(a){return a&&a._delegate?a._delegate:a}class ls{constructor(t,i,l){this.name=t,this.instanceFactory=i,this.type=l,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ts="[DEFAULT]";class tT{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const l=new Hn;if(this.instancesDeferred.set(i,l),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&l.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),l=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(l)return null;throw o}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(iT(t))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[i,l]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});l.resolve(f)}catch{}}}}clearInstance(t=ts){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ts){return this.instances.has(t)}getOptions(t=ts){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,l=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(l))throw Error(`${this.name}(${l}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:l,options:i});for(const[f,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);l===m&&h.resolve(o)}return o}onInit(t,i){const l=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(l)??new Set;o.add(t),this.onInitCallbacks.set(l,o);const f=this.instances.get(l);return f&&t(f,l),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const l=this.onInitCallbacks.get(i);if(l)for(const o of l)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let l=this.instances.get(t);if(!l&&this.component&&(l=this.component.instanceFactory(this.container,{instanceIdentifier:nT(t),options:i}),this.instances.set(t,l),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(l,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,l)}catch{}return l||null}normalizeInstanceIdentifier(t=ts){return this.component?this.component.multipleInstances?t:ts:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nT(a){return a===ts?void 0:a}function iT(a){return a.instantiationMode==="EAGER"}class sT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new tT(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var xe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(xe||(xe={}));const aT={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},lT=xe.INFO,rT={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},oT=(a,t,...i)=>{if(t<a.logLevel)return;const l=new Date().toISOString(),o=rT[t];if(o)console[o](`[${l}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wh{constructor(t){this.name=t,this._logLevel=lT,this._logHandler=oT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...t),this._logHandler(this,xe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...t),this._logHandler(this,xe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...t),this._logHandler(this,xe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...t),this._logHandler(this,xe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...t),this._logHandler(this,xe.ERROR,...t)}}const uT=(a,t)=>t.some(i=>a instanceof i);let A_,N_;function cT(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fT(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yy=new WeakMap,$f=new WeakMap,Fy=new WeakMap,Hf=new WeakMap,Ah=new WeakMap;function hT(a){const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("success",f),a.removeEventListener("error",h)},f=()=>{i(Ci(a.result)),o()},h=()=>{l(a.error),o()};a.addEventListener("success",f),a.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&Yy.set(i,a)}).catch(()=>{}),Ah.set(t,a),t}function dT(a){if($f.has(a))return;const t=new Promise((i,l)=>{const o=()=>{a.removeEventListener("complete",f),a.removeEventListener("error",h),a.removeEventListener("abort",h)},f=()=>{i(),o()},h=()=>{l(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",f),a.addEventListener("error",h),a.addEventListener("abort",h)});$f.set(a,t)}let eh={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return $f.get(a);if(t==="objectStoreNames")return a.objectStoreNames||Fy.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ci(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function mT(a){eh=a(eh)}function pT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const l=a.call(Bf(this),t,...i);return Fy.set(l,t.sort?t.sort():[t]),Ci(l)}:fT().includes(a)?function(...t){return a.apply(Bf(this),t),Ci(Yy.get(this))}:function(...t){return Ci(a.apply(Bf(this),t))}}function gT(a){return typeof a=="function"?pT(a):(a instanceof IDBTransaction&&dT(a),uT(a,cT())?new Proxy(a,eh):a)}function Ci(a){if(a instanceof IDBRequest)return hT(a);if(Hf.has(a))return Hf.get(a);const t=gT(a);return t!==a&&(Hf.set(a,t),Ah.set(t,a)),t}const Bf=a=>Ah.get(a);function _T(a,t,{blocked:i,upgrade:l,blocking:o,terminated:f}={}){const h=indexedDB.open(a,t),m=Ci(h);return l&&h.addEventListener("upgradeneeded",g=>{l(Ci(h.result),g.oldVersion,g.newVersion,Ci(h.transaction),g)}),i&&h.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),m.then(g=>{f&&g.addEventListener("close",()=>f()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const yT=["get","getKey","getAll","getAllKeys","count"],vT=["put","add","delete","clear"],jf=new Map;function R_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(jf.get(t))return jf.get(t);const i=t.replace(/FromIndex$/,""),l=t!==i,o=vT.includes(i);if(!(i in(l?IDBIndex:IDBObjectStore).prototype)||!(o||yT.includes(i)))return;const f=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return l&&(p=p.index(m.shift())),(await Promise.all([p[i](...m),o&&g.done]))[0]};return jf.set(t,f),f}mT(a=>({...a,get:(t,i,l)=>R_(t,i)||a.get(t,i,l),has:(t,i)=>!!R_(t,i)||a.has(t,i)}));class ST{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ET(i)){const l=i.getImmediate();return`${l.library}/${l.version}`}else return null}).filter(i=>i).join(" ")}}function ET(a){return a.getComponent()?.type==="VERSION"}const th="@firebase/app",O_="0.14.6";const qn=new wh("@firebase/app"),bT="@firebase/app-compat",TT="@firebase/analytics-compat",CT="@firebase/analytics",wT="@firebase/app-check-compat",AT="@firebase/app-check",NT="@firebase/auth",RT="@firebase/auth-compat",OT="@firebase/database",DT="@firebase/data-connect",IT="@firebase/database-compat",MT="@firebase/functions",xT="@firebase/functions-compat",kT="@firebase/installations",UT="@firebase/installations-compat",LT="@firebase/messaging",zT="@firebase/messaging-compat",HT="@firebase/performance",BT="@firebase/performance-compat",jT="@firebase/remote-config",GT="@firebase/remote-config-compat",PT="@firebase/storage",qT="@firebase/storage-compat",VT="@firebase/firestore",YT="@firebase/ai",FT="@firebase/firestore-compat",QT="firebase",XT="12.6.0";const nh="[DEFAULT]",KT={[th]:"fire-core",[bT]:"fire-core-compat",[CT]:"fire-analytics",[TT]:"fire-analytics-compat",[AT]:"fire-app-check",[wT]:"fire-app-check-compat",[NT]:"fire-auth",[RT]:"fire-auth-compat",[OT]:"fire-rtdb",[DT]:"fire-data-connect",[IT]:"fire-rtdb-compat",[MT]:"fire-fn",[xT]:"fire-fn-compat",[kT]:"fire-iid",[UT]:"fire-iid-compat",[LT]:"fire-fcm",[zT]:"fire-fcm-compat",[HT]:"fire-perf",[BT]:"fire-perf-compat",[jT]:"fire-rc",[GT]:"fire-rc-compat",[PT]:"fire-gcs",[qT]:"fire-gcs-compat",[VT]:"fire-fst",[FT]:"fire-fst-compat",[YT]:"fire-vertex","fire-js":"fire-js",[QT]:"fire-js-all"};const Ro=new Map,WT=new Map,ih=new Map;function D_(a,t){try{a.container.addComponent(t)}catch(i){qn.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function ra(a){const t=a.name;if(ih.has(t))return qn.debug(`There were multiple attempts to register component ${t}.`),!1;ih.set(t,a);for(const i of Ro.values())D_(i,a);for(const i of WT.values())D_(i,a);return!0}function Nh(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function sn(a){return a==null?!1:a.settings!==void 0}const ZT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new Gl("app","Firebase",ZT);class JT{constructor(t,i,l){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=l,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}const pa=XT;function Qy(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const l={name:nh,automaticDataCollectionEnabled:!0,...t},o=l.name;if(typeof o!="string"||!o)throw wi.create("bad-app-name",{appName:String(o)});if(i||(i=By()),!i)throw wi.create("no-options");const f=Ro.get(o);if(f){if(as(i,f.options)&&as(l,f.config))return f;throw wi.create("duplicate-app",{appName:o})}const h=new sT(o);for(const g of ih.values())h.addComponent(g);const m=new JT(i,l,h);return Ro.set(o,m),m}function Xy(a=nh){const t=Ro.get(a);if(!t&&a===nh&&By())return Qy();if(!t)throw wi.create("no-app",{appName:a});return t}function Ai(a,t,i){let l=KT[a]??a;i&&(l+=`-${i}`);const o=l.match(/\s|\//),f=t.match(/\s|\//);if(o||f){const h=[`Unable to register library "${l}" with version "${t}":`];o&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),o&&f&&h.push("and"),f&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qn.warn(h.join(" "));return}ra(new ls(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}const $T="firebase-heartbeat-database",e1=1,Dl="firebase-heartbeat-store";let Gf=null;function Ky(){return Gf||(Gf=_T($T,e1,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(a=>{throw wi.create("idb-open",{originalErrorMessage:a.message})})),Gf}async function t1(a){try{const i=(await Ky()).transaction(Dl),l=await i.objectStore(Dl).get(Wy(a));return await i.done,l}catch(t){if(t instanceof ki)qn.warn(t.message);else{const i=wi.create("idb-get",{originalErrorMessage:t?.message});qn.warn(i.message)}}}async function I_(a,t){try{const l=(await Ky()).transaction(Dl,"readwrite");await l.objectStore(Dl).put(t,Wy(a)),await l.done}catch(i){if(i instanceof ki)qn.warn(i.message);else{const l=wi.create("idb-set",{originalErrorMessage:i?.message});qn.warn(l.message)}}}function Wy(a){return`${a.name}!${a.options.appId}`}const n1=1024,i1=30;class s1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new l1(i),this._heartbeatsCachePromise=this._storage.read().then(l=>(this._heartbeatsCache=l,l))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=M_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats.length>i1){const o=r1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){qn.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=M_(),{heartbeatsToSend:i,unsentEntries:l}=a1(this._heartbeatsCache.heartbeats),o=Co(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return qn.warn(t),""}}}function M_(){return new Date().toISOString().substring(0,10)}function a1(a,t=n1){const i=[];let l=a.slice();for(const o of a){const f=i.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),x_(i)>t){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),x_(i)>t){i.pop();break}l=l.slice(1)}return{heartbeatsToSend:i,unsentEntries:l}}class l1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qb()?Vb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await t1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return I_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const l=await this.read();return I_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function x_(a){return Co(JSON.stringify({version:2,heartbeats:a})).length}function r1(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let l=1;l<a.length;l++)a[l].date<i&&(i=a[l].date,t=l);return t}function o1(a){ra(new ls("platform-logger",t=>new ST(t),"PRIVATE")),ra(new ls("heartbeat",t=>new s1(t),"PRIVATE")),Ai(th,O_,a),Ai(th,O_,"esm2020"),Ai("fire-js","")}o1("");var u1="firebase",c1="12.7.0";Ai(u1,c1,"app");var k_={};const U_="@firebase/database",L_="1.1.0";let Zy="";function f1(a){Zy=a}class h1{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),tt(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:Ol(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class d1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return yn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Jy=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const t=window[a];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new h1(t)}}catch{}return new d1},is=Jy("localStorage"),m1=Jy("sessionStorage");const ea=new wh("@firebase/database"),p1=(function(){let a=1;return function(){return a++}})(),$y=function(a){const t=eT(a),i=new Wb;i.update(t);const l=i.digest();return bh.encodeByteArray(l)},Pl=function(...a){let t="";for(let i=0;i<a.length;i++){const l=a[i];Array.isArray(l)||l&&typeof l=="object"&&typeof l.length=="number"?t+=Pl.apply(null,l):typeof l=="object"?t+=tt(l):t+=l,t+=" "}return t};let Tl=null,z_=!0;const g1=function(a,t){B(!0,"Can't turn on custom loggers persistently."),ea.logLevel=xe.VERBOSE,Tl=ea.log.bind(ea)},mt=function(...a){if(z_===!0&&(z_=!1,Tl===null&&m1.get("logging_enabled")===!0&&g1()),Tl){const t=Pl.apply(null,a);Tl(t)}},ql=function(a){return function(...t){mt(a,...t)}},sh=function(...a){const t="FIREBASE INTERNAL ERROR: "+Pl(...a);ea.error(t)},Vn=function(...a){const t=`FIREBASE FATAL ERROR: ${Pl(...a)}`;throw ea.error(t),new Error(t)},Dt=function(...a){const t="FIREBASE WARNING: "+Pl(...a);ea.warn(t)},_1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Wo=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},y1=function(a){if(document.readyState==="complete")a();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},oa="[MIN_NAME]",rs="[MAX_NAME]",fs=function(a,t){if(a===t)return 0;if(a===oa||t===rs)return-1;if(t===oa||a===rs)return 1;{const i=H_(a),l=H_(t);return i!==null?l!==null?i-l===0?a.length-t.length:i-l:-1:l!==null?1:a<t?-1:1}},v1=function(a,t){return a===t?0:a<t?-1:1},_l=function(a,t){if(t&&a in t)return t[a];throw new Error("Missing required key ("+a+") in object: "+tt(t))},Rh=function(a){if(typeof a!="object"||a===null)return tt(a);const t=[];for(const l in a)t.push(l);t.sort();let i="{";for(let l=0;l<t.length;l++)l!==0&&(i+=","),i+=tt(t[l]),i+=":",i+=Rh(a[t[l]]);return i+="}",i},ev=function(a,t){const i=a.length;if(i<=t)return[a];const l=[];for(let o=0;o<i;o+=t)o+t>i?l.push(a.substring(o,i)):l.push(a.substring(o,o+t));return l};function gt(a,t){for(const i in a)a.hasOwnProperty(i)&&t(i,a[i])}const tv=function(a){B(!Wo(a),"Invalid JSON number");const t=11,i=52,l=(1<<t-1)-1;let o,f,h,m,g;a===0?(f=0,h=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-l)?(m=Math.min(Math.floor(Math.log(a)/Math.LN2),l),f=m+l,h=Math.round(a*Math.pow(2,i-m)-Math.pow(2,i))):(f=0,h=Math.round(a/Math.pow(2,1-l-i))));const p=[];for(g=i;g;g-=1)p.push(h%2?1:0),h=Math.floor(h/2);for(g=t;g;g-=1)p.push(f%2?1:0),f=Math.floor(f/2);p.push(o?1:0),p.reverse();const S=p.join("");let y="";for(g=0;g<64;g+=8){let E=parseInt(S.substr(g,8),2).toString(16);E.length===1&&(E="0"+E),y=y+E}return y.toLowerCase()},S1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},E1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function b1(a,t){let i="Unknown Error";a==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?i="Client doesn't have permission to access the desired data.":a==="unavailable"&&(i="The service is unavailable");const l=new Error(a+" at "+t._path.toString()+": "+i);return l.code=a.toUpperCase(),l}const T1=new RegExp("^-?(0*)\\d{1,10}$"),C1=-2147483648,w1=2147483647,H_=function(a){if(T1.test(a)){const t=Number(a);if(t>=C1&&t<=w1)return t}return null},ga=function(a){try{a()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Dt("Exception was thrown by user callback.",i),t},Math.floor(0))}},A1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cl=function(a,t){const i=setTimeout(a,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class N1{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,sn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(l=>this.appCheck=l)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Dt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class R1{constructor(t,i,l){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,l):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dt(t)}}class vo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}vo.OWNER="owner";const Oh="5",nv="v",iv="s",sv="r",av="f",lv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rv="ls",ov="p",ah="ac",uv="websocket",cv="long_polling";class fv{constructor(t,i,l,o,f=!1,h="",m=!1,g=!1,p=null){this.secure=i,this.namespace=l,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this.emulatorOptions=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=is.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&is.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function O1(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function hv(a,t,i){B(typeof t=="string","typeof type must == string"),B(typeof i=="object","typeof params must == object");let l;if(t===uv)l=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(t===cv)l=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);O1(a)&&(i.ns=a.namespace);const o=[];return gt(i,(f,h)=>{o.push(f+"="+h)}),l+o.join("&")}class D1{constructor(){this.counters_={}}incrementCounter(t,i=1){yn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return Ob(this.counters_)}}const Pf={},qf={};function Dh(a){const t=a.toString();return Pf[t]||(Pf[t]=new D1),Pf[t]}function I1(a,t){const i=a.toString();return qf[i]||(qf[i]=t()),qf[i]}class M1{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<l.length;++o)l[o]&&ga(()=>{this.onMessage_(l[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const B_="start",x1="close",k1="pLPCommand",U1="pRTLPCB",dv="id",mv="pw",pv="ser",L1="cb",z1="seg",H1="ts",B1="d",j1="dframe",gv=1870,_v=30,G1=gv-_v,P1=25e3,q1=3e4;class Js{constructor(t,i,l,o,f,h,m){this.connId=t,this.repoInfo=i,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ql(t),this.stats_=Dh(i),this.urlFn=g=>(this.appCheckToken&&(g[ah]=this.appCheckToken),hv(i,cv,g))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new M1(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(q1)),y1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ih((...f)=>{const[h,m,g,p,S]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===B_)this.id=m,this.password=g;else if(h===x1)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const l={};l[B_]="t",l[pv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(l[L1]=this.scriptTagHolder.uniqueCallbackIdentifier),l[nv]=Oh,this.transportSessionId&&(l[iv]=this.transportSessionId),this.lastSessionId&&(l[rv]=this.lastSessionId),this.applicationId&&(l[ov]=this.applicationId),this.appCheckToken&&(l[ah]=this.appCheckToken),typeof location<"u"&&location.hostname&&lv.test(location.hostname)&&(l[sv]=av);const o=this.urlFn(l);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Js.forceAllow_=!0}static forceDisallow(){Js.forceDisallow_=!0}static isAvailable(){return Js.forceAllow_?!0:!Js.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!S1()&&!E1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=tt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=Ly(i),o=ev(l,G1);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const l={};l[j1]="t",l[dv]=t,l[mv]=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=tt(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Ih{constructor(t,i,l,o){this.onDisconnect=l,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=p1(),window[k1+this.uniqueCallbackIdentifier]=t,window[U1+this.uniqueCallbackIdentifier]=i,this.myIFrame=Ih.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){mt("frame writing exception"),m.stack&&mt(m.stack),mt(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||mt("No IE domain setting required")}catch{const l=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[dv]=this.myID,t[mv]=this.myPW,t[pv]=this.currentSerial;let i=this.urlFn(t),l="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+_v+l.length<=gv;){const h=this.pendingSegs.shift();l=l+"&"+z1+o+"="+h.seg+"&"+H1+o+"="+h.ts+"&"+B1+o+"="+h.d,o++}return i=i+l,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,l){this.pendingSegs.push({seg:t,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(l,Math.floor(P1)),f=()=>{clearTimeout(o),l()};this.addTag(t,f)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=t,l.onload=l.onreadystatechange=function(){const o=l.readyState;(!o||o==="loaded"||o==="complete")&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{mt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}const V1=16384,Y1=45e3;let Oo=null;typeof MozWebSocket<"u"?Oo=MozWebSocket:typeof WebSocket<"u"&&(Oo=WebSocket);class an{constructor(t,i,l,o,f,h,m){this.connId=t,this.applicationId=l,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ql(this.connId),this.stats_=Dh(i),this.connURL=an.connectionURL_(i,h,m,o,l),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,l,o,f){const h={};return h[nv]=Oh,typeof location<"u"&&location.hostname&&lv.test(location.hostname)&&(h[sv]=av),i&&(h[iv]=i),l&&(h[rv]=l),o&&(h[ah]=o),f&&(h[ov]=f),hv(t,uv,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,is.set("previous_websocket_failure",!0);try{let l;Pb(),this.mySock=new Oo(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const o=l.message||l.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){an.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,l=navigator.userAgent.match(i);l&&l.length>1&&parseFloat(l[1])<4.4&&(t=!0)}return!t&&Oo!==null&&!an.forceDisallow_}static previouslyFailed(){return is.isInMemoryStorage||is.get("previous_websocket_failure")===!0}markConnectionHealthy(){is.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const l=Ol(i);this.onMessage(l)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(B(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const l=this.extractFrameCount_(i);l!==null&&this.appendFrame_(l)}}send(t){this.resetKeepAlive();const i=tt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=ev(i,V1);l.length>1&&this.sendString_(String(l.length));for(let o=0;o<l.length;o++)this.sendString_(l[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Y1))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}an.responsesRequiredToBeHealthy=2;an.healthyTimeout=3e4;class Il{static get ALL_TRANSPORTS(){return[Js,an]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=an&&an.isAvailable();let l=i&&!an.previouslyFailed();if(t.webSocketOnly&&(i||Dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[an];else{const o=this.transports_=[];for(const f of Il.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Il.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Il.globalTransportInitialized_=!1;const F1=6e4,Q1=5e3,X1=10*1024,K1=100*1024,Vf="t",j_="d",W1="s",G_="r",Z1="e",P_="o",q_="a",V_="n",Y_="p",J1="h";class $1{constructor(t,i,l,o,f,h,m,g,p,S){this.id=t,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=g,this.onKill_=p,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ql("c:"+this.id+":"),this.transportManager_=new Il(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Cl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>K1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>X1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Vf in t){const i=t[Vf];i===q_?this.upgradeIfSecondaryHealthy_():i===G_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===P_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=_l("t",t),l=_l("d",t);if(i==="c")this.onSecondaryControl_(l);else if(i==="d")this.pendingDataMessages.push(l);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Y_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:q_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:V_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=_l("t",t),l=_l("d",t);i==="c"?this.onControl_(l):i==="d"&&this.onDataMessage_(l)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=_l(Vf,t);if(j_ in t){const l=t[j_];if(i===J1){const o={...l};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===V_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===W1?this.onConnectionShutdown_(l):i===G_?this.onReset_(l):i===Z1?sh("Server Error: "+l):i===P_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sh("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,l=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Oh!==l&&Dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),Cl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(F1))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Q1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Y_,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(is.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class yv{put(t,i,l,o){}merge(t,i,l,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,l){}onDisconnectMerge(t,i,l){}onDisconnectCancel(t,i){}reportStats(t){}}class vv{constructor(t){this.allowedEvents_=t,this.listeners_={},B(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const l=[...this.listeners_[t]];for(let o=0;o<l.length;o++)l[o].callback.apply(l[o].context,i)}}on(t,i,l){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:l});const o=this.getInitialEvent(t);o&&i.apply(l,o)}off(t,i,l){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let f=0;f<o.length;f++)if(o[f].callback===i&&(!l||l===o[f].context)){o.splice(f,1);return}}validateEventType_(t){B(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}class Do extends vv{static getInstance(){return new Do}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ch()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return B(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const F_=32,Q_=768;class Oe{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let l=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[l]=this.pieces_[o],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function we(){return new Oe("")}function ue(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function Di(a){return a.pieces_.length-a.pieceNum_}function Ue(a){let t=a.pieceNum_;return t<a.pieces_.length&&t++,new Oe(a.pieces_,t)}function Mh(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function eC(a){let t="";for(let i=a.pieceNum_;i<a.pieces_.length;i++)a.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(a.pieces_[i])));return t||"/"}function Ml(a,t=0){return a.pieces_.slice(a.pieceNum_+t)}function Sv(a){if(a.pieceNum_>=a.pieces_.length)return null;const t=[];for(let i=a.pieceNum_;i<a.pieces_.length-1;i++)t.push(a.pieces_[i]);return new Oe(t,0)}function Ke(a,t){const i=[];for(let l=a.pieceNum_;l<a.pieces_.length;l++)i.push(a.pieces_[l]);if(t instanceof Oe)for(let l=t.pieceNum_;l<t.pieces_.length;l++)i.push(t.pieces_[l]);else{const l=t.split("/");for(let o=0;o<l.length;o++)l[o].length>0&&i.push(l[o])}return new Oe(i,0)}function ce(a){return a.pieceNum_>=a.pieces_.length}function yt(a,t){const i=ue(a),l=ue(t);if(i===null)return t;if(i===l)return yt(Ue(a),Ue(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+a+")")}function tC(a,t){const i=Ml(a,0),l=Ml(t,0);for(let o=0;o<i.length&&o<l.length;o++){const f=fs(i[o],l[o]);if(f!==0)return f}return i.length===l.length?0:i.length<l.length?-1:1}function xh(a,t){if(Di(a)!==Di(t))return!1;for(let i=a.pieceNum_,l=t.pieceNum_;i<=a.pieces_.length;i++,l++)if(a.pieces_[i]!==t.pieces_[l])return!1;return!0}function Jt(a,t){let i=a.pieceNum_,l=t.pieceNum_;if(Di(a)>Di(t))return!1;for(;i<a.pieces_.length;){if(a.pieces_[i]!==t.pieces_[l])return!1;++i,++l}return!0}class nC{constructor(t,i){this.errorPrefix_=i,this.parts_=Ml(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=Ko(this.parts_[l]);Ev(this)}}function iC(a,t){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(t),a.byteLength_+=Ko(t),Ev(a)}function sC(a){const t=a.parts_.pop();a.byteLength_-=Ko(t),a.parts_.length>0&&(a.byteLength_-=1)}function Ev(a){if(a.byteLength_>Q_)throw new Error(a.errorPrefix_+"has a key path longer than "+Q_+" bytes ("+a.byteLength_+").");if(a.parts_.length>F_)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+F_+") or object contains a cycle "+ns(a))}function ns(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class kh extends vv{static getInstance(){return new kh}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[t];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}getInitialEvent(t){return B(t==="visible","Unknown event type: "+t),[this.visible_]}}const yl=1e3,aC=300*1e3,X_=30*1e3,lC=1.3,rC=3e4,oC="server_kill",K_=3;class Pn extends yv{constructor(t,i,l,o,f,h,m,g){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=l,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=Pn.nextPersistentConnectionId_++,this.log_=ql("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yl,this.maxReconnectDelay_=aC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");kh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Do.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,l){const o=++this.requestNumber_,f={r:o,a:t,b:i};this.log_(tt(f)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),l&&(this.requestCBHash_[o]=l)}get(t){this.initConnection_();const i=new Hn,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?i.resolve(m):i.reject(m)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),i.promise}listen(t,i,l,o){this.initConnection_();const f=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),B(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:l};this.listens.get(h).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,l=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(l)})}sendListen_(t){const i=t.query,l=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+l+" for "+o);const f={p:l},h="q";t.tag&&(f.q=i._queryObject,f.t=t.tag),f.h=t.hashFn(),this.sendRequest(h,f,m=>{const g=m.d,p=m.s;Pn.warnOnListenWarnings_(g,i),(this.listens.get(l)&&this.listens.get(l).get(o))===t&&(this.log_("listen response",m),p!=="ok"&&this.removeListen_(l,o),t.onComplete&&t.onComplete(p,g))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&yn(t,"w")){const l=aa(t,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',f=i._path.toString();Dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Kb(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=X_)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=Xb(t)?"auth":"gauth",l={cred:t};this.authOverride_===null?l.noauth=!0:typeof this.authOverride_=="object"&&(l.authvar=this.authOverride_),this.sendRequest(i,l,o=>{const f=o.s,h=o.d||"error";this.authToken_===t&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,l=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,l)})}unlisten(t,i){const l=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+l+" "+o),B(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,o)&&this.connected_&&this.sendUnlisten_(l,o,t._queryObject,i)}sendUnlisten_(t,i,l,o){this.log_("Unlisten on "+t+" for "+i);const f={p:t},h="n";o&&(f.q=l,f.t=o),this.sendRequest(h,f)}onDisconnectPut(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:l})}onDisconnectMerge(t,i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,l):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:l})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,l,o){const f={p:i,d:l};this.log_("onDisconnect "+t,f),this.sendRequest(t,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,l,o){this.putInternal("p",t,i,l,o)}merge(t,i,l,o){this.putInternal("m",t,i,l,o)}putInternal(t,i,l,o,f){this.initConnection_();const h={p:i,d:l};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,l=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,l,f=>{this.log_(i+" response",f),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,l=>{if(l.s!=="ok"){const f=l.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+tt(t));const i=t.r,l=this.requestCBHash_[i];l&&(delete this.requestCBHash_[i],l(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):sh("Unrecognized action received from server: "+tt(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=yl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>rC&&(this.reconnectDelay_=yl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),l=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Pn.nextConnectionId_++,f=this.lastSessionId;let h=!1,m=null;const g=function(){m?m.close():(h=!0,l())},p=function(y){B(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(y)};this.realtime_={close:g,sendRequest:p};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,E]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);h?mt("getToken() completed but was canceled"):(mt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=E&&E.token,m=new $1(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,l,U=>{Dt(U+" ("+this.repoInfo_.toString()+")"),this.interrupt(oC)},f))}catch(y){this.log_("Failed to get token: "+y),h||(this.repoInfo_.nodeAdmin&&Dt(y),g())}}}interrupt(t){mt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){mt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Ao(this.interruptReasons_)&&(this.reconnectDelay_=yl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let l;i?l=i.map(f=>Rh(f)).join("$"):l="default";const o=this.removeListen_(t,l);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const l=new Oe(t).toString();let o;if(this.listens.has(l)){const f=this.listens.get(l);o=f.get(i),f.delete(i),f.size===0&&this.listens.delete(l)}else o=void 0;return o}onAuthRevoked_(t,i){mt("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=K_&&(this.reconnectDelay_=X_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){mt("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=K_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+Zy.replace(/\./g,"-")]=1,Ch()?t["framework.cordova"]=1:qy()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Do.getInstance().currentlyOnline();return Ao(this.interruptReasons_)&&t}}Pn.nextPersistentConnectionId_=0;Pn.nextConnectionId_=0;class fe{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new fe(t,i)}}class Zo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const l=new fe(oa,t),o=new fe(oa,i);return this.compare(l,o)!==0}minPost(){return fe.MIN}}let go;class bv extends Zo{static get __EMPTY_NODE(){return go}static set __EMPTY_NODE(t){go=t}compare(t,i){return fs(t.name,i.name)}isDefinedOn(t){throw ha("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return fe.MIN}maxPost(){return new fe(rs,go)}makePost(t,i){return B(typeof t=="string","KeyIndex indexValue must always be a string."),new fe(t,go)}toString(){return".key"}}const ta=new bv;class _o{constructor(t,i,l,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?l(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class rt{constructor(t,i,l,o,f){this.key=t,this.value=i,this.color=l??rt.RED,this.left=o??Ot.EMPTY_NODE,this.right=f??Ot.EMPTY_NODE}copy(t,i,l,o,f){return new rt(t??this.key,i??this.value,l??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,l){let o=this;const f=l(t,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(t,i,l),null):f===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,l)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ot.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let l,o;if(l=this,i(t,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),i(t,l.key)===0){if(l.right.isEmpty())return Ot.EMPTY_NODE;o=l.right.min_(),l=l.copy(o.key,o.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}rt.RED=!0;rt.BLACK=!1;class uC{copy(t,i,l,o,f){return this}insert(t,i,l){return new rt(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ot{constructor(t,i=Ot.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Ot(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,rt.BLACK,null,null))}remove(t){return new Ot(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,rt.BLACK,null,null))}get(t){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(t,l.key),i===0)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(t){let i,l=this.root_,o=null;for(;!l.isEmpty();)if(i=this.comparator_(t,l.key),i===0){if(l.left.isEmpty())return o?o.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}else i<0?l=l.left:i>0&&(o=l,l=l.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new _o(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new _o(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new _o(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new _o(this.root_,null,this.comparator_,!0,t)}}Ot.EMPTY_NODE=new uC;function cC(a,t){return fs(a.name,t.name)}function Uh(a,t){return fs(a,t)}let lh;function fC(a){lh=a}const Tv=function(a){return typeof a=="number"?"number:"+tv(a):"string:"+a},Cv=function(a){if(a.isLeafNode()){const t=a.val();B(typeof t=="string"||typeof t=="number"||typeof t=="object"&&yn(t,".sv"),"Priority must be a string or number.")}else B(a===lh||a.isEmpty(),"priority of unexpected type.");B(a===lh||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let W_;class lt{static set __childrenNodeConstructor(t){W_=t}static get __childrenNodeConstructor(){return W_}constructor(t,i=lt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Cv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new lt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ce(t)?this:ue(t)===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:lt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const l=ue(t);return l===null?i:i.isEmpty()&&l!==".priority"?this:(B(l!==".priority"||Di(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(l,lt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Tv(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=tv(this.value_):t+=this.value_,this.lazyHash_=$y(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===lt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof lt.__childrenNodeConstructor?-1:(B(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,l=typeof this.value_,o=lt.VALUE_TYPE_ORDER.indexOf(i),f=lt.VALUE_TYPE_ORDER.indexOf(l);return B(o>=0,"Unknown leaf type: "+i),B(f>=0,"Unknown leaf type: "+l),o===f?l==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let wv,Av;function hC(a){wv=a}function dC(a){Av=a}class mC extends Zo{compare(t,i){const l=t.node.getPriority(),o=i.node.getPriority(),f=l.compareTo(o);return f===0?fs(t.name,i.name):f}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(rs,new lt("[PRIORITY-POST]",Av))}makePost(t,i){const l=wv(t);return new fe(i,new lt("[PRIORITY-POST]",l))}toString(){return".priority"}}const Ge=new mC;const pC=Math.log(2);class gC{constructor(t){const i=f=>parseInt(Math.log(f)/pC,10),l=f=>parseInt(Array(f+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=l(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Io=function(a,t,i,l){a.sort(t);const o=function(g,p){const S=p-g;let y,E;if(S===0)return null;if(S===1)return y=a[g],E=i?i(y):y,new rt(E,y.node,rt.BLACK,null,null);{const U=parseInt(S/2,10)+g,L=o(g,U),G=o(U+1,p);return y=a[U],E=i?i(y):y,new rt(E,y.node,rt.BLACK,L,G)}},f=function(g){let p=null,S=null,y=a.length;const E=function(L,G){const se=y-L,ne=y;y-=L;const X=o(se+1,ne),Q=a[se],Ee=i?i(Q):Q;U(new rt(Ee,Q.node,G,null,X))},U=function(L){p?(p.left=L,p=L):(S=L,p=L)};for(let L=0;L<g.count;++L){const G=g.nextBitIsOne(),se=Math.pow(2,g.count-(L+1));G?E(se,rt.BLACK):(E(se,rt.BLACK),E(se,rt.RED))}return S},h=new gC(a.length),m=f(h);return new Ot(l||t,m)};let Yf;const Zs={};class Bn{static get Default(){return B(Zs&&Ge,"ChildrenNode.ts has not been loaded"),Yf=Yf||new Bn({".priority":Zs},{".priority":Ge}),Yf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=aa(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Ot?i:null}hasIndex(t){return yn(this.indexSet_,t.toString())}addIndex(t,i){B(t!==ta,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let o=!1;const f=i.getIterator(fe.Wrap);let h=f.getNext();for(;h;)o=o||t.isDefinedOn(h.node),l.push(h),h=f.getNext();let m;o?m=Io(l,t.getCompare()):m=Zs;const g=t.toString(),p={...this.indexSet_};p[g]=t;const S={...this.indexes_};return S[g]=m,new Bn(S,p)}addToIndexes(t,i){const l=No(this.indexes_,(o,f)=>{const h=aa(this.indexSet_,f);if(B(h,"Missing index implementation for "+f),o===Zs)if(h.isDefinedOn(t.node)){const m=[],g=i.getIterator(fe.Wrap);let p=g.getNext();for(;p;)p.name!==t.name&&m.push(p),p=g.getNext();return m.push(t),Io(m,h.getCompare())}else return Zs;else{const m=i.get(t.name);let g=o;return m&&(g=g.remove(new fe(t.name,m))),g.insert(t,t.node)}});return new Bn(l,this.indexSet_)}removeFromIndexes(t,i){const l=No(this.indexes_,o=>{if(o===Zs)return o;{const f=i.get(t.name);return f?o.remove(new fe(t.name,f)):o}});return new Bn(l,this.indexSet_)}}let vl;class Z{static get EMPTY_NODE(){return vl||(vl=new Z(new Ot(Uh),null,Bn.Default))}constructor(t,i,l){this.children_=t,this.priorityNode_=i,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Cv(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vl}updatePriority(t){return this.children_.isEmpty()?this:new Z(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?vl:i}}getChild(t){const i=ue(t);return i===null?this:this.getImmediateChild(i).getChild(Ue(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(B(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const l=new fe(t,i);let o,f;i.isEmpty()?(o=this.children_.remove(t),f=this.indexMap_.removeFromIndexes(l,this.children_)):(o=this.children_.insert(t,i),f=this.indexMap_.addToIndexes(l,this.children_));const h=o.isEmpty()?vl:this.priorityNode_;return new Z(o,h,f)}}updateChild(t,i){const l=ue(t);if(l===null)return i;{B(ue(t)!==".priority"||Di(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(l).updateChild(Ue(t),i);return this.updateImmediateChild(l,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let l=0,o=0,f=!0;if(this.forEachChild(Ge,(h,m)=>{i[h]=m.val(t),l++,f&&Z.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!t&&f&&o<2*l){const h=[];for(const m in i)h[m]=i[m];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Tv(this.getPriority().val())+":"),this.forEachChild(Ge,(i,l)=>{const o=l.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":$y(t)}return this.lazyHash_}getPredecessorChildName(t,i,l){const o=this.resolveIndex_(l);if(o){const f=o.getPredecessorKey(new fe(t,i));return f?f.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.minKey();return l&&l.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new fe(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const l=i.maxKey();return l&&l.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new fe(i,this.children_.get(i)):null}forEachChild(t,i){const l=this.resolveIndex_(t);return l?l.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,fe.Wrap);let f=o.peek();for(;f!=null&&i.compare(f,t)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const l=this.resolveIndex_(i);if(l)return l.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,fe.Wrap);let f=o.peek();for(;f!=null&&i.compare(f,t)>0;)o.getNext(),f=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Vl?-1:0}withIndex(t){if(t===ta||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new Z(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ta||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const l=this.getIterator(Ge),o=i.getIterator(Ge);let f=l.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=l.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===ta?null:this.indexMap_.get(t.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _C extends Z{constructor(){super(new Ot(Uh),Z.EMPTY_NODE,Bn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Z.EMPTY_NODE}isEmpty(){return!1}}const Vl=new _C;Object.defineProperties(fe,{MIN:{value:new fe(oa,Z.EMPTY_NODE)},MAX:{value:new fe(rs,Vl)}});bv.__EMPTY_NODE=Z.EMPTY_NODE;lt.__childrenNodeConstructor=Z;fC(Vl);dC(Vl);const yC=!0;function Xe(a,t=null){if(a===null)return Z.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(t=a[".priority"]),B(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const i=a;return new lt(i,Xe(t))}if(!(a instanceof Array)&&yC){const i=[];let l=!1;if(gt(a,(h,m)=>{if(h.substring(0,1)!=="."){const g=Xe(m);g.isEmpty()||(l=l||!g.getPriority().isEmpty(),i.push(new fe(h,g)))}}),i.length===0)return Z.EMPTY_NODE;const f=Io(i,cC,h=>h.name,Uh);if(l){const h=Io(i,Ge.getCompare());return new Z(f,Xe(t),new Bn({".priority":h},{".priority":Ge}))}else return new Z(f,Xe(t),Bn.Default)}else{let i=Z.EMPTY_NODE;return gt(a,(l,o)=>{if(yn(a,l)&&l.substring(0,1)!=="."){const f=Xe(o);(f.isLeafNode()||!f.isEmpty())&&(i=i.updateImmediateChild(l,f))}}),i.updatePriority(Xe(t))}}hC(Xe);class vC extends Zo{constructor(t){super(),this.indexPath_=t,B(!ce(t)&&ue(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const l=this.extractChild(t.node),o=this.extractChild(i.node),f=l.compareTo(o);return f===0?fs(t.name,i.name):f}makePost(t,i){const l=Xe(t),o=Z.EMPTY_NODE.updateChild(this.indexPath_,l);return new fe(i,o)}maxPost(){const t=Z.EMPTY_NODE.updateChild(this.indexPath_,Vl);return new fe(rs,t)}toString(){return Ml(this.indexPath_,0).join("/")}}class SC extends Zo{compare(t,i){const l=t.node.compareTo(i.node);return l===0?fs(t.name,i.name):l}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(t,i){const l=Xe(t);return new fe(i,l)}toString(){return".value"}}const EC=new SC;function Nv(a){return{type:"value",snapshotNode:a}}function ua(a,t){return{type:"child_added",snapshotNode:t,childName:a}}function xl(a,t){return{type:"child_removed",snapshotNode:t,childName:a}}function kl(a,t,i){return{type:"child_changed",snapshotNode:t,childName:a,oldSnap:i}}function bC(a,t){return{type:"child_moved",snapshotNode:t,childName:a}}class Lh{constructor(t){this.index_=t}updateChild(t,i,l,o,f,h){B(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(i);return m.getChild(o).equals(l.getChild(o))&&m.isEmpty()===l.isEmpty()||(h!=null&&(l.isEmpty()?t.hasChild(i)?h.trackChildChange(xl(i,m)):B(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(ua(i,l)):h.trackChildChange(kl(i,l,m))),t.isLeafNode()&&l.isEmpty())?t:t.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(t,i,l){return l!=null&&(t.isLeafNode()||t.forEachChild(Ge,(o,f)=>{i.hasChild(o)||l.trackChildChange(xl(o,f))}),i.isLeafNode()||i.forEachChild(Ge,(o,f)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(f)||l.trackChildChange(kl(o,f,h))}else l.trackChildChange(ua(o,f))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?Z.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ul{constructor(t){this.indexedFilter_=new Lh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ul.getStartPost_(t),this.endPost_=Ul.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,l=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&l}updateChild(t,i,l,o,f,h){return this.matches(new fe(i,l))||(l=Z.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,l,o,f,h)}updateFullNode(t,i,l){i.isLeafNode()&&(i=Z.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(Z.EMPTY_NODE);const f=this;return i.forEachChild(Ge,(h,m)=>{f.matches(new fe(h,m))||(o=o.updateImmediateChild(h,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}class TC{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Ul(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,l,o,f,h){return this.rangedFilter_.matches(new fe(i,l))||(l=Z.EMPTY_NODE),t.getImmediateChild(i).equals(l)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,l,o,f,h):this.fullLimitUpdateChild_(t,i,l,f,h)}updateFullNode(t,i,l){let o;if(i.isLeafNode()||i.isEmpty())o=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=Z.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))o=o.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(Z.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const m=f.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:o=o.updateImmediateChild(m.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,l)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,l,o,f){let h;if(this.reverse_){const y=this.index_.getCompare();h=(E,U)=>y(U,E)}else h=this.index_.getCompare();const m=t;B(m.numChildren()===this.limit_,"");const g=new fe(i,l),p=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),S=this.rangedFilter_.matches(g);if(m.hasChild(i)){const y=m.getImmediateChild(i);let E=o.getChildAfterChild(this.index_,p,this.reverse_);for(;E!=null&&(E.name===i||m.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const U=E==null?1:h(E,g);if(S&&!l.isEmpty()&&U>=0)return f?.trackChildChange(kl(i,l,y)),m.updateImmediateChild(i,l);{f?.trackChildChange(xl(i,y));const G=m.updateImmediateChild(i,Z.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(f?.trackChildChange(ua(E.name,E.node)),G.updateImmediateChild(E.name,E.node)):G}}else return l.isEmpty()?t:S&&h(p,g)>=0?(f!=null&&(f.trackChildChange(xl(p.name,p.node)),f.trackChildChange(ua(i,l))),m.updateImmediateChild(i,l).updateImmediateChild(p.name,Z.EMPTY_NODE)):t}}class zh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oa}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const t=new zh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function CC(a){return a.loadsAllData()?new Lh(a.getIndex()):a.hasLimit()?new TC(a):new Ul(a)}function Z_(a){const t={};if(a.isDefault())return t;let i;if(a.index_===Ge?i="$priority":a.index_===EC?i="$value":a.index_===ta?i="$key":(B(a.index_ instanceof vC,"Unrecognized index type!"),i=a.index_.toString()),t.orderBy=tt(i),a.startSet_){const l=a.startAfterSet_?"startAfter":"startAt";t[l]=tt(a.indexStartValue_),a.startNameSet_&&(t[l]+=","+tt(a.indexStartName_))}if(a.endSet_){const l=a.endBeforeSet_?"endBefore":"endAt";t[l]=tt(a.indexEndValue_),a.endNameSet_&&(t[l]+=","+tt(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?t.limitToFirst=a.limit_:t.limitToLast=a.limit_),t}function J_(a){const t={};if(a.startSet_&&(t.sp=a.indexStartValue_,a.startNameSet_&&(t.sn=a.indexStartName_),t.sin=!a.startAfterSet_),a.endSet_&&(t.ep=a.indexEndValue_,a.endNameSet_&&(t.en=a.indexEndName_),t.ein=!a.endBeforeSet_),a.limitSet_){t.l=a.limit_;let i=a.viewFrom_;i===""&&(a.isViewFromLeft()?i="l":i="r"),t.vf=i}return a.index_!==Ge&&(t.i=a.index_.toString()),t}class Mo extends yv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(B(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,l,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=o,this.log_=ql("p:rest:"),this.listens_={}}listen(t,i,l,o){const f=t._path.toString();this.log_("Listen called for "+f+" "+t._queryIdentifier);const h=Mo.getListenId_(t,l),m={};this.listens_[h]=m;const g=Z_(t._queryParams);this.restRequest_(f+".json",g,(p,S)=>{let y=S;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(f,y,!1,l),aa(this.listens_,h)===m){let E;p?p===401?E="permission_denied":E="rest_error:"+p:E="ok",o(E,null)}})}unlisten(t,i){const l=Mo.getListenId_(t,i);delete this.listens_[l]}get(t){const i=Z_(t._queryParams),l=t._path.toString(),o=new Hn;return this.restRequest_(l+".json",i,(f,h)=>{let m=h;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(l,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(i.auth=o.accessToken),f&&f.token&&(i.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ma(i);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(l&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=Ol(m.responseText)}catch{Dt("Failed to parse JSON response for "+h+": "+m.responseText)}l(null,g)}else m.status!==401&&m.status!==404&&Dt("Got unsuccessful REST response for "+h+" Status: "+m.status),l(m.status);l=null}},m.open("GET",h,!0),m.send()})}}class wC{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}function xo(){return{value:null,children:new Map}}function _a(a,t,i){if(ce(t))a.value=i,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(t,i);else{const l=ue(t);a.children.has(l)||a.children.set(l,xo());const o=a.children.get(l);t=Ue(t),_a(o,t,i)}}function rh(a,t){if(ce(t))return a.value=null,a.children.clear(),!0;if(a.value!==null){if(a.value.isLeafNode())return!1;{const i=a.value;return a.value=null,i.forEachChild(Ge,(l,o)=>{_a(a,new Oe(l),o)}),rh(a,t)}}else if(a.children.size>0){const i=ue(t);return t=Ue(t),a.children.has(i)&&rh(a.children.get(i),t)&&a.children.delete(i),a.children.size===0}else return!0}function oh(a,t,i){a.value!==null?i(t,a.value):AC(a,(l,o)=>{const f=new Oe(t.toString()+"/"+l);oh(o,f,i)})}function AC(a,t){a.children.forEach((i,l)=>{t(l,i)})}class NC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&gt(this.last_,(l,o)=>{i[l]=i[l]-o}),this.last_=t,i}}const $_=10*1e3,RC=30*1e3,OC=300*1e3;class DC{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new NC(t);const l=$_+(RC-$_)*Math.random();Cl(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const t=this.statsListener_.get(),i={};let l=!1;gt(t,(o,f)=>{f>0&&yn(this.statsToReport_,o)&&(i[o]=f,l=!0)}),l&&this.server_.reportStats(i),Cl(this.reportStats_.bind(this),Math.floor(Math.random()*2*OC))}}var ln;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ln||(ln={}));function Rv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Hh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Bh(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class ko{constructor(t,i,l){this.path=t,this.affectedTree=i,this.revert=l,this.type=ln.ACK_USER_WRITE,this.source=Rv()}operationForChild(t){if(ce(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Oe(t));return new ko(we(),i,this.revert)}}else return B(ue(this.path)===t,"operationForChild called for unrelated child."),new ko(Ue(this.path),this.affectedTree,this.revert)}}class Ll{constructor(t,i){this.source=t,this.path=i,this.type=ln.LISTEN_COMPLETE}operationForChild(t){return ce(this.path)?new Ll(this.source,we()):new Ll(this.source,Ue(this.path))}}class os{constructor(t,i,l){this.source=t,this.path=i,this.snap=l,this.type=ln.OVERWRITE}operationForChild(t){return ce(this.path)?new os(this.source,we(),this.snap.getImmediateChild(t)):new os(this.source,Ue(this.path),this.snap)}}class zl{constructor(t,i,l){this.source=t,this.path=i,this.children=l,this.type=ln.MERGE}operationForChild(t){if(ce(this.path)){const i=this.children.subtree(new Oe(t));return i.isEmpty()?null:i.value?new os(this.source,we(),i.value):new zl(this.source,we(),i)}else return B(ue(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new zl(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ii{constructor(t,i,l){this.node_=t,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ce(t))return this.isFullyInitialized()&&!this.filtered_;const i=ue(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class IC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function MC(a,t,i,l){const o=[],f=[];return t.forEach(h=>{h.type==="child_changed"&&a.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(bC(h.childName,h.snapshotNode))}),Sl(a,o,"child_removed",t,l,i),Sl(a,o,"child_added",t,l,i),Sl(a,o,"child_moved",f,l,i),Sl(a,o,"child_changed",t,l,i),Sl(a,o,"value",t,l,i),o}function Sl(a,t,i,l,o,f){const h=l.filter(m=>m.type===i);h.sort((m,g)=>kC(a,m,g)),h.forEach(m=>{const g=xC(a,m,f);o.forEach(p=>{p.respondsTo(m.type)&&t.push(p.createEvent(g,a.query_))})})}function xC(a,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,a.index_)),t}function kC(a,t,i){if(t.childName==null||i.childName==null)throw ha("Should only compare child_ events.");const l=new fe(t.childName,t.snapshotNode),o=new fe(i.childName,i.snapshotNode);return a.index_.compare(l,o)}function Jo(a,t){return{eventCache:a,serverCache:t}}function wl(a,t,i,l){return Jo(new Ii(t,i,l),a.serverCache)}function Ov(a,t,i,l){return Jo(a.eventCache,new Ii(t,i,l))}function Uo(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function us(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let Ff;const UC=()=>(Ff||(Ff=new Ot(v1)),Ff);class Be{static fromObject(t){let i=new Be(null);return gt(t,(l,o)=>{i=i.set(new Oe(l),o)}),i}constructor(t,i=UC()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:we(),value:this.value};if(ce(t))return null;{const l=ue(t),o=this.children.get(l);if(o!==null){const f=o.findRootMostMatchingPathAndValue(Ue(t),i);return f!=null?{path:Ke(new Oe(l),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ce(t))return this;{const i=ue(t),l=this.children.get(i);return l!==null?l.subtree(Ue(t)):new Be(null)}}set(t,i){if(ce(t))return new Be(i,this.children);{const l=ue(t),f=(this.children.get(l)||new Be(null)).set(Ue(t),i),h=this.children.insert(l,f);return new Be(this.value,h)}}remove(t){if(ce(t))return this.children.isEmpty()?new Be(null):new Be(null,this.children);{const i=ue(t),l=this.children.get(i);if(l){const o=l.remove(Ue(t));let f;return o.isEmpty()?f=this.children.remove(i):f=this.children.insert(i,o),this.value===null&&f.isEmpty()?new Be(null):new Be(this.value,f)}else return this}}get(t){if(ce(t))return this.value;{const i=ue(t),l=this.children.get(i);return l?l.get(Ue(t)):null}}setTree(t,i){if(ce(t))return i;{const l=ue(t),f=(this.children.get(l)||new Be(null)).setTree(Ue(t),i);let h;return f.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,f),new Be(this.value,h)}}fold(t){return this.fold_(we(),t)}fold_(t,i){const l={};return this.children.inorderTraversal((o,f)=>{l[o]=f.fold_(Ke(t,o),i)}),i(t,this.value,l)}findOnPath(t,i){return this.findOnPath_(t,we(),i)}findOnPath_(t,i,l){const o=this.value?l(i,this.value):!1;if(o)return o;if(ce(t))return null;{const f=ue(t),h=this.children.get(f);return h?h.findOnPath_(Ue(t),Ke(i,f),l):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,we(),i)}foreachOnPath_(t,i,l){if(ce(t))return this;{this.value&&l(i,this.value);const o=ue(t),f=this.children.get(o);return f?f.foreachOnPath_(Ue(t),Ke(i,o),l):new Be(null)}}foreach(t){this.foreach_(we(),t)}foreach_(t,i){this.children.inorderTraversal((l,o)=>{o.foreach_(Ke(t,l),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,l)=>{l.value&&t(i,l.value)})}}class on{constructor(t){this.writeTree_=t}static empty(){return new on(new Be(null))}}function Al(a,t,i){if(ce(t))return new on(new Be(i));{const l=a.writeTree_.findRootMostValueAndPath(t);if(l!=null){const o=l.path;let f=l.value;const h=yt(o,t);return f=f.updateChild(h,i),new on(a.writeTree_.set(o,f))}else{const o=new Be(i),f=a.writeTree_.setTree(t,o);return new on(f)}}}function ey(a,t,i){let l=a;return gt(i,(o,f)=>{l=Al(l,Ke(t,o),f)}),l}function ty(a,t){if(ce(t))return on.empty();{const i=a.writeTree_.setTree(t,new Be(null));return new on(i)}}function uh(a,t){return hs(a,t)!=null}function hs(a,t){const i=a.writeTree_.findRootMostValueAndPath(t);return i!=null?a.writeTree_.get(i.path).getChild(yt(i.path,t)):null}function ny(a){const t=[],i=a.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ge,(l,o)=>{t.push(new fe(l,o))}):a.writeTree_.children.inorderTraversal((l,o)=>{o.value!=null&&t.push(new fe(l,o.value))}),t}function Ni(a,t){if(ce(t))return a;{const i=hs(a,t);return i!=null?new on(new Be(i)):new on(a.writeTree_.subtree(t))}}function ch(a){return a.writeTree_.isEmpty()}function ca(a,t){return Dv(we(),a.writeTree_,t)}function Dv(a,t,i){if(t.value!=null)return i.updateChild(a,t.value);{let l=null;return t.children.inorderTraversal((o,f)=>{o===".priority"?(B(f.value!==null,"Priority writes must always be leaf nodes"),l=f.value):i=Dv(Ke(a,o),f,i)}),!i.getChild(a).isEmpty()&&l!==null&&(i=i.updateChild(Ke(a,".priority"),l)),i}}function $o(a,t){return kv(t,a)}function LC(a,t,i,l,o){B(l>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:t,snap:i,writeId:l,visible:o}),o&&(a.visibleWrites=Al(a.visibleWrites,t,i)),a.lastWriteId=l}function zC(a,t){for(let i=0;i<a.allWrites.length;i++){const l=a.allWrites[i];if(l.writeId===t)return l}return null}function HC(a,t){const i=a.allWrites.findIndex(m=>m.writeId===t);B(i>=0,"removeWrite called with nonexistent writeId.");const l=a.allWrites[i];a.allWrites.splice(i,1);let o=l.visible,f=!1,h=a.allWrites.length-1;for(;o&&h>=0;){const m=a.allWrites[h];m.visible&&(h>=i&&BC(m,l.path)?o=!1:Jt(l.path,m.path)&&(f=!0)),h--}if(o){if(f)return jC(a),!0;if(l.snap)a.visibleWrites=ty(a.visibleWrites,l.path);else{const m=l.children;gt(m,g=>{a.visibleWrites=ty(a.visibleWrites,Ke(l.path,g))})}return!0}else return!1}function BC(a,t){if(a.snap)return Jt(a.path,t);for(const i in a.children)if(a.children.hasOwnProperty(i)&&Jt(Ke(a.path,i),t))return!0;return!1}function jC(a){a.visibleWrites=Iv(a.allWrites,GC,we()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function GC(a){return a.visible}function Iv(a,t,i){let l=on.empty();for(let o=0;o<a.length;++o){const f=a[o];if(t(f)){const h=f.path;let m;if(f.snap)Jt(i,h)?(m=yt(i,h),l=Al(l,m,f.snap)):Jt(h,i)&&(m=yt(h,i),l=Al(l,we(),f.snap.getChild(m)));else if(f.children){if(Jt(i,h))m=yt(i,h),l=ey(l,m,f.children);else if(Jt(h,i))if(m=yt(h,i),ce(m))l=ey(l,we(),f.children);else{const g=aa(f.children,ue(m));if(g){const p=g.getChild(Ue(m));l=Al(l,we(),p)}}}else throw ha("WriteRecord should have .snap or .children")}}return l}function Mv(a,t,i,l,o){if(!l&&!o){const f=hs(a.visibleWrites,t);if(f!=null)return f;{const h=Ni(a.visibleWrites,t);if(ch(h))return i;if(i==null&&!uh(h,we()))return null;{const m=i||Z.EMPTY_NODE;return ca(h,m)}}}else{const f=Ni(a.visibleWrites,t);if(!o&&ch(f))return i;if(!o&&i==null&&!uh(f,we()))return null;{const h=function(p){return(p.visible||o)&&(!l||!~l.indexOf(p.writeId))&&(Jt(p.path,t)||Jt(t,p.path))},m=Iv(a.allWrites,h,t),g=i||Z.EMPTY_NODE;return ca(m,g)}}}function PC(a,t,i){let l=Z.EMPTY_NODE;const o=hs(a.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Ge,(f,h)=>{l=l.updateImmediateChild(f,h)}),l;if(i){const f=Ni(a.visibleWrites,t);return i.forEachChild(Ge,(h,m)=>{const g=ca(Ni(f,new Oe(h)),m);l=l.updateImmediateChild(h,g)}),ny(f).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}else{const f=Ni(a.visibleWrites,t);return ny(f).forEach(h=>{l=l.updateImmediateChild(h.name,h.node)}),l}}function qC(a,t,i,l,o){B(l||o,"Either existingEventSnap or existingServerSnap must exist");const f=Ke(t,i);if(uh(a.visibleWrites,f))return null;{const h=Ni(a.visibleWrites,f);return ch(h)?o.getChild(i):ca(h,o.getChild(i))}}function VC(a,t,i,l){const o=Ke(t,i),f=hs(a.visibleWrites,o);if(f!=null)return f;if(l.isCompleteForChild(i)){const h=Ni(a.visibleWrites,o);return ca(h,l.getNode().getImmediateChild(i))}else return null}function YC(a,t){return hs(a.visibleWrites,t)}function FC(a,t,i,l,o,f,h){let m;const g=Ni(a.visibleWrites,t),p=hs(g,we());if(p!=null)m=p;else if(i!=null)m=ca(g,i);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const S=[],y=h.getCompare(),E=f?m.getReverseIteratorFrom(l,h):m.getIteratorFrom(l,h);let U=E.getNext();for(;U&&S.length<o;)y(U,l)!==0&&S.push(U),U=E.getNext();return S}else return[]}function QC(){return{visibleWrites:on.empty(),allWrites:[],lastWriteId:-1}}function Lo(a,t,i,l){return Mv(a.writeTree,a.treePath,t,i,l)}function jh(a,t){return PC(a.writeTree,a.treePath,t)}function iy(a,t,i,l){return qC(a.writeTree,a.treePath,t,i,l)}function zo(a,t){return YC(a.writeTree,Ke(a.treePath,t))}function XC(a,t,i,l,o,f){return FC(a.writeTree,a.treePath,t,i,l,o,f)}function Gh(a,t,i){return VC(a.writeTree,a.treePath,t,i)}function xv(a,t){return kv(Ke(a.treePath,t),a.writeTree)}function kv(a,t){return{treePath:a,writeTree:t}}class KC{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,l=t.childName;B(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),B(l!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(l);if(o){const f=o.type;if(i==="child_added"&&f==="child_removed")this.changeMap.set(l,kl(l,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&f==="child_added")this.changeMap.delete(l);else if(i==="child_removed"&&f==="child_changed")this.changeMap.set(l,xl(l,o.oldSnap));else if(i==="child_changed"&&f==="child_added")this.changeMap.set(l,ua(l,t.snapshotNode));else if(i==="child_changed"&&f==="child_changed")this.changeMap.set(l,kl(l,t.snapshotNode,o.oldSnap));else throw ha("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(l,t)}getChanges(){return Array.from(this.changeMap.values())}}class WC{getCompleteChild(t){return null}getChildAfterChild(t,i,l){return null}}const Uv=new WC;class Ph{constructor(t,i,l=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const l=this.optCompleteServerCache_!=null?new Ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gh(this.writes_,t,l)}}getChildAfterChild(t,i,l){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:us(this.viewCache_),f=XC(this.writes_,o,i,1,l,t);return f.length===0?null:f[0]}}function ZC(a){return{filter:a}}function JC(a,t){B(t.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),B(t.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function $C(a,t,i,l,o){const f=new KC;let h,m;if(i.type===ln.OVERWRITE){const p=i;p.source.fromUser?h=fh(a,t,p.path,p.snap,l,o,f):(B(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered()&&!ce(p.path),h=Ho(a,t,p.path,p.snap,l,o,m,f))}else if(i.type===ln.MERGE){const p=i;p.source.fromUser?h=tw(a,t,p.path,p.children,l,o,f):(B(p.source.fromServer,"Unknown source."),m=p.source.tagged||t.serverCache.isFiltered(),h=hh(a,t,p.path,p.children,l,o,m,f))}else if(i.type===ln.ACK_USER_WRITE){const p=i;p.revert?h=sw(a,t,p.path,l,o,f):h=nw(a,t,p.path,p.affectedTree,l,o,f)}else if(i.type===ln.LISTEN_COMPLETE)h=iw(a,t,i.path,l,f);else throw ha("Unknown operation type: "+i.type);const g=f.getChanges();return ew(t,h,g),{viewCache:h,changes:g}}function ew(a,t,i){const l=t.eventCache;if(l.isFullyInitialized()){const o=l.getNode().isLeafNode()||l.getNode().isEmpty(),f=Uo(a);(i.length>0||!a.eventCache.isFullyInitialized()||o&&!l.getNode().equals(f)||!l.getNode().getPriority().equals(f.getPriority()))&&i.push(Nv(Uo(t)))}}function Lv(a,t,i,l,o,f){const h=t.eventCache;if(zo(l,i)!=null)return t;{let m,g;if(ce(i))if(B(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const p=us(t),S=p instanceof Z?p:Z.EMPTY_NODE,y=jh(l,S);m=a.filter.updateFullNode(t.eventCache.getNode(),y,f)}else{const p=Lo(l,us(t));m=a.filter.updateFullNode(t.eventCache.getNode(),p,f)}else{const p=ue(i);if(p===".priority"){B(Di(i)===1,"Can't have a priority with additional path components");const S=h.getNode();g=t.serverCache.getNode();const y=iy(l,i,S,g);y!=null?m=a.filter.updatePriority(S,y):m=h.getNode()}else{const S=Ue(i);let y;if(h.isCompleteForChild(p)){g=t.serverCache.getNode();const E=iy(l,i,h.getNode(),g);E!=null?y=h.getNode().getImmediateChild(p).updateChild(S,E):y=h.getNode().getImmediateChild(p)}else y=Gh(l,p,t.serverCache);y!=null?m=a.filter.updateChild(h.getNode(),p,y,S,o,f):m=h.getNode()}}return wl(t,m,h.isFullyInitialized()||ce(i),a.filter.filtersNodes())}}function Ho(a,t,i,l,o,f,h,m){const g=t.serverCache;let p;const S=h?a.filter:a.filter.getIndexedFilter();if(ce(i))p=S.updateFullNode(g.getNode(),l,null);else if(S.filtersNodes()&&!g.isFiltered()){const U=g.getNode().updateChild(i,l);p=S.updateFullNode(g.getNode(),U,null)}else{const U=ue(i);if(!g.isCompleteForPath(i)&&Di(i)>1)return t;const L=Ue(i),se=g.getNode().getImmediateChild(U).updateChild(L,l);U===".priority"?p=S.updatePriority(g.getNode(),se):p=S.updateChild(g.getNode(),U,se,L,Uv,null)}const y=Ov(t,p,g.isFullyInitialized()||ce(i),S.filtersNodes()),E=new Ph(o,y,f);return Lv(a,y,i,o,E,m)}function fh(a,t,i,l,o,f,h){const m=t.eventCache;let g,p;const S=new Ph(o,t,f);if(ce(i))p=a.filter.updateFullNode(t.eventCache.getNode(),l,h),g=wl(t,p,!0,a.filter.filtersNodes());else{const y=ue(i);if(y===".priority")p=a.filter.updatePriority(t.eventCache.getNode(),l),g=wl(t,p,m.isFullyInitialized(),m.isFiltered());else{const E=Ue(i),U=m.getNode().getImmediateChild(y);let L;if(ce(E))L=l;else{const G=S.getCompleteChild(y);G!=null?Mh(E)===".priority"&&G.getChild(Sv(E)).isEmpty()?L=G:L=G.updateChild(E,l):L=Z.EMPTY_NODE}if(U.equals(L))g=t;else{const G=a.filter.updateChild(m.getNode(),y,L,E,S,h);g=wl(t,G,m.isFullyInitialized(),a.filter.filtersNodes())}}}return g}function sy(a,t){return a.eventCache.isCompleteForChild(t)}function tw(a,t,i,l,o,f,h){let m=t;return l.foreach((g,p)=>{const S=Ke(i,g);sy(t,ue(S))&&(m=fh(a,m,S,p,o,f,h))}),l.foreach((g,p)=>{const S=Ke(i,g);sy(t,ue(S))||(m=fh(a,m,S,p,o,f,h))}),m}function ay(a,t,i){return i.foreach((l,o)=>{t=t.updateChild(l,o)}),t}function hh(a,t,i,l,o,f,h,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let g=t,p;ce(i)?p=l:p=new Be(null).setTree(i,l);const S=t.serverCache.getNode();return p.children.inorderTraversal((y,E)=>{if(S.hasChild(y)){const U=t.serverCache.getNode().getImmediateChild(y),L=ay(a,U,E);g=Ho(a,g,new Oe(y),L,o,f,h,m)}}),p.children.inorderTraversal((y,E)=>{const U=!t.serverCache.isCompleteForChild(y)&&E.value===null;if(!S.hasChild(y)&&!U){const L=t.serverCache.getNode().getImmediateChild(y),G=ay(a,L,E);g=Ho(a,g,new Oe(y),G,o,f,h,m)}}),g}function nw(a,t,i,l,o,f,h){if(zo(o,i)!=null)return t;const m=t.serverCache.isFiltered(),g=t.serverCache;if(l.value!=null){if(ce(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return Ho(a,t,i,g.getNode().getChild(i),o,f,m,h);if(ce(i)){let p=new Be(null);return g.getNode().forEachChild(ta,(S,y)=>{p=p.set(new Oe(S),y)}),hh(a,t,i,p,o,f,m,h)}else return t}else{let p=new Be(null);return l.foreach((S,y)=>{const E=Ke(i,S);g.isCompleteForPath(E)&&(p=p.set(S,g.getNode().getChild(E)))}),hh(a,t,i,p,o,f,m,h)}}function iw(a,t,i,l,o){const f=t.serverCache,h=Ov(t,f.getNode(),f.isFullyInitialized()||ce(i),f.isFiltered());return Lv(a,h,i,l,Uv,o)}function sw(a,t,i,l,o,f){let h;if(zo(l,i)!=null)return t;{const m=new Ph(l,t,o),g=t.eventCache.getNode();let p;if(ce(i)||ue(i)===".priority"){let S;if(t.serverCache.isFullyInitialized())S=Lo(l,us(t));else{const y=t.serverCache.getNode();B(y instanceof Z,"serverChildren would be complete if leaf node"),S=jh(l,y)}S=S,p=a.filter.updateFullNode(g,S,f)}else{const S=ue(i);let y=Gh(l,S,t.serverCache);y==null&&t.serverCache.isCompleteForChild(S)&&(y=g.getImmediateChild(S)),y!=null?p=a.filter.updateChild(g,S,y,Ue(i),m,f):t.eventCache.getNode().hasChild(S)?p=a.filter.updateChild(g,S,Z.EMPTY_NODE,Ue(i),m,f):p=g,p.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=Lo(l,us(t)),h.isLeafNode()&&(p=a.filter.updateFullNode(p,h,f)))}return h=t.serverCache.isFullyInitialized()||zo(l,we())!=null,wl(t,p,h,a.filter.filtersNodes())}}class aw{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const l=this.query_._queryParams,o=new Lh(l.getIndex()),f=CC(l);this.processor_=ZC(f);const h=i.serverCache,m=i.eventCache,g=o.updateFullNode(Z.EMPTY_NODE,h.getNode(),null),p=f.updateFullNode(Z.EMPTY_NODE,m.getNode(),null),S=new Ii(g,h.isFullyInitialized(),o.filtersNodes()),y=new Ii(p,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=Jo(y,S),this.eventGenerator_=new IC(this.query_)}get query(){return this.query_}}function lw(a){return a.viewCache_.serverCache.getNode()}function rw(a){return Uo(a.viewCache_)}function ow(a,t){const i=us(a.viewCache_);return i&&(a.query._queryParams.loadsAllData()||!ce(t)&&!i.getImmediateChild(ue(t)).isEmpty())?i.getChild(t):null}function ly(a){return a.eventRegistrations_.length===0}function uw(a,t){a.eventRegistrations_.push(t)}function ry(a,t,i){const l=[];if(i){B(t==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(i,o);h&&l.push(h)})}if(t){let o=[];for(let f=0;f<a.eventRegistrations_.length;++f){const h=a.eventRegistrations_[f];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(f+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return l}function oy(a,t,i,l){t.type===ln.MERGE&&t.source.queryId!==null&&(B(us(a.viewCache_),"We should always have a full cache before handling merges"),B(Uo(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,f=$C(a.processor_,o,t,i,l);return JC(a.processor_,f.viewCache),B(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=f.viewCache,zv(a,f.changes,f.viewCache.eventCache.getNode(),null)}function cw(a,t){const i=a.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ge,(f,h)=>{l.push(ua(f,h))}),i.isFullyInitialized()&&l.push(Nv(i.getNode())),zv(a,l,i.getNode(),t)}function zv(a,t,i,l){const o=l?[l]:a.eventRegistrations_;return MC(a.eventGenerator_,t,i,o)}let Bo;class Hv{constructor(){this.views=new Map}}function fw(a){B(!Bo,"__referenceConstructor has already been defined"),Bo=a}function hw(){return B(Bo,"Reference.ts has not been loaded"),Bo}function dw(a){return a.views.size===0}function qh(a,t,i,l){const o=t.source.queryId;if(o!==null){const f=a.views.get(o);return B(f!=null,"SyncTree gave us an op for an invalid query."),oy(f,t,i,l)}else{let f=[];for(const h of a.views.values())f=f.concat(oy(h,t,i,l));return f}}function Bv(a,t,i,l,o){const f=t._queryIdentifier,h=a.views.get(f);if(!h){let m=Lo(i,o?l:null),g=!1;m?g=!0:l instanceof Z?(m=jh(i,l),g=!1):(m=Z.EMPTY_NODE,g=!1);const p=Jo(new Ii(m,g,!1),new Ii(l,o,!1));return new aw(t,p)}return h}function mw(a,t,i,l,o,f){const h=Bv(a,t,l,o,f);return a.views.has(t._queryIdentifier)||a.views.set(t._queryIdentifier,h),uw(h,i),cw(h,i)}function pw(a,t,i,l){const o=t._queryIdentifier,f=[];let h=[];const m=Mi(a);if(o==="default")for(const[g,p]of a.views.entries())h=h.concat(ry(p,i,l)),ly(p)&&(a.views.delete(g),p.query._queryParams.loadsAllData()||f.push(p.query));else{const g=a.views.get(o);g&&(h=h.concat(ry(g,i,l)),ly(g)&&(a.views.delete(o),g.query._queryParams.loadsAllData()||f.push(g.query)))}return m&&!Mi(a)&&f.push(new(hw())(t._repo,t._path)),{removed:f,events:h}}function jv(a){const t=[];for(const i of a.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Ri(a,t){let i=null;for(const l of a.views.values())i=i||ow(l,t);return i}function Gv(a,t){if(t._queryParams.loadsAllData())return eu(a);{const l=t._queryIdentifier;return a.views.get(l)}}function Pv(a,t){return Gv(a,t)!=null}function Mi(a){return eu(a)!=null}function eu(a){for(const t of a.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let jo;function gw(a){B(!jo,"__referenceConstructor has already been defined"),jo=a}function _w(){return B(jo,"Reference.ts has not been loaded"),jo}let yw=1;class uy{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Be(null),this.pendingWriteTree_=QC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qv(a,t,i,l,o){return LC(a.pendingWriteTree_,t,i,l,o),o?Fl(a,new os(Rv(),t,i)):[]}function ss(a,t,i=!1){const l=zC(a.pendingWriteTree_,t);if(HC(a.pendingWriteTree_,t)){let f=new Be(null);return l.snap!=null?f=f.set(we(),!0):gt(l.children,h=>{f=f.set(new Oe(h),!0)}),Fl(a,new ko(l.path,f,i))}else return[]}function Yl(a,t,i){return Fl(a,new os(Hh(),t,i))}function vw(a,t,i){const l=Be.fromObject(i);return Fl(a,new zl(Hh(),t,l))}function Sw(a,t){return Fl(a,new Ll(Hh(),t))}function Ew(a,t,i){const l=Yh(a,i);if(l){const o=Fh(l),f=o.path,h=o.queryId,m=yt(f,t),g=new Ll(Bh(h),m);return Qh(a,f,g)}else return[]}function Go(a,t,i,l,o=!1){const f=t._path,h=a.syncPointTree_.get(f);let m=[];if(h&&(t._queryIdentifier==="default"||Pv(h,t))){const g=pw(h,t,i,l);dw(h)&&(a.syncPointTree_=a.syncPointTree_.remove(f));const p=g.removed;if(m=g.events,!o){const S=p.findIndex(E=>E._queryParams.loadsAllData())!==-1,y=a.syncPointTree_.findOnPath(f,(E,U)=>Mi(U));if(S&&!y){const E=a.syncPointTree_.subtree(f);if(!E.isEmpty()){const U=Cw(E);for(let L=0;L<U.length;++L){const G=U[L],se=G.query,ne=Qv(a,G);a.listenProvider_.startListening(Nl(se),Hl(a,se),ne.hashFn,ne.onComplete)}}}!y&&p.length>0&&!l&&(S?a.listenProvider_.stopListening(Nl(t),null):p.forEach(E=>{const U=a.queryToTagMap.get(tu(E));a.listenProvider_.stopListening(Nl(E),U)}))}ww(a,p)}return m}function Vv(a,t,i,l){const o=Yh(a,l);if(o!=null){const f=Fh(o),h=f.path,m=f.queryId,g=yt(h,t),p=new os(Bh(m),g,i);return Qh(a,h,p)}else return[]}function bw(a,t,i,l){const o=Yh(a,l);if(o){const f=Fh(o),h=f.path,m=f.queryId,g=yt(h,t),p=Be.fromObject(i),S=new zl(Bh(m),g,p);return Qh(a,h,S)}else return[]}function dh(a,t,i,l=!1){const o=t._path;let f=null,h=!1;a.syncPointTree_.foreachOnPath(o,(E,U)=>{const L=yt(E,o);f=f||Ri(U,L),h=h||Mi(U)});let m=a.syncPointTree_.get(o);m?(h=h||Mi(m),f=f||Ri(m,we())):(m=new Hv,a.syncPointTree_=a.syncPointTree_.set(o,m));let g;f!=null?g=!0:(g=!1,f=Z.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((U,L)=>{const G=Ri(L,we());G&&(f=f.updateImmediateChild(U,G))}));const p=Pv(m,t);if(!p&&!t._queryParams.loadsAllData()){const E=tu(t);B(!a.queryToTagMap.has(E),"View does not exist, but we have a tag");const U=Aw();a.queryToTagMap.set(E,U),a.tagToQueryMap.set(U,E)}const S=$o(a.pendingWriteTree_,o);let y=mw(m,t,i,S,f,g);if(!p&&!h&&!l){const E=Gv(m,t);y=y.concat(Nw(a,t,E))}return y}function Vh(a,t,i){const o=a.pendingWriteTree_,f=a.syncPointTree_.findOnPath(t,(h,m)=>{const g=yt(h,t),p=Ri(m,g);if(p)return p});return Mv(o,t,f,i,!0)}function Tw(a,t){const i=t._path;let l=null;a.syncPointTree_.foreachOnPath(i,(p,S)=>{const y=yt(p,i);l=l||Ri(S,y)});let o=a.syncPointTree_.get(i);o?l=l||Ri(o,we()):(o=new Hv,a.syncPointTree_=a.syncPointTree_.set(i,o));const f=l!=null,h=f?new Ii(l,!0,!1):null,m=$o(a.pendingWriteTree_,t._path),g=Bv(o,t,m,f?h.getNode():Z.EMPTY_NODE,f);return rw(g)}function Fl(a,t){return Yv(t,a.syncPointTree_,null,$o(a.pendingWriteTree_,we()))}function Yv(a,t,i,l){if(ce(a.path))return Fv(a,t,i,l);{const o=t.get(we());i==null&&o!=null&&(i=Ri(o,we()));let f=[];const h=ue(a.path),m=a.operationForChild(h),g=t.children.get(h);if(g&&m){const p=i?i.getImmediateChild(h):null,S=xv(l,h);f=f.concat(Yv(m,g,p,S))}return o&&(f=f.concat(qh(o,a,l,i))),f}}function Fv(a,t,i,l){const o=t.get(we());i==null&&o!=null&&(i=Ri(o,we()));let f=[];return t.children.inorderTraversal((h,m)=>{const g=i?i.getImmediateChild(h):null,p=xv(l,h),S=a.operationForChild(h);S&&(f=f.concat(Fv(S,m,g,p)))}),o&&(f=f.concat(qh(o,a,l,i))),f}function Qv(a,t){const i=t.query,l=Hl(a,i);return{hashFn:()=>(lw(t)||Z.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return l?Ew(a,i._path,l):Sw(a,i._path);{const f=b1(o,i);return Go(a,i,null,f)}}}}function Hl(a,t){const i=tu(t);return a.queryToTagMap.get(i)}function tu(a){return a._path.toString()+"$"+a._queryIdentifier}function Yh(a,t){return a.tagToQueryMap.get(t)}function Fh(a){const t=a.indexOf("$");return B(t!==-1&&t<a.length-1,"Bad queryKey."),{queryId:a.substr(t+1),path:new Oe(a.substr(0,t))}}function Qh(a,t,i){const l=a.syncPointTree_.get(t);B(l,"Missing sync point for query tag that we're tracking");const o=$o(a.pendingWriteTree_,t);return qh(l,i,o,null)}function Cw(a){return a.fold((t,i,l)=>{if(i&&Mi(i))return[eu(i)];{let o=[];return i&&(o=jv(i)),gt(l,(f,h)=>{o=o.concat(h)}),o}})}function Nl(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(_w())(a._repo,a._path):a}function ww(a,t){for(let i=0;i<t.length;++i){const l=t[i];if(!l._queryParams.loadsAllData()){const o=tu(l),f=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(f)}}}function Aw(){return yw++}function Nw(a,t,i){const l=t._path,o=Hl(a,t),f=Qv(a,i),h=a.listenProvider_.startListening(Nl(t),o,f.hashFn,f.onComplete),m=a.syncPointTree_.subtree(l);if(o)B(!Mi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((p,S,y)=>{if(!ce(p)&&S&&Mi(S))return[eu(S).query];{let E=[];return S&&(E=E.concat(jv(S).map(U=>U.query))),gt(y,(U,L)=>{E=E.concat(L)}),E}});for(let p=0;p<g.length;++p){const S=g[p];a.listenProvider_.stopListening(Nl(S),Hl(a,S))}}return h}class Xh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Xh(i)}node(){return this.node_}}class Kh{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Ke(this.path_,t);return new Kh(this.syncTree_,i)}node(){return Vh(this.syncTree_,this.path_)}}const Rw=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},cy=function(a,t,i){if(!a||typeof a!="object")return a;if(B(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return Ow(a[".sv"],t,i);if(typeof a[".sv"]=="object")return Dw(a[".sv"],t);B(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},Ow=function(a,t,i){if(a==="timestamp")return i.timestamp;B(!1,"Unexpected server value: "+a)},Dw=function(a,t,i){a.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const l=a.increment;typeof l!="number"&&B(!1,"Unexpected increment value: "+l);const o=t.node();if(B(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return l;const h=o.getValue();return typeof h!="number"?l:h+l},Iw=function(a,t,i,l){return Wh(t,new Kh(i,a),l)},Xv=function(a,t,i){return Wh(a,new Xh(t),i)};function Wh(a,t,i){const l=a.getPriority().val(),o=cy(l,t.getImmediateChild(".priority"),i);let f;if(a.isLeafNode()){const h=a,m=cy(h.getValue(),t,i);return m!==h.getValue()||o!==h.getPriority().val()?new lt(m,Xe(o)):a}else{const h=a;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new lt(o))),h.forEachChild(Ge,(m,g)=>{const p=Wh(g,t.getImmediateChild(m),i);p!==g&&(f=f.updateImmediateChild(m,p))}),f}}class Zh{constructor(t="",i=null,l={children:{},childCount:0}){this.name=t,this.parent=i,this.node=l}}function Jh(a,t){let i=t instanceof Oe?t:new Oe(t),l=a,o=ue(i);for(;o!==null;){const f=aa(l.node.children,o)||{children:{},childCount:0};l=new Zh(o,l,f),i=Ue(i),o=ue(i)}return l}function ya(a){return a.node.value}function Kv(a,t){a.node.value=t,mh(a)}function Wv(a){return a.node.childCount>0}function Mw(a){return ya(a)===void 0&&!Wv(a)}function nu(a,t){gt(a.node.children,(i,l)=>{t(new Zh(i,a,l))})}function Zv(a,t,i,l){i&&t(a),nu(a,o=>{Zv(o,t,!0)})}function xw(a,t,i){let l=a.parent;for(;l!==null;){if(t(l))return!0;l=l.parent}return!1}function Ql(a){return new Oe(a.parent===null?a.name:Ql(a.parent)+"/"+a.name)}function mh(a){a.parent!==null&&kw(a.parent,a.name,a)}function kw(a,t,i){const l=Mw(i),o=yn(a.node.children,t);l&&o?(delete a.node.children[t],a.node.childCount--,mh(a)):!l&&!o&&(a.node.children[t]=i.node,a.node.childCount++,mh(a))}const Uw=/[\[\].#$\/\u0000-\u001F\u007F]/,Lw=/[\[\].#$\u0000-\u001F\u007F]/,Qf=10*1024*1024,$h=function(a){return typeof a=="string"&&a.length!==0&&!Uw.test(a)},Jv=function(a){return typeof a=="string"&&a.length!==0&&!Lw.test(a)},zw=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Jv(a)},$v=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!Wo(a)||a&&typeof a=="object"&&yn(a,".sv")},ph=function(a,t,i,l){iu(la(a,"value"),t,i)},iu=function(a,t,i){const l=i instanceof Oe?new nC(i,a):i;if(t===void 0)throw new Error(a+"contains undefined "+ns(l));if(typeof t=="function")throw new Error(a+"contains a function "+ns(l)+" with contents = "+t.toString());if(Wo(t))throw new Error(a+"contains "+t.toString()+" "+ns(l));if(typeof t=="string"&&t.length>Qf/3&&Ko(t)>Qf)throw new Error(a+"contains a string greater than "+Qf+" utf8 bytes "+ns(l)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,f=!1;if(gt(t,(h,m)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!$h(h)))throw new Error(a+" contains an invalid key ("+h+") "+ns(l)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iC(l,h),iu(a,m,l),sC(l)}),o&&f)throw new Error(a+' contains ".value" child '+ns(l)+" in addition to actual children.")}},Hw=function(a,t){let i,l;for(i=0;i<t.length;i++){l=t[i];const f=Ml(l);for(let h=0;h<f.length;h++)if(!(f[h]===".priority"&&h===f.length-1)){if(!$h(f[h]))throw new Error(a+"contains an invalid key ("+f[h]+") in path "+l.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(tC);let o=null;for(i=0;i<t.length;i++){if(l=t[i],o!==null&&Jt(o,l))throw new Error(a+"contains a path "+o.toString()+" that is ancestor of another path "+l.toString());o=l}},Bw=function(a,t,i,l){const o=la(a,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const f=[];gt(t,(h,m)=>{const g=new Oe(h);if(iu(o,m,Ke(i,g)),Mh(g)===".priority"&&!$v(m))throw new Error(o+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(g)}),Hw(o,f)},jw=function(a,t,i){if(Wo(t))throw new Error(la(a,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!$v(t))throw new Error(la(a,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},e0=function(a,t,i,l){if(!Jv(i))throw new Error(la(a,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Gw=function(a,t,i,l){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),e0(a,t,i)},El=function(a,t){if(ue(t)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},Pw=function(a,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!$h(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!zw(i))throw new Error(la(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class qw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ed(a,t){let i=null;for(let l=0;l<t.length;l++){const o=t[l],f=o.getPath();i!==null&&!xh(f,i.path)&&(a.eventLists_.push(i),i=null),i===null&&(i={events:[],path:f}),i.events.push(o)}i&&a.eventLists_.push(i)}function t0(a,t,i){ed(a,i),n0(a,l=>xh(l,t))}function _n(a,t,i){ed(a,i),n0(a,l=>Jt(l,t)||Jt(t,l))}function n0(a,t){a.recursionDepth_++;let i=!0;for(let l=0;l<a.eventLists_.length;l++){const o=a.eventLists_[l];if(o){const f=o.path;t(f)?(Vw(a.eventLists_[l]),a.eventLists_[l]=null):i=!1}}i&&(a.eventLists_=[]),a.recursionDepth_--}function Vw(a){for(let t=0;t<a.events.length;t++){const i=a.events[t];if(i!==null){a.events[t]=null;const l=i.getEventRunner();Tl&&mt("event: "+i.toString()),ga(l)}}}const Yw="repo_interrupt",Fw=25;class Qw{constructor(t,i,l,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xo(),this.transactionQueueTree_=new Zh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Xw(a,t,i){if(a.stats_=Dh(a.repoInfo_),a.forceRestClient_||A1())a.server_=new Mo(a.repoInfo_,(l,o,f,h)=>{fy(a,l,o,f,h)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>hy(a,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}a.persistentConnection_=new Pn(a.repoInfo_,t,(l,o,f,h)=>{fy(a,l,o,f,h)},l=>{hy(a,l)},l=>{Ww(a,l)},a.authTokenProvider_,a.appCheckProvider_,i),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(l=>{a.server_.refreshAuthToken(l)}),a.appCheckProvider_.addTokenChangeListener(l=>{a.server_.refreshAppCheckToken(l.token)}),a.statsReporter_=I1(a.repoInfo_,()=>new DC(a.stats_,a.server_)),a.infoData_=new wC,a.infoSyncTree_=new uy({startListening:(l,o,f,h)=>{let m=[];const g=a.infoData_.getNode(l._path);return g.isEmpty()||(m=Yl(a.infoSyncTree_,l._path,g),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),nd(a,"connected",!1),a.serverSyncTree_=new uy({startListening:(l,o,f,h)=>(a.server_.listen(l,f,o,(m,g)=>{const p=h(m,g);_n(a.eventQueue_,l._path,p)}),[]),stopListening:(l,o)=>{a.server_.unlisten(l,o)}})}function Kw(a){const i=a.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function td(a){return Rw({timestamp:Kw(a)})}function fy(a,t,i,l,o){a.dataUpdateCount++;const f=new Oe(t);i=a.interceptServerDataCallback_?a.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(l){const g=No(i,p=>Xe(p));h=bw(a.serverSyncTree_,f,g,o)}else{const g=Xe(i);h=Vv(a.serverSyncTree_,f,g,o)}else if(l){const g=No(i,p=>Xe(p));h=vw(a.serverSyncTree_,f,g)}else{const g=Xe(i);h=Yl(a.serverSyncTree_,f,g)}let m=f;h.length>0&&(m=au(a,f)),_n(a.eventQueue_,m,h)}function hy(a,t){nd(a,"connected",t),t===!1&&$w(a)}function Ww(a,t){gt(t,(i,l)=>{nd(a,i,l)})}function nd(a,t,i){const l=new Oe("/.info/"+t),o=Xe(i);a.infoData_.updateSnapshot(l,o);const f=Yl(a.infoSyncTree_,l,o);_n(a.eventQueue_,l,f)}function i0(a){return a.nextWriteId_++}function Zw(a,t,i){const l=Tw(a.serverSyncTree_,t);return l!=null?Promise.resolve(l):a.server_.get(t).then(o=>{const f=Xe(o).withIndex(t._queryParams.getIndex());dh(a.serverSyncTree_,t,i,!0);let h;if(t._queryParams.loadsAllData())h=Yl(a.serverSyncTree_,t._path,f);else{const m=Hl(a.serverSyncTree_,t);h=Vv(a.serverSyncTree_,t._path,f,m)}return _n(a.eventQueue_,t._path,h),Go(a.serverSyncTree_,t,i,null,!0),f},o=>(su(a,"get for query "+tt(t)+" failed: "+o),Promise.reject(new Error(o))))}function Jw(a,t,i,l,o){su(a,"set",{path:t.toString(),value:i,priority:l});const f=td(a),h=Xe(i,l),m=Vh(a.serverSyncTree_,t),g=Xv(h,m,f),p=i0(a),S=qv(a.serverSyncTree_,t,g,p,!0);ed(a.eventQueue_,S),a.server_.put(t.toString(),h.val(!0),(E,U)=>{const L=E==="ok";L||Dt("set at "+t+" failed: "+E);const G=ss(a.serverSyncTree_,p,!L);_n(a.eventQueue_,t,G),fa(a,o,E,U)});const y=o0(a,t);au(a,y),_n(a.eventQueue_,y,[])}function $w(a){su(a,"onDisconnectEvents");const t=td(a),i=xo();oh(a.onDisconnect_,we(),(o,f)=>{const h=Iw(o,f,a.serverSyncTree_,t);_a(i,o,h)});let l=[];oh(i,we(),(o,f)=>{l=l.concat(Yl(a.serverSyncTree_,o,f));const h=o0(a,o);au(a,h)}),a.onDisconnect_=xo(),_n(a.eventQueue_,we(),l)}function eA(a,t,i){a.server_.onDisconnectCancel(t.toString(),(l,o)=>{l==="ok"&&rh(a.onDisconnect_,t),fa(a,i,l,o)})}function dy(a,t,i,l){const o=Xe(i);a.server_.onDisconnectPut(t.toString(),o.val(!0),(f,h)=>{f==="ok"&&_a(a.onDisconnect_,t,o),fa(a,l,f,h)})}function tA(a,t,i,l,o){const f=Xe(i,l);a.server_.onDisconnectPut(t.toString(),f.val(!0),(h,m)=>{h==="ok"&&_a(a.onDisconnect_,t,f),fa(a,o,h,m)})}function nA(a,t,i,l){if(Ao(i)){mt("onDisconnect().update() called with empty data.  Don't do anything."),fa(a,l,"ok",void 0);return}a.server_.onDisconnectMerge(t.toString(),i,(o,f)=>{o==="ok"&&gt(i,(h,m)=>{const g=Xe(m);_a(a.onDisconnect_,Ke(t,h),g)}),fa(a,l,o,f)})}function iA(a,t,i){let l;ue(t._path)===".info"?l=dh(a.infoSyncTree_,t,i):l=dh(a.serverSyncTree_,t,i),t0(a.eventQueue_,t._path,l)}function my(a,t,i){let l;ue(t._path)===".info"?l=Go(a.infoSyncTree_,t,i):l=Go(a.serverSyncTree_,t,i),t0(a.eventQueue_,t._path,l)}function sA(a){a.persistentConnection_&&a.persistentConnection_.interrupt(Yw)}function su(a,...t){let i="";a.persistentConnection_&&(i=a.persistentConnection_.id+":"),mt(i,...t)}function fa(a,t,i,l){t&&ga(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let f=o;l&&(f+=": "+l);const h=new Error(f);h.code=o,t(h)}})}function s0(a,t,i){return Vh(a.serverSyncTree_,t,i)||Z.EMPTY_NODE}function id(a,t=a.transactionQueueTree_){if(t||lu(a,t),ya(t)){const i=l0(a,t);B(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&aA(a,Ql(t),i)}else Wv(t)&&nu(t,i=>{id(a,i)})}function aA(a,t,i){const l=i.map(p=>p.currentWriteId),o=s0(a,t,l);let f=o;const h=o.hash();for(let p=0;p<i.length;p++){const S=i[p];B(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const y=yt(t,S.path);f=f.updateChild(y,S.currentOutputSnapshotRaw)}const m=f.val(!0),g=t;a.server_.put(g.toString(),m,p=>{su(a,"transaction put response",{path:g.toString(),status:p});let S=[];if(p==="ok"){const y=[];for(let E=0;E<i.length;E++)i[E].status=2,S=S.concat(ss(a.serverSyncTree_,i[E].currentWriteId)),i[E].onComplete&&y.push(()=>i[E].onComplete(null,!0,i[E].currentOutputSnapshotResolved)),i[E].unwatcher();lu(a,Jh(a.transactionQueueTree_,t)),id(a,a.transactionQueueTree_),_n(a.eventQueue_,t,S);for(let E=0;E<y.length;E++)ga(y[E])}else{if(p==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{Dt("transaction at "+g.toString()+" failed: "+p);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=p}au(a,t)}},h)}function au(a,t){const i=a0(a,t),l=Ql(i),o=l0(a,i);return lA(a,o,l),l}function lA(a,t,i){if(t.length===0)return;const l=[];let o=[];const h=t.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const g=t[m],p=yt(i,g.path);let S=!1,y;if(B(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)S=!0,y=g.abortReason,o=o.concat(ss(a.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=Fw)S=!0,y="maxretry",o=o.concat(ss(a.serverSyncTree_,g.currentWriteId,!0));else{const E=s0(a,g.path,h);g.currentInputSnapshot=E;const U=t[m].update(E.val());if(U!==void 0){iu("transaction failed: Data returned ",U,g.path);let L=Xe(U);typeof U=="object"&&U!=null&&yn(U,".priority")||(L=L.updatePriority(E.getPriority()));const se=g.currentWriteId,ne=td(a),X=Xv(L,E,ne);g.currentOutputSnapshotRaw=L,g.currentOutputSnapshotResolved=X,g.currentWriteId=i0(a),h.splice(h.indexOf(se),1),o=o.concat(qv(a.serverSyncTree_,g.path,X,g.currentWriteId,g.applyLocally)),o=o.concat(ss(a.serverSyncTree_,se,!0))}else S=!0,y="nodata",o=o.concat(ss(a.serverSyncTree_,g.currentWriteId,!0))}_n(a.eventQueue_,i,o),o=[],S&&(t[m].status=2,(function(E){setTimeout(E,Math.floor(0))})(t[m].unwatcher),t[m].onComplete&&(y==="nodata"?l.push(()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot)):l.push(()=>t[m].onComplete(new Error(y),!1,null))))}lu(a,a.transactionQueueTree_);for(let m=0;m<l.length;m++)ga(l[m]);id(a,a.transactionQueueTree_)}function a0(a,t){let i,l=a.transactionQueueTree_;for(i=ue(t);i!==null&&ya(l)===void 0;)l=Jh(l,i),t=Ue(t),i=ue(t);return l}function l0(a,t){const i=[];return r0(a,t,i),i.sort((l,o)=>l.order-o.order),i}function r0(a,t,i){const l=ya(t);if(l)for(let o=0;o<l.length;o++)i.push(l[o]);nu(t,o=>{r0(a,o,i)})}function lu(a,t){const i=ya(t);if(i){let l=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[l]=i[o],l++);i.length=l,Kv(t,i.length>0?i:void 0)}nu(t,l=>{lu(a,l)})}function o0(a,t){const i=Ql(a0(a,t)),l=Jh(a.transactionQueueTree_,t);return xw(l,o=>{Xf(a,o)}),Xf(a,l),Zv(l,o=>{Xf(a,o)}),i}function Xf(a,t){const i=ya(t);if(i){const l=[];let o=[],f=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(B(f===h-1,"All SENT items should be at beginning of queue."),f=h,i[h].status=3,i[h].abortReason="set"):(B(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(ss(a.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&l.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?Kv(t,void 0):i.length=f+1,_n(a.eventQueue_,Ql(t),o);for(let h=0;h<l.length;h++)ga(l[h])}}function rA(a){let t="";const i=a.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let o=i[l];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function oA(a){const t={};a.charAt(0)==="?"&&(a=a.substring(1));for(const i of a.split("&")){if(i.length===0)continue;const l=i.split("=");l.length===2?t[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Dt(`Invalid query segment '${i}' in query '${a}'`)}return t}const py=function(a,t){const i=uA(a),l=i.namespace;i.domain==="firebase.com"&&Vn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||l==="undefined")&&i.domain!=="localhost"&&Vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||_1();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new fv(i.host,i.secure,l,o,t,"",l!==i.subdomain),path:new Oe(i.pathString)}},uA=function(a){let t="",i="",l="",o="",f="",h=!0,m="https",g=443;if(typeof a=="string"){let p=a.indexOf("//");p>=0&&(m=a.substring(0,p-1),a=a.substring(p+2));let S=a.indexOf("/");S===-1&&(S=a.length);let y=a.indexOf("?");y===-1&&(y=a.length),t=a.substring(0,Math.min(S,y)),S<y&&(o=rA(a.substring(S,y)));const E=oA(a.substring(Math.min(a.length,y)));p=t.indexOf(":"),p>=0?(h=m==="https"||m==="wss",g=parseInt(t.substring(p+1),10)):p=t.length;const U=t.slice(0,p);if(U.toLowerCase()==="localhost")i="localhost";else if(U.split(".").length<=2)i=U;else{const L=t.indexOf(".");l=t.substring(0,L).toLowerCase(),i=t.substring(L+1),f=l}"ns"in E&&(f=E.ns)}return{host:t,port:g,domain:i,subdomain:l,secure:h,scheme:m,pathString:o,namespace:f}};class cA{constructor(t,i,l,o){this.eventType=t,this.eventRegistration=i,this.snapshot=l,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tt(this.snapshot.exportVal())}}class fA{constructor(t,i,l){this.eventRegistration=t,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class u0{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class hA{constructor(t,i){this._repo=t,this._path=i}cancel(){const t=new Hn;return eA(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){El("OnDisconnect.remove",this._path);const t=new Hn;return dy(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){El("OnDisconnect.set",this._path),ph("OnDisconnect.set",t,this._path);const i=new Hn;return dy(this._repo,this._path,t,i.wrapCallback(()=>{})),i.promise}setWithPriority(t,i){El("OnDisconnect.setWithPriority",this._path),ph("OnDisconnect.setWithPriority",t,this._path),jw("OnDisconnect.setWithPriority",i);const l=new Hn;return tA(this._repo,this._path,t,i,l.wrapCallback(()=>{})),l.promise}update(t){El("OnDisconnect.update",this._path),Bw("OnDisconnect.update",t,this._path);const i=new Hn;return nA(this._repo,this._path,t,i.wrapCallback(()=>{})),i.promise}}class sd{constructor(t,i,l,o){this._repo=t,this._path=i,this._queryParams=l,this._orderByCalled=o}get key(){return ce(this._path)?null:Mh(this._path)}get ref(){return new Qn(this._repo,this._path)}get _queryIdentifier(){const t=J_(this._queryParams),i=Rh(t);return i==="{}"?"default":i}get _queryObject(){return J_(this._queryParams)}isEqual(t){if(t=It(t),!(t instanceof sd))return!1;const i=this._repo===t._repo,l=xh(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&l&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+eC(this._path)}}class Qn extends sd{constructor(t,i){super(t,i,new zh,!1)}get parent(){const t=Sv(this._path);return t===null?null:new Qn(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Bl{constructor(t,i,l){this._node=t,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Oe(t),l=gh(this.ref,t);return new Bl(this._node.getChild(i),l,Ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(l,o)=>t(new Bl(o,gh(this.ref,l),Ge)))}hasChild(t){const i=new Oe(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function dn(a,t){return a=It(a),a._checkNotDeleted("ref"),t!==void 0?gh(a._root,t):a._root}function gh(a,t){return a=It(a),ue(a._path)===null?Gw("child","path",t):e0("child","path",t),new Qn(a._repo,Ke(a._path,t))}function dA(a){return a=It(a),new hA(a._repo,a._path)}function nn(a,t){a=It(a),El("set",a._path),ph("set",t,a._path);const i=new Hn;return Jw(a._repo,a._path,t,null,i.wrapCallback(()=>{})),i.promise}function Kf(a){a=It(a);const t=new u0(()=>{}),i=new ru(t);return Zw(a._repo,a,i).then(l=>new Bl(l,new Qn(a._repo,a._path),a._queryParams.getIndex()))}class ru{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const l=i._queryParams.getIndex();return new cA("value",this,new Bl(t.snapshotNode,new Qn(i._repo,i._path),l))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new fA(this,t,i):null}matches(t){return t instanceof ru?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function mA(a,t,i,l,o){let f;if(typeof l=="object"&&(f=void 0,o=l),typeof l=="function"&&(f=l),o&&o.onlyOnce){const g=i,p=(S,y)=>{my(a._repo,a,m),g(S,y)};p.userCallback=i.userCallback,p.context=i.context,i=p}const h=new u0(i,f||void 0),m=new ru(h);return iA(a._repo,a,m),()=>my(a._repo,a,m)}function pA(a,t,i,l){return mA(a,"value",t,i,l)}fw(Qn);gw(Qn);const gA="FIREBASE_DATABASE_EMULATOR_HOST",_h={};let _A=!1;function yA(a,t,i,l){const o=t.lastIndexOf(":"),f=t.substring(0,o),h=da(f);a.repoInfo_=new fv(t,h,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,i),l&&(a.authTokenProvider_=l)}function vA(a,t,i,l,o){let f=l||a.options.databaseURL;f===void 0&&(a.options.projectId||Vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mt("Using default host for project ",a.options.projectId),f=`${a.options.projectId}-default-rtdb.firebaseio.com`);let h=py(f,o),m=h.repoInfo,g;typeof process<"u"&&k_&&(g=k_[gA]),g?(f=`http://${g}?ns=${m.namespace}`,h=py(f,o),m=h.repoInfo):h.repoInfo.secure;const p=new R1(a.name,a.options,t);Pw("Invalid Firebase Database URL",h),ce(h.path)||Vn("Database URL must point to the root of a Firebase Database (not including a child path).");const S=EA(m,a,p,new N1(a,i));return new bA(S,a)}function SA(a,t){const i=_h[t];(!i||i[a.key]!==a)&&Vn(`Database ${t}(${a.repoInfo_}) has already been deleted.`),sA(a),delete i[a.key]}function EA(a,t,i,l){let o=_h[t.name];o||(o={},_h[t.name]=o);let f=o[a.toURLString()];return f&&Vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new Qw(a,_A,i,l),o[a.toURLString()]=f,f}class bA{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Xw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qn(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(SA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Vn("Cannot call "+t+" on a deleted database.")}}function TA(a=Xy(),t){const i=Nh(a,"database").getImmediate({identifier:t});if(!i._instanceStarted){const l=Ub("database");l&&CA(i,...l)}return i}function CA(a,t,i,l={}){a=It(a),a._checkNotDeleted("useEmulator");const o=`${t}:${i}`,f=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&as(l,f.repoInfo_.emulatorOptions))return;Vn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)l.mockUserToken&&Vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new vo(vo.OWNER);else if(l.mockUserToken){const m=typeof l.mockUserToken=="string"?l.mockUserToken:Lb(l.mockUserToken,a.app.options.projectId);h=new vo(m)}da(t)&&(Gy(t),Py("Database",!0)),yA(f,o,l,h)}function wA(a){f1(pa),ra(new ls("database",(t,{instanceIdentifier:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),f=t.getProvider("app-check-internal");return vA(l,o,f,i)},"PUBLIC").setMultipleInstances(!0)),Ai(U_,L_,a),Ai(U_,L_,"esm2020")}Pn.prototype.simpleListen=function(a,t){this.sendRequest("q",{p:a},t)};Pn.prototype.echo=function(a,t){this.sendRequest("echo",{d:a},t)};wA();function c0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AA=c0,f0=new Gl("auth","Firebase",c0());const Po=new wh("@firebase/auth");function NA(a,...t){Po.logLevel<=xe.WARN&&Po.warn(`Auth (${pa}): ${a}`,...t)}function So(a,...t){Po.logLevel<=xe.ERROR&&Po.error(`Auth (${pa}): ${a}`,...t)}function Yn(a,...t){throw ad(a,...t)}function pn(a,...t){return ad(a,...t)}function h0(a,t,i){const l={...AA(),[t]:i};return new Gl("auth","Firebase",l).create(t,{appName:a.name})}function Oi(a){return h0(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ad(a,...t){if(typeof a!="string"){const i=t[0],l=[...t.slice(1)];return l[0]&&(l[0].appName=a.name),a._errorFactory.create(i,...l)}return f0.create(a,...t)}function J(a,t,...i){if(!a)throw ad(t,...i)}function jn(a){const t="INTERNAL ASSERTION FAILED: "+a;throw So(t),new Error(t)}function Fn(a,t){a||jn(t)}function yh(){return typeof self<"u"&&self.location?.href||""}function RA(){return gy()==="http:"||gy()==="https:"}function gy(){return typeof self<"u"&&self.location?.protocol||null}function OA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RA()||jb()||"connection"in navigator)?navigator.onLine:!0}function DA(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Fn(i>t,"Short delay should be less than long delay!"),this.isMobile=Ch()||qy()}get(){return OA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ld(a,t){Fn(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class d0{static initialize(t,i,l){this.fetchImpl=t,i&&(this.headersImpl=i),l&&(this.responseImpl=l)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const MA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xA=new Xl(3e4,6e4);function ou(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function va(a,t,i,l,o={}){return m0(a,o,async()=>{let f={},h={};l&&(t==="GET"?h=l:f={body:JSON.stringify(l)});const m=ma({key:a.config.apiKey,...h}).slice(1),g=await a._getAdditionalHeaders();g["Content-Type"]="application/json",a.languageCode&&(g["X-Firebase-Locale"]=a.languageCode);const p={method:t,headers:g,...f};return Bb()||(p.referrerPolicy="no-referrer"),a.emulatorConfig&&da(a.emulatorConfig.host)&&(p.credentials="include"),d0.fetch()(await g0(a,a.config.apiHost,i,m),p)})}async function m0(a,t,i){a._canInitEmulator=!1;const l={...IA,...t};try{const o=new kA(a),f=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await f.json();if("needConfirmation"in h)throw yo(a,"account-exists-with-different-credential",h);if(f.ok&&!("errorMessage"in h))return h;{const m=f.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw yo(a,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw yo(a,"email-already-in-use",h);if(g==="USER_DISABLED")throw yo(a,"user-disabled",h);const S=l[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw h0(a,S,p);Yn(a,S)}}catch(o){if(o instanceof ki)throw o;Yn(a,"network-request-failed",{message:String(o)})}}async function p0(a,t,i,l,o={}){const f=await va(a,t,i,l,o);return"mfaPendingCredential"in f&&Yn(a,"multi-factor-auth-required",{_serverResponse:f}),f}async function g0(a,t,i,l){const o=`${t}${i}?${l}`,f=a,h=f.config.emulator?ld(a.config,o):`${a.config.apiScheme}://${o}`;return MA.includes(i)&&(await f._persistenceManagerAvailable,f._getPersistenceType()==="COOKIE")?f._getPersistence()._getFinalTarget(h).toString():h}class kA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,l)=>{this.timer=setTimeout(()=>l(pn(this.auth,"network-request-failed")),xA.get())})}}function yo(a,t,i){const l={appName:a.name};i.email&&(l.email=i.email),i.phoneNumber&&(l.phoneNumber=i.phoneNumber);const o=pn(a,t,l);return o.customData._tokenResponse=i,o}async function UA(a,t){return va(a,"POST","/v1/accounts:delete",t)}async function qo(a,t){return va(a,"POST","/v1/accounts:lookup",t)}function Rl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function LA(a,t=!1){const i=It(a),l=await i.getIdToken(t),o=rd(l);J(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const f=typeof o.firebase=="object"?o.firebase:void 0,h=f?.sign_in_provider;return{claims:o,token:l,authTime:Rl(Wf(o.auth_time)),issuedAtTime:Rl(Wf(o.iat)),expirationTime:Rl(Wf(o.exp)),signInProvider:h||null,signInSecondFactor:f?.sign_in_second_factor||null}}function Wf(a){return Number(a)*1e3}function rd(a){const[t,i,l]=a.split(".");if(t===void 0||i===void 0||l===void 0)return So("JWT malformed, contained fewer than 3 sections"),null;try{const o=wo(i);return o?JSON.parse(o):(So("Failed to decode base64 JWT payload"),null)}catch(o){return So("Caught error parsing JWT payload as JSON",o?.toString()),null}}function _y(a){const t=rd(a);return J(t,"internal-error"),J(typeof t.exp<"u","internal-error"),J(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function jl(a,t,i=!1){if(i)return t;try{return await t}catch(l){throw l instanceof ki&&zA(l)&&a.auth.currentUser===a&&await a.auth.signOut(),l}}function zA({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class HA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vh{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Vo(a){const t=a.auth,i=await a.getIdToken(),l=await jl(a,qo(t,{idToken:i}));J(l?.users.length,t,"internal-error");const o=l.users[0];a._notifyReloadListener(o);const f=o.providerUserInfo?.length?_0(o.providerUserInfo):[],h=jA(a.providerData,f),m=a.isAnonymous,g=!(a.email&&o.passwordHash)&&!h?.length,p=m?g:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new vh(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(a,S)}async function BA(a){const t=It(a);await Vo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jA(a,t){return[...a.filter(l=>!t.some(o=>o.providerId===l.providerId)),...t]}function _0(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function GA(a,t){const i=await m0(a,{},async()=>{const l=ma({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:f}=a.config,h=await g0(a,o,"/v1/token",`key=${f}`),m=await a._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:l};return a.emulatorConfig&&da(a.emulatorConfig.host)&&(g.credentials="include"),d0.fetch()(h,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function PA(a,t){return va(a,"POST","/v2/accounts:revokeToken",ou(a,t))}class na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){J(t.idToken,"internal-error"),J(typeof t.idToken<"u","internal-error"),J(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_y(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){J(t.length!==0,"internal-error");const i=_y(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:l,refreshToken:o,expiresIn:f}=await GA(t,i);this.updateTokensAndExpiration(l,o,Number(f))}updateTokensAndExpiration(t,i,l){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+l*1e3}static fromJSON(t,i){const{refreshToken:l,accessToken:o,expirationTime:f}=i,h=new na;return l&&(J(typeof l=="string","internal-error",{appName:t}),h.refreshToken=l),o&&(J(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),f&&(J(typeof f=="number","internal-error",{appName:t}),h.expirationTime=f),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new na,this.toJSON())}_performRefresh(){return jn("not implemented")}}function vi(a,t){J(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class rn{constructor({uid:t,auth:i,stsTokenManager:l,...o}){this.providerId="firebase",this.proactiveRefresh=new HA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vh(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await jl(this,this.stsTokenManager.getToken(this.auth,t));return J(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return LA(this,t)}reload(){return BA(this)}_assign(t){this!==t&&(J(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new rn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let l=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),l=!0),i&&await Vo(this),await this.auth._persistUserIfCurrent(this),l&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sn(this.auth.app))return Promise.reject(Oi(this.auth));const t=await this.getIdToken();return await jl(this,UA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const l=i.displayName??void 0,o=i.email??void 0,f=i.phoneNumber??void 0,h=i.photoURL??void 0,m=i.tenantId??void 0,g=i._redirectEventId??void 0,p=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:y,emailVerified:E,isAnonymous:U,providerData:L,stsTokenManager:G}=i;J(y&&G,t,"internal-error");const se=na.fromJSON(this.name,G);J(typeof y=="string",t,"internal-error"),vi(l,t.name),vi(o,t.name),J(typeof E=="boolean",t,"internal-error"),J(typeof U=="boolean",t,"internal-error"),vi(f,t.name),vi(h,t.name),vi(m,t.name),vi(g,t.name),vi(p,t.name),vi(S,t.name);const ne=new rn({uid:y,auth:t,email:o,emailVerified:E,displayName:l,isAnonymous:U,photoURL:h,phoneNumber:f,tenantId:m,stsTokenManager:se,createdAt:p,lastLoginAt:S});return L&&Array.isArray(L)&&(ne.providerData=L.map(X=>({...X}))),g&&(ne._redirectEventId=g),ne}static async _fromIdTokenResponse(t,i,l=!1){const o=new na;o.updateFromServerResponse(i);const f=new rn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:l});return await Vo(f),f}static async _fromGetAccountInfoResponse(t,i,l){const o=i.users[0];J(o.localId!==void 0,"internal-error");const f=o.providerUserInfo!==void 0?_0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!f?.length,m=new na;m.updateFromIdToken(l);const g=new rn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new vh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!f?.length};return Object.assign(g,p),g}}const yy=new Map;function Gn(a){Fn(a instanceof Function,"Expected a class definition");let t=yy.get(a);return t?(Fn(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,yy.set(a,t),t)}class y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}y0.type="NONE";const vy=y0;function Eo(a,t,i){return`firebase:${a}:${t}:${i}`}class ia{constructor(t,i,l){this.persistence=t,this.auth=i,this.userKey=l;const{config:o,name:f}=this.auth;this.fullUserKey=Eo(this.userKey,o.apiKey,f),this.fullPersistenceKey=Eo("persistence",o.apiKey,f),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await qo(this.auth,{idToken:t}).catch(()=>{});return i?rn._fromGetAccountInfoResponse(this.auth,i,t):null}return rn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,l="authUser"){if(!i.length)return new ia(Gn(vy),t,l);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let f=o[0]||Gn(vy);const h=Eo(l,t.config.apiKey,t.name);let m=null;for(const p of i)try{const S=await p._get(h);if(S){let y;if(typeof S=="string"){const E=await qo(t,{idToken:S}).catch(()=>{});if(!E)break;y=await rn._fromGetAccountInfoResponse(t,E,S)}else y=rn._fromJSON(t,S);p!==f&&(m=y),f=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!f._shouldAllowMigration||!g.length?new ia(f,t,l):(f=g[0],m&&await f._set(h,m.toJSON()),await Promise.all(i.map(async p=>{if(p!==f)try{await p._remove(h)}catch{}})),new ia(f,t,l))}}function Sy(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(b0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(v0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(C0(t))return"Blackberry";if(w0(t))return"Webos";if(S0(t))return"Safari";if((t.includes("chrome/")||E0(t))&&!t.includes("edge/"))return"Chrome";if(T0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,l=a.match(i);if(l?.length===2)return l[1]}return"Other"}function v0(a=vt()){return/firefox\//i.test(a)}function S0(a=vt()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function E0(a=vt()){return/crios\//i.test(a)}function b0(a=vt()){return/iemobile/i.test(a)}function T0(a=vt()){return/android/i.test(a)}function C0(a=vt()){return/blackberry/i.test(a)}function w0(a=vt()){return/webos/i.test(a)}function od(a=vt()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function qA(a=vt()){return od(a)&&!!window.navigator?.standalone}function VA(){return Gb()&&document.documentMode===10}function A0(a=vt()){return od(a)||T0(a)||w0(a)||C0(a)||/windows phone/i.test(a)||b0(a)}function N0(a,t=[]){let i;switch(a){case"Browser":i=Sy(vt());break;case"Worker":i=`${Sy(vt())}-${a}`;break;default:i=a}const l=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${pa}/${l}`}class YA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const l=f=>new Promise((h,m)=>{try{const g=t(f);h(g)}catch(g){m(g)}});l.onAbort=i,this.queue.push(l);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const l of this.queue)await l(t),l.onAbort&&i.push(l.onAbort)}catch(l){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:l?.message})}}}async function FA(a,t={}){return va(a,"GET","/v2/passwordPolicy",ou(a,t))}const QA=6;class XA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??QA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const l=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;l&&(i.meetsMinPasswordLength=t.length>=l),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let l;for(let o=0;o<t.length;o++)l=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,l>="a"&&l<="z",l>="A"&&l<="Z",l>="0"&&l<="9",this.allowedNonAlphanumericCharacters.includes(l))}updatePasswordCharacterOptionsStatuses(t,i,l,o,f){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=l)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=f))}}class KA{constructor(t,i,l,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=l,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ey(this),this.idTokenSubscription=new Ey(this),this.beforeStateQueue=new YA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(f=>this._resolvePersistenceManagerAvailable=f)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Gn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ia.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await qo(this,{idToken:t}),l=await rn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(l)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(sn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=this.redirectUser?._redirectEventId,h=l?._redirectEventId,m=await this.tryRedirectSignIn(t);(!f||f===h)&&m?.user&&(l=m.user,o=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Vo(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=DA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(sn(this.app))return Promise.reject(Oi(this));const i=t?It(t):null;return i&&J(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&J(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return sn(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return sn(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await FA(this),i=new XA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gl("auth","Firebase",t())}onAuthStateChanged(t,i,l){return this.registerStateListener(this.authStateSubscription,t,i,l)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,l){return this.registerStateListener(this.idTokenSubscription,t,i,l)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const l=this.onAuthStateChanged(()=>{l(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),l={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(l.tenantId=this.tenantId),await PA(this,l)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const l=await this.getOrInitRedirectPersistenceManager(i);return t===null?l.removeCurrentUser():l.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Gn(t)||this._popupRedirectResolver;J(i,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[Gn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,l,o){if(this._deleted)return()=>{};const f=typeof i=="function"?i:i.next.bind(i);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(m,this,"internal-error"),m.then(()=>{h||f(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,l,o);return()=>{h=!0,g()}}else{const g=t.addObserver(i);return()=>{h=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=N0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(t["X-Firebase-AppCheck"]=l),t}async _getAppCheckToken(){if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&NA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function uu(a){return It(a)}class Ey{constructor(t){this.auth=t,this.observer=null,this.addObserver=Zb(i=>this.observer=i)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WA(a){ud=a}function ZA(a){return ud.loadJS(a)}function JA(){return ud.gapiScript}function $A(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function eN(a,t){const i=Nh(a,"auth");if(i.isInitialized()){const o=i.getImmediate(),f=i.getOptions();if(as(f,t??{}))return o;Yn(o,"already-initialized")}return i.initialize({options:t})}function tN(a,t){const i=t?.persistence||[],l=(Array.isArray(i)?i:[i]).map(Gn);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(l,t?.popupRedirectResolver)}function nN(a,t,i){const l=uu(a);J(/^https?:\/\//.test(t),l,"invalid-emulator-scheme");const o=!1,f=R0(t),{host:h,port:m}=iN(t),g=m===null?"":`:${m}`,p={url:`${f}//${h}${g}/`},S=Object.freeze({host:h,port:m,protocol:f.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!l._canInitEmulator){J(l.config.emulator&&l.emulatorConfig,l,"emulator-config-failed"),J(as(p,l.config.emulator)&&as(S,l.emulatorConfig),l,"emulator-config-failed");return}l.config.emulator=p,l.emulatorConfig=S,l.settings.appVerificationDisabledForTesting=!0,da(h)?(Gy(`${f}//${h}${g}`),Py("Auth",!0)):sN()}function R0(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function iN(a){const t=R0(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const l=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(l);if(o){const f=o[1];return{host:f,port:by(l.substr(f.length+1))}}else{const[f,h]=l.split(":");return{host:f,port:by(h)}}}function by(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function sN(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class O0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return jn("not implemented")}_getIdTokenResponse(t){return jn("not implemented")}_linkToIdToken(t,i){return jn("not implemented")}_getReauthenticationResolver(t){return jn("not implemented")}}async function sa(a,t){return p0(a,"POST","/v1/accounts:signInWithIdp",ou(a,t))}const aN="http://localhost";class cs extends O0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new cs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Yn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:l,signInMethod:o,...f}=i;if(!l||!o)return null;const h=new cs(l,o);return h.idToken=f.idToken||void 0,h.accessToken=f.accessToken||void 0,h.secret=f.secret,h.nonce=f.nonce,h.pendingToken=f.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return sa(t,i)}_linkToIdToken(t,i){const l=this.buildRequest();return l.idToken=i,sa(t,l)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,sa(t,i)}buildRequest(){const t={requestUri:aN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ma(i)}return t}}class D0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Kl extends D0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Si extends Kl{constructor(){super("facebook.com")}static credential(t){return cs._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Si.credentialFromTaggedObject(t)}static credentialFromError(t){return Si.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Si.credential(t.oauthAccessToken)}catch{return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com";Si.PROVIDER_ID="facebook.com";class Ei extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return cs._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ei.credentialFromTaggedObject(t)}static credentialFromError(t){return Ei.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:l}=t;if(!i&&!l)return null;try{return Ei.credential(i,l)}catch{return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com";Ei.PROVIDER_ID="google.com";class bi extends Kl{constructor(){super("github.com")}static credential(t){return cs._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return bi.credentialFromTaggedObject(t)}static credentialFromError(t){return bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return bi.credential(t.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";class Ti extends Kl{constructor(){super("twitter.com")}static credential(t,i){return cs._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ti.credentialFromTaggedObject(t)}static credentialFromError(t){return Ti.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:l}=t;if(!i||!l)return null;try{return Ti.credential(i,l)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";async function lN(a,t){return p0(a,"POST","/v1/accounts:signUp",ou(a,t))}class xi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,l,o=!1){const f=await rn._fromIdTokenResponse(t,l,o),h=Ty(l);return new xi({user:f,providerId:h,_tokenResponse:l,operationType:i})}static async _forOperation(t,i,l){await t._updateTokensIfNecessary(l,!0);const o=Ty(l);return new xi({user:t,providerId:o,_tokenResponse:l,operationType:i})}}function Ty(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function rN(a){if(sn(a.app))return Promise.reject(Oi(a));const t=uu(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new xi({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await lN(t,{returnSecureToken:!0}),l=await xi._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(l.user),l}class Yo extends ki{constructor(t,i,l,o){super(i.code,i.message),this.operationType=l,this.user=o,Object.setPrototypeOf(this,Yo.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:l}}static _fromErrorAndOperation(t,i,l,o){return new Yo(t,i,l,o)}}function I0(a,t,i,l){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(f=>{throw f.code==="auth/multi-factor-auth-required"?Yo._fromErrorAndOperation(a,f,t,l):f})}async function oN(a,t,i=!1){const l=await jl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return xi._forOperation(a,"link",l)}async function uN(a,t,i=!1){const{auth:l}=a;if(sn(l.app))return Promise.reject(Oi(l));const o="reauthenticate";try{const f=await jl(a,I0(l,o,t,a),i);J(f.idToken,l,"internal-error");const h=rd(f.idToken);J(h,l,"internal-error");const{sub:m}=h;return J(a.uid===m,l,"user-mismatch"),xi._forOperation(a,o,f)}catch(f){throw f?.code==="auth/user-not-found"&&Yn(l,"user-mismatch"),f}}async function cN(a,t,i=!1){if(sn(a.app))return Promise.reject(Oi(a));const l="signIn",o=await I0(a,l,t),f=await xi._fromIdTokenResponse(a,l,o);return i||await a._updateCurrentUser(f.user),f}function fN(a,t,i,l){return It(a).onIdTokenChanged(t,i,l)}function hN(a,t,i){return It(a).beforeAuthStateChanged(t,i)}function dN(a,t,i,l){return It(a).onAuthStateChanged(t,i,l)}const Fo="__sak";class M0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Fo,"1"),this.storage.removeItem(Fo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const mN=1e3,pN=10;class x0 extends M0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const l=this.storage.getItem(i),o=this.localCache[i];l!==o&&t(i,o,l)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const l=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(l);!i&&this.localCache[l]===h||this.notifyListeners(l,h)},f=this.storage.getItem(l);VA()&&f!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,pN):o()}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,l)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:l}),!0)})},mN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}x0.type="LOCAL";const gN=x0;class k0 extends M0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}k0.type="SESSION";const U0=k0;function _N(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class cu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const l=new cu(t);return this.receivers.push(l),l}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:l,eventType:o,data:f}=i.data,h=this.handlersMap[o];if(!h?.size)return;i.ports[0].postMessage({status:"ack",eventId:l,eventType:o});const m=Array.from(h).map(async p=>p(i.origin,f)),g=await _N(m);i.ports[0].postMessage({status:"done",eventId:l,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cu.receivers=[];function cd(a="",t=10){let i="";for(let l=0;l<t;l++)i+=Math.floor(Math.random()*10);return a+i}class yN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,l=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let f,h;return new Promise((m,g)=>{const p=cd("",20);o.port1.start();const S=setTimeout(()=>{g(new Error("unsupported_event"))},l);h={messageChannel:o,onMessage(y){const E=y;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(S),f=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(f),m(E.data.response);break;default:clearTimeout(S),clearTimeout(f),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function gn(){return window}function vN(a){gn().location.href=a}function L0(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}async function SN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EN(){return navigator?.serviceWorker?.controller||null}function bN(){return L0()?self:null}const z0="firebaseLocalStorageDb",TN=1,Qo="firebaseLocalStorage",H0="fbase_key";class Wl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fu(a,t){return a.transaction([Qo],t?"readwrite":"readonly").objectStore(Qo)}function CN(){const a=indexedDB.deleteDatabase(z0);return new Wl(a).toPromise()}function Sh(){const a=indexedDB.open(z0,TN);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const l=a.result;try{l.createObjectStore(Qo,{keyPath:H0})}catch(o){i(o)}}),a.addEventListener("success",async()=>{const l=a.result;l.objectStoreNames.contains(Qo)?t(l):(l.close(),await CN(),t(await Sh()))})})}async function Cy(a,t,i){const l=fu(a,!0).put({[H0]:t,value:i});return new Wl(l).toPromise()}async function wN(a,t){const i=fu(a,!1).get(t),l=await new Wl(i).toPromise();return l===void 0?null:l.value}function wy(a,t){const i=fu(a,!0).delete(t);return new Wl(i).toPromise()}const AN=800,NN=3;class B0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sh(),this.db)}async _withRetries(t){let i=0;for(;;)try{const l=await this._openDb();return await t(l)}catch(l){if(i++>NN)throw l;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cu._getInstance(bN()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SN(),!this.activeServiceWorker)return;this.sender=new yN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||EN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Sh();return await Cy(t,Fo,"1"),await wy(t,Fo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(l=>Cy(l,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(l=>wN(l,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>wy(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const f=fu(o,!1).getAll();return new Wl(f).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],l=new Set;if(t.length!==0)for(const{fbase_key:o,value:f}of t)l.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(f)&&(this.notifyListeners(o,f),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!l.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const l=this.listeners[t];if(l)for(const o of Array.from(l))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B0.type="LOCAL";const RN=B0;new Xl(3e4,6e4);function ON(a,t){return t?Gn(t):(J(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class fd extends O0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return sa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return sa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return sa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function DN(a){return cN(a.auth,new fd(a),a.bypassAuthState)}function IN(a){const{auth:t,user:i}=a;return J(i,t,"internal-error"),uN(i,new fd(a),a.bypassAuthState)}async function MN(a){const{auth:t,user:i}=a;return J(i,t,"internal-error"),oN(i,new fd(a),a.bypassAuthState)}class j0{constructor(t,i,l,o,f=!1){this.auth=t,this.resolver=l,this.user=o,this.bypassAuthState=f,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(l){this.reject(l)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:l,postBody:o,tenantId:f,error:h,type:m}=t;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:i,sessionId:l,tenantId:f||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return DN;case"linkViaPopup":case"linkViaRedirect":return MN;case"reauthViaPopup":case"reauthViaRedirect":return IN;default:Yn(this.auth,"internal-error")}}resolve(t){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xN=new Xl(2e3,1e4);class $s extends j0{constructor(t,i,l,o,f){super(t,i,o,f),this.provider=l,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return J(t,this.auth,"internal-error"),t}async onExecution(){Fn(this.filter.length===1,"Popup operations only handle one event");const t=cd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,xN.get())};t()}}$s.currentPopupAction=null;const kN="pendingRedirect",bo=new Map;class UN extends j0{constructor(t,i,l=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,l),this.eventId=null}async execute(){let t=bo.get(this.auth._key());if(!t){try{const l=await LN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(l)}catch(i){t=()=>Promise.reject(i)}bo.set(this.auth._key(),t)}return this.bypassAuthState||bo.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LN(a,t){const i=BN(t),l=HN(a);if(!await l._isAvailable())return!1;const o=await l._get(i)==="true";return await l._remove(i),o}function zN(a,t){bo.set(a._key(),t)}function HN(a){return Gn(a._redirectPersistence)}function BN(a){return Eo(kN,a.config.apiKey,a.name)}async function jN(a,t,i=!1){if(sn(a.app))return Promise.reject(Oi(a));const l=uu(a),o=ON(l,t),h=await new UN(l,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await l._persistUserIfCurrent(h.user),await l._setRedirectUser(null,t)),h}const GN=600*1e3;class PN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(l=>{this.isEventForConsumer(t,l)&&(i=!0,this.sendToConsumer(t,l),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qN(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!G0(t)){const l=t.error.code?.split("auth/")[1]||"internal-error";i.onError(pn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const l=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&l}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=GN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ay(t))}saveEventToCache(t){this.cachedEventUids.add(Ay(t)),this.lastProcessedEventTime=Date.now()}}function Ay(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function G0({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function qN(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G0(a);default:return!1}}async function VN(a,t={}){return va(a,"GET","/v1/projects",t)}const YN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FN=/^https?/;async function QN(a){if(a.config.emulator)return;const{authorizedDomains:t}=await VN(a);for(const i of t)try{if(XN(i))return}catch{}Yn(a,"unauthorized-domain")}function XN(a){const t=yh(),{protocol:i,hostname:l}=new URL(t);if(a.startsWith("chrome-extension://")){const h=new URL(a);return h.hostname===""&&l===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===l}if(!FN.test(i))return!1;if(YN.test(a))return l===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(l)}const KN=new Xl(3e4,6e4);function Ny(){const a=gn().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function WN(a){return new Promise((t,i)=>{function l(){Ny(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ny(),i(pn(a,"network-request-failed"))},timeout:KN.get()})}if(gn().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(gn().gapi?.load)l();else{const o=$A("iframefcb");return gn()[o]=()=>{gapi.load?l():i(pn(a,"network-request-failed"))},ZA(`${JA()}?onload=${o}`).catch(f=>i(f))}}).catch(t=>{throw To=null,t})}let To=null;function ZN(a){return To=To||WN(a),To}const JN=new Xl(5e3,15e3),$N="__/auth/iframe",eR="emulator/auth/iframe",tR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iR(a){const t=a.config;J(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?ld(t,eR):`https://${a.config.authDomain}/${$N}`,l={apiKey:t.apiKey,appName:a.name,v:pa},o=nR.get(a.config.apiHost);o&&(l.eid=o);const f=a._getFrameworks();return f.length&&(l.fw=f.join(",")),`${i}?${ma(l).slice(1)}`}async function sR(a){const t=await ZN(a),i=gn().gapi;return J(i,a,"internal-error"),t.open({where:document.body,url:iR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tR,dontclear:!0},l=>new Promise(async(o,f)=>{await l.restyle({setHideOnLeave:!1});const h=pn(a,"network-request-failed"),m=gn().setTimeout(()=>{f(h)},JN.get());function g(){gn().clearTimeout(m),o(l)}l.ping(g).then(g,()=>{f(h)})}))}const aR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lR=500,rR=600,oR="_blank",uR="http://localhost";class Ry{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cR(a,t,i,l=lR,o=rR){const f=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-l)/2,0).toString();let m="";const g={...aR,width:l.toString(),height:o.toString(),top:f,left:h},p=vt().toLowerCase();i&&(m=E0(p)?oR:i),v0(p)&&(t=t||uR,g.scrollbars="yes");const S=Object.entries(g).reduce((E,[U,L])=>`${E}${U}=${L},`,"");if(qA(p)&&m!=="_self")return fR(t||"",m),new Ry(null);const y=window.open(t||"",m,S);J(y,a,"popup-blocked");try{y.focus()}catch{}return new Ry(y)}function fR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const l=document.createEvent("MouseEvent");l.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(l)}const hR="__/auth/handler",dR="emulator/auth/handler",mR=encodeURIComponent("fac");async function Oy(a,t,i,l,o,f){J(a.config.authDomain,a,"auth-domain-config-required"),J(a.config.apiKey,a,"invalid-api-key");const h={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:l,v:pa,eventId:o};if(t instanceof D0){t.setDefaultLanguage(a.languageCode),h.providerId=t.providerId||"",Ao(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,y]of Object.entries({}))h[S]=y}if(t instanceof Kl){const S=t.getScopes().filter(y=>y!=="");S.length>0&&(h.scopes=S.join(","))}a.tenantId&&(h.tid=a.tenantId);const m=h;for(const S of Object.keys(m))m[S]===void 0&&delete m[S];const g=await a._getAppCheckToken(),p=g?`#${mR}=${encodeURIComponent(g)}`:"";return`${pR(a)}?${ma(m).slice(1)}${p}`}function pR({config:a}){return a.emulator?ld(a,dR):`https://${a.authDomain}/${hR}`}const Zf="webStorageSupport";class gR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U0,this._completeRedirectFn=jN,this._overrideRedirectResult=zN}async _openPopup(t,i,l,o){Fn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const f=await Oy(t,i,l,yh(),o);return cR(t,f,cd())}async _openRedirect(t,i,l,o){await this._originValidation(t);const f=await Oy(t,i,l,yh(),o);return vN(f),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:f}=this.eventManagers[i];return o?Promise.resolve(o):(Fn(f,"If manager is not set, promise should be"),f)}const l=this.initAndGetManager(t);return this.eventManagers[i]={promise:l},l.catch(()=>{delete this.eventManagers[i]}),l}async initAndGetManager(t){const i=await sR(t),l=new PN(t);return i.register("authEvent",o=>(J(o?.authEvent,t,"invalid-auth-event"),{status:l.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:l},this.iframes[t._key()]=i,l}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Zf,{type:Zf},o=>{const f=o?.[0]?.[Zf];f!==void 0&&i(!!f),Yn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=QN(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return A0()||S0()||od()}}const _R=gR;var Dy="@firebase/auth",Iy="1.12.0";class yR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(l=>{t(l?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SR(a){ra(new ls("auth",(t,{options:i})=>{const l=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),f=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=l.options;J(h&&!h.includes(":"),"invalid-api-key",{appName:l.name});const g={apiKey:h,authDomain:m,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:N0(a)},p=new KA(l,o,f,g);return tN(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,l)=>{t.getProvider("auth-internal").initialize()})),ra(new ls("auth-internal",t=>{const i=uu(t.getProvider("auth").getImmediate());return(l=>new yR(l))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(Dy,Iy,vR(a)),Ai(Dy,Iy,"esm2020")}const ER=300,bR=jy("authIdTokenMaxAge")||ER;let My=null;const TR=a=>async t=>{const i=t&&await t.getIdTokenResult(),l=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(l&&l>bR)return;const o=i?.token;My!==o&&(My=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function CR(a=Xy()){const t=Nh(a,"auth");if(t.isInitialized())return t.getImmediate();const i=eN(a,{popupRedirectResolver:_R,persistence:[RN,gN,U0]}),l=jy("authTokenSyncURL");if(l&&typeof isSecureContext=="boolean"&&isSecureContext){const f=new URL(l,location.origin);if(location.origin===f.origin){const h=TR(f.toString());hN(i,h,()=>h(i.currentUser)),fN(i,m=>h(m))}}const o=Hy("auth");return o&&nN(i,`http://${o}`),i}function wR(){return document.getElementsByTagName("head")?.[0]??document}WA({loadJS(a){return new Promise((t,i)=>{const l=document.createElement("script");l.setAttribute("src",a),l.onload=t,l.onerror=o=>{const f=pn("internal-error");f.customData=o,i(f)},l.type="text/javascript",l.charset="UTF-8",wR().appendChild(l)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SR("Browser");const AR={apiKey:"AIzaSyC3Br7iDX-2irFrN9dLE6vjtsuWFQzfo2U",authDomain:"portfolio-chess.firebaseapp.com",databaseURL:"https://portfolio-chess-default-rtdb.firebaseio.com",projectId:"portfolio-chess",storageBucket:"portfolio-chess.firebasestorage.app",messagingSenderId:"5157075220",appId:"1:5157075220:web:68efc5fed277db42f8ea01",measurementId:"G-NJVP8F749N"},P0=Qy(AR),mn=TA(P0),xy=CR(P0),Sa=9,Ea=6,Rt=[{primary:"#ff4444",glow:"rgba(255, 68, 68, 0.6)",name:"Red"},{primary:"#44ff44",glow:"rgba(68, 255, 68, 0.6)",name:"Green"},{primary:"#4488ff",glow:"rgba(68, 136, 255, 0.6)",name:"Blue"},{primary:"#ff8844",glow:"rgba(255, 136, 68, 0.6)",name:"Orange"}];function Xo(a,t){const i=a===0,l=a===Sa-1,o=t===0,f=t===Ea-1,h=[i,l,o,f].filter(Boolean).length;return h===2?2:h===1?3:4}function q0(a,t){const i=[];return a>0&&i.push({row:a-1,col:t}),a<Sa-1&&i.push({row:a+1,col:t}),t>0&&i.push({row:a,col:t-1}),t<Ea-1&&i.push({row:a,col:t+1}),i}function es(){return Array(Sa).fill(null).map(()=>Array(Ea).fill(null).map(()=>({owner:null,count:0})))}function V0(a){return a.map(t=>t.map(i=>({...i})))}function Y0(a,t){for(let i of a)for(let l of i)if(l.owner===t&&l.count>0)return!1;return!0}function NR(a,t){const i=t.filter(l=>!Y0(a,l.id));return i.length===1?i[0]:null}function RR(a,t){const i=V0(a),l=[];let o=!1;for(let f=0;f<Sa;f++)for(let h=0;h<Ea;h++){const m=i[f][h],g=Xo(f,h);if(m.count>=g){l.push({row:f,col:h});const p=q0(f,h);i[f][h]={owner:null,count:0};for(const S of p){const y=i[S.row][S.col];i[S.row][S.col]={owner:t,count:y.count+1},i[S.row][S.col].count>=Xo(S.row,S.col)&&(o=!0)}}}return{newGrid:i,explodedCells:l,hasMoreExplosions:o}}function OR(a,t,i,l){const o=V0(a),f=o[t][i];return o[t][i]={owner:l,count:f.count+1},o}function DR(a){for(let t=0;t<Sa;t++)for(let i=0;i<Ea;i++)if(a[t][i].count>=Xo(t,i))return!0;return!1}const zn="chainreaction/game_test_3";function IR(){const[a,t]=He.useState(null),[i,l]=He.useState(null),[o,f]=He.useState(""),[h,m]=He.useState(!1),[g,p]=He.useState([]),[S,y]=He.useState(null);He.useEffect(()=>{const q=dN(xy,$=>{$?l($.uid):rN(xy).catch(ge=>{console.error("Error signing in anonymously:",ge),y(ge.message)})});return()=>q()},[]),He.useEffect(()=>{const q=dn(mn,zn);let $;$=setTimeout(async()=>{console.warn("Firebase connection slow, attempting to initialize game state...");try{const be={status:"WAITING",players:[],hostId:null,grid:es(),turnIndex:0,winner:null,maxPlayers:4,lastUpdate:Date.now()};await nn(q,be),t(be)}catch(be){console.error("Failed to initialize game state:",be),y(be.message)}},1e4);const ge=pA(q,be=>{clearTimeout($);const oe=be.val();if(console.log("Firebase data received:",oe),oe){const O=(oe.grid||es()).map(Y=>(Y||[]).map(de=>({owner:de?.owner||null,count:de?.count||0}))),z={status:oe.status||"WAITING",players:oe.players||[],hostId:oe.hostId||null,grid:O,turnIndex:oe.turnIndex||0,winner:oe.winner||null,maxPlayers:oe.maxPlayers||4,lastUpdate:oe.lastUpdate||Date.now()};t(z)}else{const he={status:"WAITING",players:[],hostId:null,grid:es(),turnIndex:0,winner:null,maxPlayers:4,lastUpdate:Date.now()};nn(q,he).catch(O=>{console.error("Failed to set initial state:",O),y(O.message)}),t(he)}},be=>{clearTimeout($),console.error("Firebase onValue error:",be),y(be.message)});return()=>{clearTimeout($),ge()}},[]),He.useEffect(()=>{if(!i||!a?.players?.some(ge=>ge.id===i))return;dn(mn,`${zn}/players`);const q=dn(mn,`chainreaction/presence/${i}`);nn(q,{online:!0,lastSeen:Date.now()});const $=dA(q);return $.remove(),()=>{$.cancel()}},[i,a?.players]);const E=He.useCallback(async q=>{if(!i||!q.trim())return!1;try{const $=dn(mn,zn),ge=Kf($),be=new Promise((H,j)=>setTimeout(()=>j(new Error("Network timeout")),5e3));let oe;try{oe=(await Promise.race([ge,be])).val()}catch(H){console.error("Connection timed out:",H),oe=a||{status:"WAITING",players:[],hostId:null,grid:es(),turnIndex:0,winner:null,maxPlayers:4,lastUpdate:Date.now()}}if(oe||(oe={status:"WAITING",players:[],hostId:null,grid:es(),turnIndex:0,winner:null,maxPlayers:4,lastUpdate:Date.now()}),oe.status!=="WAITING")return console.error("Game not in WAITING state"),!1;const he=oe.players||[],O=oe.maxPlayers||4;if(he.length>=O)return console.error("Game is full"),!1;if(he.some(H=>H.id===i))return f(q),!0;const z=he.length,Y={id:i,name:q.trim(),color:Rt[z].primary,colorIndex:z},de=[...he,Y],ae={...oe,players:de,hostId:oe.hostId||i,lastUpdate:Date.now()},T=nn($,ae),M=new Promise((H,j)=>setTimeout(()=>j(new Error("Network timeout during write")),5e3));return await Promise.race([T,M]),f(q),!0}catch($){return console.error("Error joining game:",$),!1}},[i]),U=He.useCallback(async()=>{if(!i||!a)return;const q=dn(mn,zn),ge=a.players.filter(he=>he.id!==i).map((he,O)=>({...he,color:Rt[O].primary,colorIndex:O})),be=ge.length>0?ge[0].id:null,oe={...a,players:ge,hostId:be,lastUpdate:Date.now()};await nn(q,oe),f("")},[i,a]),L=He.useCallback(async()=>{if(!i||!a||a.hostId!==i||a.players.length<1)return!1;const q=dn(mn,zn),$={...a,status:"PLAYING",grid:es(),turnIndex:0,winner:null,lastUpdate:Date.now()};return await nn(q,$),!0},[i,a]),[G,se]=He.useState([]),ne=He.useCallback(async(q,$)=>{const ge=dn(mn,zn);let be=q;for(;DR(be);){const{newGrid:oe,explodedCells:he,hasMoreExplosions:O}=RR(be,$);p(he);const z=[];he.forEach(ae=>{const T=be[ae.row][ae.col].owner,M=a.players.findIndex(W=>W.id===T)||0,H=Rt[M]?.primary||"#fff";q0(ae.row,ae.col).forEach(W=>{z.push({id:Math.random(),from:{row:ae.row,col:ae.col},to:{row:W.row,col:W.col},color:H})})}),se(z),await new Promise(ae=>setTimeout(ae,350));const de=(await Kf(ge)).val();if(await nn(ge,{...de,grid:oe,lastUpdate:Date.now()}),be=oe,p([]),se([]),await new Promise(ae=>setTimeout(ae,100)),!O)break}return be},[a]),X=He.useCallback(async(q,$)=>{if(!i||!a||h||a.status!=="PLAYING"||a.players[a.turnIndex].id!==i)return!1;const be=a.grid[q][$];if(be.owner!==null&&be.owner!==i)return!1;m(!0);try{const oe=dn(mn,zn);let he=OR(a.grid,q,$,i);await nn(oe,{...a,grid:he,lastUpdate:Date.now()}),he=await ne(he,i);let O=null,z="PLAYING";const Y=new Set;he.forEach(ee=>ee.forEach(_e=>{_e.owner&&Y.add(_e.owner)}));const de=a.players.length,ae=Y.size;he.flat().reduce((ee,_e)=>ee+_e.count,0)>de&&(O=NR(he,a.players),O&&(z="FINISHED"));let M=(a.turnIndex+1)%a.players.length,H=0;for(;H<a.players.length;){const ee=a.players[M];if(!he.flat().some(ot=>ot.owner===ee.id)||!Y0(he,ee.id))break;M=(M+1)%a.players.length,H++}const W=(await Kf(oe)).val();return await nn(oe,{...W,grid:he,turnIndex:M,winner:O?.id||null,status:z,lastUpdate:Date.now()}),!0}finally{m(!1)}},[i,a,h,ne]),Q=He.useCallback(async()=>{if(!a)return;console.log("Resetting game state in Firebase...");const q=dn(mn,zn),$={status:"WAITING",players:[],hostId:null,grid:es(),turnIndex:0,winner:null,maxPlayers:4,lastUpdate:Date.now()};try{await nn(q,$),f(""),l(null),setTimeout(()=>{window.location.reload()},500)}catch(ge){console.error("Failed to reset game:",ge)}},[a]),Ee=He.useCallback(async q=>{if(!a||!i||a.hostId!==i||a.status!=="WAITING"||q<2||q>4)return!1;try{const $=dn(mn,zn);return await nn($,{...a,maxPlayers:q,lastUpdate:Date.now()}),!0}catch($){return console.error("Error setting max players:",$),!1}},[i,a]),Ve=a?.players?.[a?.turnIndex],nt=a?.players?.find(q=>q.id===i),re=Ve?.id===i,it=a?.hostId===i,St=a?.players?.some(q=>q.id===i);return{gameState:a,playerId:i,playerName:o,myPlayer:nt,currentPlayer:Ve,isMyTurn:re,isHost:it,isInGame:St,isProcessing:h,explodingCells:g,flyingAtoms:G,connectionError:S,joinGame:E,leaveGame:U,startGame:L,makeMove:X,resetGame:Q,setMaxPlayers:Ee}}function MR({gameState:a,playerId:t,playerName:i,isHost:l,isInGame:o,onJoin:f,onLeave:h,onStart:m,onSetMaxPlayers:g,connectionError:p}){const[S,y]=He.useState(""),[E,U]=He.useState(!1),[L,G]=He.useState(""),[se,ne]=He.useState(!1),X=a?.maxPlayers||4,Q=a?.players||[],Ee=Q.length,Ve=async()=>{if(!S.trim()){G("Please enter your name");return}if(S.trim().length>12){G("Name must be 12 characters or less");return}U(!0),G("");try{await f(S.trim())||G("Failed to join. Game may be full or already started.")}catch(q){console.error("Join error:",q),G(q.message||"An unexpected error occurred. Please try again.")}finally{U(!1)}},nt=async()=>{if(Q.length<2){G("Need at least 2 players to start");return}await m()},re=q=>{q.key==="Enter"&&Ve()},it=q=>{l&&g&&g(q)},St=()=>{navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")};return D.jsx("div",{className:"lobby-container",children:D.jsxs("div",{className:"lobby-card",children:[D.jsxs("div",{className:"lobby-header",children:[D.jsxs("div",{className:"logo-container",children:[D.jsx("div",{className:"atom atom-1"}),D.jsx("div",{className:"atom atom-2"}),D.jsx("div",{className:"atom atom-3"})]}),D.jsx("h1",{className:"lobby-title",children:"Chain Reaction"}),D.jsx("p",{className:"lobby-subtitle",children:"Multiplayer Strategy Game"})]}),o?D.jsxs("div",{className:"joined-section",children:[D.jsxs("div",{className:"players-section",children:[D.jsxs("div",{className:"section-header",children:[D.jsx("span",{children:"Players"}),D.jsxs("span",{children:[Ee,"/",X]})]}),D.jsxs("div",{className:"players-grid",children:[Q.map((q,$)=>{const ge=q.id===t,be=Rt[$]?.primary||"#ccc";return D.jsxs("div",{className:`player-card ${ge?"is-me":""}`,style:{"--player-color":be},children:[D.jsx("div",{className:"player-avatar",children:D.jsx("div",{className:"player-orb"})}),D.jsxs("div",{className:"player-info",children:[D.jsx("span",{className:"player-name",children:ge?"You":q.name}),D.jsx("span",{className:"player-status",children:$===0?"Wait...":"Ready"})]}),q.id===a.hostId&&D.jsx("span",{className:"host-badge",children:"HOST"})]},q.id)}),Array(X-Ee).fill(null).map((q,$)=>D.jsxs("div",{className:"player-card empty",children:[D.jsx("div",{className:"player-avatar",children:D.jsx("div",{className:"player-orb",style:{background:"transparent",border:"2px dotted rgba(255,255,255,0.2)"}})}),D.jsx("div",{className:"player-info",children:D.jsx("span",{className:"player-name",style:{opacity:.5},children:"Empty"})})]},`empty-${$}`))]})]}),l&&D.jsxs("div",{className:"host-controls",children:[D.jsxs("div",{className:"control-group",children:[D.jsx("span",{className:"control-label",children:"Max Players"}),D.jsx("div",{className:"player-count-buttons",children:[2,3,4].map(q=>D.jsx("button",{className:`count-btn ${X===q?"active":""}`,onClick:()=>it(q),disabled:Ee>q,children:q},q))})]}),D.jsx("button",{onClick:nt,disabled:Ee<2,className:"start-button",children:Ee<2?"Need 2+ Players":"Start Game"})]}),!l&&D.jsx("div",{className:"error-banner",style:{background:"rgba(255, 255, 255, 0.05)",color:"#fff",borderColor:"transparent"},children:"Waiting for host to start..."})]}):D.jsxs("div",{className:"join-section",children:[D.jsxs("div",{className:"input-container",children:[D.jsx("input",{type:"text",placeholder:"Enter your nickname",value:S,onChange:q=>y(q.target.value),onKeyPress:re,maxLength:12,className:"name-input",disabled:E,autoFocus:!0}),D.jsxs("span",{className:"char-count",children:[S.length,"/12"]})]}),L&&D.jsx("div",{className:"error-banner",children:L}),p&&D.jsxs("div",{className:"error-banner",children:["Auth: ",p]}),D.jsx("button",{onClick:Ve,disabled:E||Ee>=X||!t,className:"join-button",children:t?E?"Joining...":"Join Game":"Connecting..."}),Ee>=X&&D.jsxs("p",{className:"error-banner",style:{background:"rgba(255, 255, 255, 0.05)",color:"#fff",borderColor:"transparent"},children:["Lobby is full (",X,"/",X,")"]})]}),D.jsxs("div",{className:"lobby-footer",children:[D.jsxs("button",{className:"icon-button",onClick:()=>ne(!0),children:[D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[D.jsx("circle",{cx:"12",cy:"12",r:"10"}),D.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),D.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"How to Play"]}),D.jsxs("button",{className:"icon-button",onClick:St,children:[D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[D.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),D.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),"Invite"]}),o&&D.jsx("button",{className:"icon-button danger",onClick:h,children:D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[D.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),D.jsx("polyline",{points:"16 17 21 12 16 7"}),D.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]}),se&&D.jsxs("div",{className:"rules-overlay",children:[D.jsxs("div",{className:"rules-header",children:[D.jsx("span",{children:"How to Play"}),D.jsx("button",{className:"close-btn",onClick:()=>ne(!1),children:D.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[D.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),D.jsxs("ul",{className:"rules-list",children:[D.jsxs("li",{children:[D.jsx("div",{className:"rule-icon",children:""}),D.jsx("span",{children:"Place atoms on empty cells or cells you already own."})]}),D.jsxs("li",{children:[D.jsx("div",{className:"rule-icon",children:""}),D.jsx("span",{children:"Cells explode when they reach critical mass (Neighbors + 1)."})]}),D.jsxs("li",{children:[D.jsx("div",{className:"rule-icon",children:""}),D.jsx("span",{children:"Explosions claim neighboring cells for you."})]}),D.jsxs("li",{children:[D.jsx("div",{className:"rule-icon",children:""}),D.jsx("span",{children:"Eliminate all opponents to win the game!"})]})]})]})]})})}function xR({row:a,col:t,cell:i,isExploding:l,isMyTurn:o,canPlace:f,onClick:h}){const m=Xo(a,t),g=i.count,p=i.owner;p!==null&&(Rt.find((ne,X)=>Rt[X]?.primary===i.ownerColor)||Rt[i.colorIndex]||Rt[0]);const S=i.colorIndex!==void 0&&i.colorIndex!==null?Rt[i.colorIndex]:null;g>0&&console.log(`Cell [${a},${t}]`,{atomCount:g,owner:p,colorIndex:i.colorIndex,color:S});const[y,E]=Jf.useState(!1);Jf.useEffect(()=>{if(g>0){E(!0);const ne=setTimeout(()=>E(!1),300);return()=>clearTimeout(ne)}},[g]);const U=()=>{o&&f&&h(a,t)},L=()=>{const ne=[],X=Math.min(g,4);for(let Q=0;Q<X;Q++)ne.push(D.jsx("div",{className:`atom atom-${X}-${Q} ${l?"exploding":""}`,style:{"--atom-color":S?.primary||"#fff","--atom-glow":S?.glow||"rgba(255,255,255,0.5)","--atom-delay":`${Q*.1}s`}},Q));return ne},G=g===m-1,se=o&&f;return D.jsx("div",{className:`cell ${se?"clickable":""} ${G?"critical":""} ${l?"exploding":""} ${y?"receiving":""}`,onClick:U,"data-critical-mass":m,children:D.jsx("div",{className:"cell-inner",children:D.jsx("div",{className:"atoms-container",children:L()})})})}function kR({atoms:a}){return!a||a.length===0?null:D.jsx("div",{className:"flying-atoms-layer",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:20},children:a.map(t=>D.jsx("div",{className:"flying-atom",style:{"--from-x":t.from.col,"--from-y":t.from.row,"--to-x":t.to.col,"--to-y":t.to.row,"--atom-color":t.color}},t.id))})}function UR({gameState:a,playerId:t,isMyTurn:i,isProcessing:l,explodingCells:o,flyingAtoms:f,onCellClick:h,onEndGame:m}){const{grid:g,players:p,turnIndex:S}=a,y=p[S],E={};p.forEach(X=>{E[X.id]=X.colorIndex});const U=g.map(X=>X.map(Q=>({...Q,colorIndex:Q.owner?E[Q.owner]:null}))),[L,G]=Jf.useState(!1),se=(X,Q)=>o.some(Ee=>Ee.row===X&&Ee.col===Q),ne=(X,Q)=>{const Ee=g[X][Q];return Ee.owner===null||Ee.owner===t};return D.jsxs("div",{className:"game-board-container",children:[D.jsxs("div",{className:"game-hud",children:[D.jsx("div",{className:"hud-players",children:p.map((X,Q)=>D.jsxs("div",{className:`hud-player ${X.id===y.id?"active":""}`,style:{"--p-color":Rt[Q].primary,"--p-glow":Rt[Q].glow},children:[D.jsx("div",{className:"hud-orb"}),D.jsxs("span",{className:"hud-name",children:[X.name,X.id===t&&D.jsx("small",{children:" (You)"})]})]},X.id))}),D.jsx("div",{className:"hud-controls",children:L?D.jsxs("div",{className:"reset-confirm",children:[D.jsx("span",{children:"End Game?"}),D.jsx("button",{className:"confirm-btn yes",onClick:()=>{m(),G(!1)},children:""}),D.jsx("button",{className:"confirm-btn no",onClick:()=>G(!1),children:""})]}):D.jsxs("button",{className:"hud-end-btn",onClick:()=>G(!0),title:"End Game",children:[D.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:D.jsx("path",{d:"M4 12v6a2 2 0 002 2h12a2 2 0 002-2v-6M10 2h4M12 2v10",strokeLinecap:"round",strokeLinejoin:"round"})}),D.jsx("span",{className:"btn-label",children:"Reset"})]})})]}),D.jsx("div",{className:"game-grid-wrapper",children:D.jsxs("div",{className:"game-grid",style:{"--grid-cols":Ea,"--grid-rows":Sa},children:[U.map((X,Q)=>X.map((Ee,Ve)=>D.jsx(xR,{row:Q,col:Ve,cell:Ee,isExploding:se(Q,Ve),isMyTurn:i&&!l,canPlace:ne(Q,Ve),onClick:h},`${Q}-${Ve}`))),D.jsx(kR,{atoms:f})]})}),D.jsx("div",{className:"game-status-bar",children:i&&!l?D.jsx("span",{className:"your-turn-msg",children:"Your Turn"}):D.jsx("span",{className:"waiting-msg",children:l?"Thinking...":`${y.name}'s turn`})})]})}function LR({winner:a,players:t,onPlayAgain:i}){const[l,o]=He.useState(!1),f=t.find(m=>m.id===a),h=f?Rt[f.colorIndex]:Rt[0];return He.useEffect(()=>{o(!0);const m=setTimeout(()=>o(!1),5e3);return()=>clearTimeout(m)},[]),f?D.jsxs("div",{className:"win-screen-overlay",children:[l&&D.jsx("div",{className:"confetti-container",children:Array(50).fill(null).map((m,g)=>D.jsx("div",{className:"confetti",style:{"--x":`${Math.random()*100}%`,"--delay":`${Math.random()*2}s`,"--duration":`${2+Math.random()*2}s`,"--color":Rt[g%4].primary}},g))}),D.jsxs("div",{className:"win-card",style:{"--winner-color":h.primary,"--winner-glow":h.glow},children:[D.jsx("div",{className:"trophy-container",children:D.jsx("div",{className:"trophy",children:""})}),D.jsx("h1",{className:"winner-title",children:"Victory!"}),D.jsxs("div",{className:"winner-name-container",children:[D.jsx("div",{className:"winner-atom"}),D.jsx("h2",{className:"winner-name",children:f.name}),D.jsx("div",{className:"winner-atom"})]}),D.jsx("p",{className:"winner-message",children:"Dominated the reaction!"}),D.jsx("button",{onClick:i,className:"play-again-button",children:"Play Again"})]})]}):null}function zR(){const{gameState:a,playerId:t,playerName:i,isMyTurn:l,isHost:o,isInGame:f,isProcessing:h,explodingCells:m,flyingAtoms:g,connectionError:p,joinGame:S,leaveGame:y,startGame:E,makeMove:U,resetGame:L,setMaxPlayers:G}=IR();return a?D.jsxs("div",{className:"app",children:[D.jsxs("div",{className:"background-effects",children:[D.jsx("div",{className:"bg-gradient"}),D.jsx("div",{className:"bg-particles",children:Array(20).fill(null).map((se,ne)=>D.jsx("div",{className:"particle",style:{"--x":`${Math.random()*100}%`,"--y":`${Math.random()*100}%`,"--size":`${2+Math.random()*4}px`,"--duration":`${10+Math.random()*20}s`,"--delay":`${Math.random()*10}s`}},ne))})]}),D.jsxs("div",{className:"app-content",children:[a.status==="WAITING"&&D.jsx(MR,{gameState:a,playerId:t,playerName:i,isHost:o,isInGame:f,onJoin:S,onLeave:y,onStart:E,onSetMaxPlayers:G,connectionError:p}),a.status==="PLAYING"&&D.jsx(UR,{gameState:a,playerId:t,isMyTurn:l,isProcessing:h,explodingCells:m,flyingAtoms:g,onCellClick:U,onEndGame:L,isHost:o}),a.status==="FINISHED"&&D.jsx(LR,{winner:a.winner,players:a.players,onPlayAgain:L})]})]}):D.jsxs("div",{className:"app loading",children:[D.jsxs("div",{className:"loader",children:[D.jsx("div",{className:"loader-atom"}),D.jsx("div",{className:"loader-atom"}),D.jsx("div",{className:"loader-atom"})]}),D.jsx("p",{children:p?`Connection error: ${p}`:"Connecting to game server..."}),p&&D.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",background:"rgba(68, 136, 255, 0.3)",border:"1px solid rgba(68, 136, 255, 0.5)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Retry Connection"})]})}wb.createRoot(document.getElementById("root")).render(D.jsx(He.StrictMode,{children:D.jsx(zR,{})}));
