(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function lw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bd={exports:{}},Ml={};var Gv;function ow(){if(Gv)return Ml;Gv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:c,ref:l!==void 0?l:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var Vv;function uw(){return Vv||(Vv=1,bd.exports=ow()),bd.exports}var z=uw(),Td={exports:{}},me={};var qv;function cw(){if(qv)return me;qv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function T(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,R={};function I(w,H,Z){this.props=w,this.context=H,this.refs=R,this.updater=Z||C}I.prototype.isReactComponent={},I.prototype.setState=function(w,H){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,H,"setState")},I.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function P(){}P.prototype=I.prototype;function D(w,H,Z){this.props=w,this.context=H,this.refs=R,this.updater=Z||C}var L=D.prototype=new P;L.constructor=D,b(L,I.prototype),L.isPureReactComponent=!0;var B=Array.isArray;function X(){}var q={H:null,A:null,T:null,S:null},Q=Object.prototype.hasOwnProperty;function F(w,H,Z){var W=Z.ref;return{$$typeof:r,type:w,key:H,ref:W!==void 0?W:null,props:Z}}function le(w,H){return F(w.type,H,w.props)}function te(w){return typeof w=="object"&&w!==null&&w.$$typeof===r}function ee(w){var H={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Z){return H[Z]})}var re=/\/+/g;function $(w,H){return typeof w=="object"&&w!==null&&w.key!=null?ee(""+w.key):H.toString(36)}function K(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(X,X):(w.status="pending",w.then(function(H){w.status==="pending"&&(w.status="fulfilled",w.value=H)},function(H){w.status==="pending"&&(w.status="rejected",w.reason=H)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function N(w,H,Z,W,ae){var _e=typeof w;(_e==="undefined"||_e==="boolean")&&(w=null);var De=!1;if(w===null)De=!0;else switch(_e){case"bigint":case"string":case"number":De=!0;break;case"object":switch(w.$$typeof){case r:case e:De=!0;break;case p:return De=w._init,N(De(w._payload),H,Z,W,ae)}}if(De)return ae=ae(w),De=W===""?"."+$(w,0):W,B(ae)?(Z="",De!=null&&(Z=De.replace(re,"$&/")+"/"),N(ae,H,Z,"",function(Os){return Os})):ae!=null&&(te(ae)&&(ae=le(ae,Z+(ae.key==null||w&&w.key===ae.key?"":(""+ae.key).replace(re,"$&/")+"/")+De)),H.push(ae)),1;De=0;var St=W===""?".":W+":";if(B(w))for(var Xe=0;Xe<w.length;Xe++)W=w[Xe],_e=St+$(W,Xe),De+=N(W,H,Z,_e,ae);else if(Xe=T(w),typeof Xe=="function")for(w=Xe.call(w),Xe=0;!(W=w.next()).done;)W=W.value,_e=St+$(W,Xe++),De+=N(W,H,Z,_e,ae);else if(_e==="object"){if(typeof w.then=="function")return N(K(w),H,Z,W,ae);throw H=String(w),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return De}function G(w,H,Z){if(w==null)return w;var W=[],ae=0;return N(w,W,"","",function(_e){return H.call(Z,_e,ae++)}),W}function ne(w){if(w._status===-1){var H=w._result;H=H(),H.then(function(Z){(w._status===0||w._status===-1)&&(w._status=1,w._result=Z)},function(Z){(w._status===0||w._status===-1)&&(w._status=2,w._result=Z)}),w._status===-1&&(w._status=0,w._result=H)}if(w._status===1)return w._result.default;throw w._result}var he=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},ce={map:G,forEach:function(w,H,Z){G(w,function(){H.apply(this,arguments)},Z)},count:function(w){var H=0;return G(w,function(){H++}),H},toArray:function(w){return G(w,function(H){return H})||[]},only:function(w){if(!te(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return me.Activity=y,me.Children=ce,me.Component=I,me.Fragment=n,me.Profiler=l,me.PureComponent=D,me.StrictMode=s,me.Suspense=_,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,me.__COMPILER_RUNTIME={__proto__:null,c:function(w){return q.H.useMemoCache(w)}},me.cache=function(w){return function(){return w.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(w,H,Z){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var W=b({},w.props),ae=w.key;if(H!=null)for(_e in H.key!==void 0&&(ae=""+H.key),H)!Q.call(H,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&H.ref===void 0||(W[_e]=H[_e]);var _e=arguments.length-2;if(_e===1)W.children=Z;else if(1<_e){for(var De=Array(_e),St=0;St<_e;St++)De[St]=arguments[St+2];W.children=De}return F(w.type,ae,W)},me.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},me.createElement=function(w,H,Z){var W,ae={},_e=null;if(H!=null)for(W in H.key!==void 0&&(_e=""+H.key),H)Q.call(H,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ae[W]=H[W]);var De=arguments.length-2;if(De===1)ae.children=Z;else if(1<De){for(var St=Array(De),Xe=0;Xe<De;Xe++)St[Xe]=arguments[Xe+2];ae.children=St}if(w&&w.defaultProps)for(W in De=w.defaultProps,De)ae[W]===void 0&&(ae[W]=De[W]);return F(w,_e,ae)},me.createRef=function(){return{current:null}},me.forwardRef=function(w){return{$$typeof:d,render:w}},me.isValidElement=te,me.lazy=function(w){return{$$typeof:p,_payload:{_status:-1,_result:w},_init:ne}},me.memo=function(w,H){return{$$typeof:m,type:w,compare:H===void 0?null:H}},me.startTransition=function(w){var H=q.T,Z={};q.T=Z;try{var W=w(),ae=q.S;ae!==null&&ae(Z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(X,he)}catch(_e){he(_e)}finally{H!==null&&Z.types!==null&&(H.types=Z.types),q.T=H}},me.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},me.use=function(w){return q.H.use(w)},me.useActionState=function(w,H,Z){return q.H.useActionState(w,H,Z)},me.useCallback=function(w,H){return q.H.useCallback(w,H)},me.useContext=function(w){return q.H.useContext(w)},me.useDebugValue=function(){},me.useDeferredValue=function(w,H){return q.H.useDeferredValue(w,H)},me.useEffect=function(w,H){return q.H.useEffect(w,H)},me.useEffectEvent=function(w){return q.H.useEffectEvent(w)},me.useId=function(){return q.H.useId()},me.useImperativeHandle=function(w,H,Z){return q.H.useImperativeHandle(w,H,Z)},me.useInsertionEffect=function(w,H){return q.H.useInsertionEffect(w,H)},me.useLayoutEffect=function(w,H){return q.H.useLayoutEffect(w,H)},me.useMemo=function(w,H){return q.H.useMemo(w,H)},me.useOptimistic=function(w,H){return q.H.useOptimistic(w,H)},me.useReducer=function(w,H,Z){return q.H.useReducer(w,H,Z)},me.useRef=function(w){return q.H.useRef(w)},me.useState=function(w){return q.H.useState(w)},me.useSyncExternalStore=function(w,H,Z){return q.H.useSyncExternalStore(w,H,Z)},me.useTransition=function(){return q.H.useTransition()},me.version="19.2.3",me}var Yv;function M_(){return Yv||(Yv=1,Td.exports=cw()),Td.exports}var Ae=M_();const Kd=lw(Ae);var Ed={exports:{}},Il={},Cd={exports:{}},wd={};var Fv;function fw(){return Fv||(Fv=1,(function(r){function e(N,G){var ne=N.length;N.push(G);e:for(;0<ne;){var he=ne-1>>>1,ce=N[he];if(0<l(ce,G))N[he]=G,N[ne]=ce,ne=he;else break e}}function n(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var G=N[0],ne=N.pop();if(ne!==G){N[0]=ne;e:for(var he=0,ce=N.length,w=ce>>>1;he<w;){var H=2*(he+1)-1,Z=N[H],W=H+1,ae=N[W];if(0>l(Z,ne))W<ce&&0>l(ae,Z)?(N[he]=ae,N[W]=ne,he=W):(N[he]=Z,N[H]=ne,he=H);else if(W<ce&&0>l(ae,ne))N[he]=ae,N[W]=ne,he=W;else break e}}return G}function l(N,G){var ne=N.sortIndex-G.sortIndex;return ne!==0?ne:N.id-G.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var _=[],m=[],p=1,y=null,v=3,T=!1,C=!1,b=!1,R=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function L(N){for(var G=n(m);G!==null;){if(G.callback===null)s(m);else if(G.startTime<=N)s(m),G.sortIndex=G.expirationTime,e(_,G);else break;G=n(m)}}function B(N){if(b=!1,L(N),!C)if(n(_)!==null)C=!0,X||(X=!0,ee());else{var G=n(m);G!==null&&K(B,G.startTime-N)}}var X=!1,q=-1,Q=5,F=-1;function le(){return R?!0:!(r.unstable_now()-F<Q)}function te(){if(R=!1,X){var N=r.unstable_now();F=N;var G=!0;try{e:{C=!1,b&&(b=!1,P(q),q=-1),T=!0;var ne=v;try{t:{for(L(N),y=n(_);y!==null&&!(y.expirationTime>N&&le());){var he=y.callback;if(typeof he=="function"){y.callback=null,v=y.priorityLevel;var ce=he(y.expirationTime<=N);if(N=r.unstable_now(),typeof ce=="function"){y.callback=ce,L(N),G=!0;break t}y===n(_)&&s(_),L(N)}else s(_);y=n(_)}if(y!==null)G=!0;else{var w=n(m);w!==null&&K(B,w.startTime-N),G=!1}}break e}finally{y=null,v=ne,T=!1}G=void 0}}finally{G?ee():X=!1}}}var ee;if(typeof D=="function")ee=function(){D(te)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,$=re.port2;re.port1.onmessage=te,ee=function(){$.postMessage(null)}}else ee=function(){I(te,0)};function K(N,G){q=I(function(){N(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(N){N.callback=null},r.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<N?Math.floor(1e3/N):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(N){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var ne=v;v=G;try{return N()}finally{v=ne}},r.unstable_requestPaint=function(){R=!0},r.unstable_runWithPriority=function(N,G){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var ne=v;v=N;try{return G()}finally{v=ne}},r.unstable_scheduleCallback=function(N,G,ne){var he=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?he+ne:he):ne=he,N){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ne+ce,N={id:p++,callback:G,priorityLevel:N,startTime:ne,expirationTime:ce,sortIndex:-1},ne>he?(N.sortIndex=ne,e(m,N),n(_)===null&&N===n(m)&&(b?(P(q),q=-1):b=!0,K(B,ne-he))):(N.sortIndex=ce,e(_,N),C||T||(C=!0,X||(X=!0,ee()))),N},r.unstable_shouldYield=le,r.unstable_wrapCallback=function(N){var G=v;return function(){var ne=v;v=G;try{return N.apply(this,arguments)}finally{v=ne}}}})(wd)),wd}var Xv;function hw(){return Xv||(Xv=1,Cd.exports=fw()),Cd.exports}var Ad={exports:{}},xt={};var Qv;function dw(){if(Qv)return xt;Qv=1;var r=M_();function e(_){var m="https://react.dev/errors/"+_;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+_+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(_,m,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:_,containerInfo:m,implementation:p}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(_,m){if(_==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,xt.createPortal=function(_,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(_,m,null,p)},xt.flushSync=function(_){var m=c.T,p=s.p;try{if(c.T=null,s.p=2,_)return _()}finally{c.T=m,s.p=p,s.d.f()}},xt.preconnect=function(_,m){typeof _=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(_,m))},xt.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},xt.preinit=function(_,m){if(typeof _=="string"&&m&&typeof m.as=="string"){var p=m.as,y=d(p,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?s.d.S(_,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:T}):p==="script"&&s.d.X(_,{crossOrigin:y,integrity:v,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},xt.preinitModule=function(_,m){if(typeof _=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=d(m.as,m.crossOrigin);s.d.M(_,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(_)},xt.preload=function(_,m){if(typeof _=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,y=d(p,m.crossOrigin);s.d.L(_,p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},xt.preloadModule=function(_,m){if(typeof _=="string")if(m){var p=d(m.as,m.crossOrigin);s.d.m(_,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(_)},xt.requestFormReset=function(_){s.d.r(_)},xt.unstable_batchedUpdates=function(_,m){return _(m)},xt.useFormState=function(_,m,p){return c.H.useFormState(_,m,p)},xt.useFormStatus=function(){return c.H.useHostTransitionStatus()},xt.version="19.2.3",xt}var Kv;function _w(){if(Kv)return Ad.exports;Kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ad.exports=dw(),Ad.exports}var Wv;function mw(){if(Wv)return Il;Wv=1;var r=hw(),e=M_(),n=_w();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function _(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return _(f),t;if(h===o)return _(f),i;h=h.sibling}throw Error(s(188))}if(a.return!==o.return)a=f,o=h;else{for(var g=!1,S=f.child;S;){if(S===a){g=!0,a=f,o=h;break}if(S===o){g=!0,o=f,a=h;break}S=S.sibling}if(!g){for(S=h.child;S;){if(S===a){g=!0,a=h,o=f;break}if(S===o){g=!0,o=h,a=f;break}S=S.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function ee(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var re=Symbol.for("react.client.reference");function $(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===re?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case b:return"Fragment";case I:return"Profiler";case R:return"StrictMode";case B:return"Suspense";case X:return"SuspenseList";case F:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case D:return t.displayName||"Context";case P:return(t._context.displayName||"Context")+".Consumer";case L:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return i=t.displayName||null,i!==null?i:$(t.type)||"Memo";case Q:i=t._payload,t=t._init;try{return $(t(i))}catch{}}return null}var K=Array.isArray,N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},he=[],ce=-1;function w(t){return{current:t}}function H(t){0>ce||(t.current=he[ce],he[ce]=null,ce--)}function Z(t,i){ce++,he[ce]=t.current,t.current=i}var W=w(null),ae=w(null),_e=w(null),De=w(null);function St(t,i){switch(Z(_e,i),Z(ae,t),Z(W,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?fv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=fv(i),t=hv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(W),Z(W,t)}function Xe(){H(W),H(ae),H(_e)}function Os(t){t.memoizedState!==null&&Z(De,t);var i=W.current,a=hv(i,t.type);i!==a&&(Z(ae,t),Z(W,a))}function $n(t){ae.current===t&&(H(W),H(ae)),De.current===t&&(H(De),xl._currentValue=ne)}var Sr,Ii;function Ds(t){if(Sr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Sr=i&&i[1]||"",Ii=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sr+t+Ii}var sf=!1;function rf(t,i){if(!t||sf)return"";sf=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(U){var k=U}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(U){k=U}t.call(Y.prototype)}}else{try{throw Error()}catch(U){k=U}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(U){if(U&&k&&typeof U.stack=="string")return[U.stack,k.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),g=h[0],S=h[1];if(g&&S){var E=g.split(`
`),M=S.split(`
`);for(f=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;f<M.length&&!M[f].includes("DetermineComponentFrameRoot");)f++;if(o===E.length||f===M.length)for(o=E.length-1,f=M.length-1;1<=o&&0<=f&&E[o]!==M[f];)f--;for(;1<=o&&0<=f;o--,f--)if(E[o]!==M[f]){if(o!==1||f!==1)do if(o--,f--,0>f||E[o]!==M[f]){var j=`
`+E[o].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=o&&0<=f);break}}}finally{sf=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ds(a):""}function PT(t,i){switch(t.tag){case 26:case 27:case 5:return Ds(t.type);case 16:return Ds("Lazy");case 13:return t.child!==i&&i!==null?Ds("Suspense Fallback"):Ds("Suspense");case 19:return Ds("SuspenseList");case 0:case 15:return rf(t.type,!1);case 11:return rf(t.type.render,!1);case 1:return rf(t.type,!0);case 31:return Ds("Activity");default:return""}}function Gm(t){try{var i="",a=null;do i+=PT(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var af=Object.prototype.hasOwnProperty,lf=r.unstable_scheduleCallback,of=r.unstable_cancelCallback,HT=r.unstable_shouldYield,BT=r.unstable_requestPaint,Jt=r.unstable_now,jT=r.unstable_getCurrentPriorityLevel,Vm=r.unstable_ImmediatePriority,qm=r.unstable_UserBlockingPriority,Ro=r.unstable_NormalPriority,GT=r.unstable_LowPriority,Ym=r.unstable_IdlePriority,VT=r.log,qT=r.unstable_setDisableYieldValue,Ba=null,$t=null;function ki(t){if(typeof VT=="function"&&qT(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Ba,t)}catch{}}var en=Math.clz32?Math.clz32:XT,YT=Math.log,FT=Math.LN2;function XT(t){return t>>>=0,t===0?32:31-(YT(t)/FT|0)|0}var Oo=256,Do=262144,Mo=4194304;function Ms(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Io(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~h,o!==0?f=Ms(o):(g&=S,g!==0?f=Ms(g):a||(a=S&~t,a!==0&&(f=Ms(a))))):(S=o&~h,S!==0?f=Ms(S):g!==0?f=Ms(g):a||(a=o&~t,a!==0&&(f=Ms(a)))),f===0?0:i!==0&&i!==f&&(i&h)===0&&(h=f&-f,a=i&-i,h>=a||h===32&&(a&4194048)!==0)?i:f}function ja(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function QT(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fm(){var t=Mo;return Mo<<=1,(Mo&62914560)===0&&(Mo=4194304),t}function uf(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ga(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function KT(t,i,a,o,f,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,E=t.expirationTimes,M=t.hiddenUpdates;for(a=g&~a;0<a;){var j=31-en(a),Y=1<<j;S[j]=0,E[j]=-1;var k=M[j];if(k!==null)for(M[j]=null,j=0;j<k.length;j++){var U=k[j];U!==null&&(U.lane&=-536870913)}a&=~Y}o!==0&&Xm(t,o,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~i))}function Xm(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-en(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Qm(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-en(a),f=1<<o;f&i|t[o]&i&&(t[o]|=i),a&=~f}}function Km(t,i){var a=i&-i;return a=(a&42)!==0?1:cf(a),(a&(t.suspendedLanes|i))!==0?0:a}function cf(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ff(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wm(){var t=G.p;return t!==0?t:(t=window.event,t===void 0?32:zv(t.type))}function Zm(t,i){var a=G.p;try{return G.p=t,i()}finally{G.p=a}}var zi=Math.random().toString(36).slice(2),bt="__reactFiber$"+zi,Ut="__reactProps$"+zi,br="__reactContainer$"+zi,hf="__reactEvents$"+zi,WT="__reactListeners$"+zi,ZT="__reactHandles$"+zi,Jm="__reactResources$"+zi,Va="__reactMarker$"+zi;function df(t){delete t[bt],delete t[Ut],delete t[hf],delete t[WT],delete t[ZT]}function Tr(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[br]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=vv(t);t!==null;){if(a=t[bt])return a;t=vv(t)}return i}t=a,a=t.parentNode}return null}function Er(t){if(t=t[bt]||t[br]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function qa(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Cr(t){var i=t[Jm];return i||(i=t[Jm]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mt(t){t[Va]=!0}var $m=new Set,ep={};function Is(t,i){wr(t,i),wr(t+"Capture",i)}function wr(t,i){for(ep[t]=i,t=0;t<i.length;t++)$m.add(i[t])}var JT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tp={},np={};function $T(t){return af.call(np,t)?!0:af.call(tp,t)?!1:JT.test(t)?np[t]=!0:(tp[t]=!0,!1)}function ko(t,i,a){if($T(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function zo(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function ei(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function pn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ip(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function eE(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,h=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function _f(t){if(!t._valueTracker){var i=ip(t)?"checked":"value";t._valueTracker=eE(t,i,""+t[i])}}function sp(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=ip(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Lo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var tE=/[\n"\\]/g;function gn(t){return t.replace(tE,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mf(t,i,a,o,f,h,g,S){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),i!=null?g==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+pn(i)):t.value!==""+pn(i)&&(t.value=""+pn(i)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),i!=null?pf(t,g,pn(i)):a!=null?pf(t,g,pn(a)):o!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+pn(S):t.removeAttribute("name")}function rp(t,i,a,o,f,h,g,S){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),i!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||i!=null)){_f(t);return}a=a!=null?""+pn(a):"",i=i!=null?""+pn(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),_f(t)}function pf(t,i,a){i==="number"&&Lo(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ar(t,i,a,o){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+pn(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function ap(t,i,a){if(i!=null&&(i=""+pn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+pn(a):""}function lp(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(K(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=pn(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),_f(t)}function Nr(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var nE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function op(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||nE.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function up(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&a[f]!==o&&op(t,f,o)}else for(var h in i)i.hasOwnProperty(h)&&op(t,h,i[h])}function gf(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uo(t){return sE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var yf=null;function vf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xr=null,Rr=null;function cp(t){var i=Er(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(mf(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var f=o[Ut]||null;if(!f)throw Error(s(90));mf(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&sp(o)}break e;case"textarea":ap(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ar(t,!!a.multiple,i,!1)}}}var Sf=!1;function fp(t,i,a){if(Sf)return t(i,a);Sf=!0;try{var o=t(i);return o}finally{if(Sf=!1,(xr!==null||Rr!==null)&&(Cu(),xr&&(i=xr,t=Rr,Rr=xr=null,cp(i),t)))for(i=0;i<t.length;i++)cp(t[i])}}function Ya(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Ut]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=!1;if(ni)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){bf=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{bf=!1}var Li=null,Tf=null,Po=null;function hp(){if(Po)return Po;var t,i=Tf,a=i.length,o,f="value"in Li?Li.value:Li.textContent,h=f.length;for(t=0;t<a&&i[t]===f[t];t++);var g=a-t;for(o=1;o<=g&&i[a-o]===f[h-o];o++);return Po=f.slice(t,1<o?1-o:void 0)}function Ho(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Bo(){return!0}function dp(){return!1}function Pt(t){function i(a,o,f,h,g){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(h):h[S]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Bo:dp,this.isPropagationStopped=dp,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),i}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=Pt(ks),Xa=y({},ks,{view:0,detail:0}),rE=Pt(Xa),Ef,Cf,Qa,Go=y({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Af,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qa&&(Qa&&t.type==="mousemove"?(Ef=t.screenX-Qa.screenX,Cf=t.screenY-Qa.screenY):Cf=Ef=0,Qa=t),Ef)},movementY:function(t){return"movementY"in t?t.movementY:Cf}}),_p=Pt(Go),aE=y({},Go,{dataTransfer:0}),lE=Pt(aE),oE=y({},Xa,{relatedTarget:0}),wf=Pt(oE),uE=y({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),cE=Pt(uE),fE=y({},ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hE=Pt(fE),dE=y({},ks,{data:0}),mp=Pt(dE),_E={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gE(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=pE[t])?!!i[t]:!1}function Af(){return gE}var yE=y({},Xa,{key:function(t){if(t.key){var i=_E[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ho(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Af,charCode:function(t){return t.type==="keypress"?Ho(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ho(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vE=Pt(yE),SE=y({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pp=Pt(SE),bE=y({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Af}),TE=Pt(bE),EE=y({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),CE=Pt(EE),wE=y({},Go,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AE=Pt(wE),NE=y({},ks,{newState:0,oldState:0}),xE=Pt(NE),RE=[9,13,27,32],Nf=ni&&"CompositionEvent"in window,Ka=null;ni&&"documentMode"in document&&(Ka=document.documentMode);var OE=ni&&"TextEvent"in window&&!Ka,gp=ni&&(!Nf||Ka&&8<Ka&&11>=Ka),yp=" ",vp=!1;function Sp(t,i){switch(t){case"keyup":return RE.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Or=!1;function DE(t,i){switch(t){case"compositionend":return bp(i);case"keypress":return i.which!==32?null:(vp=!0,yp);case"textInput":return t=i.data,t===yp&&vp?null:t;default:return null}}function ME(t,i){if(Or)return t==="compositionend"||!Nf&&Sp(t,i)?(t=hp(),Po=Tf=Li=null,Or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return gp&&i.locale!=="ko"?null:i.data;default:return null}}var IE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!IE[t.type]:i==="textarea"}function Ep(t,i,a,o){xr?Rr?Rr.push(o):Rr=[o]:xr=o,i=Du(i,"onChange"),0<i.length&&(a=new jo("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Wa=null,Za=null;function kE(t){rv(t,0)}function Vo(t){var i=qa(t);if(sp(i))return t}function Cp(t,i){if(t==="change")return i}var wp=!1;if(ni){var xf;if(ni){var Rf="oninput"in document;if(!Rf){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),Rf=typeof Ap.oninput=="function"}xf=Rf}else xf=!1;wp=xf&&(!document.documentMode||9<document.documentMode)}function Np(){Wa&&(Wa.detachEvent("onpropertychange",xp),Za=Wa=null)}function xp(t){if(t.propertyName==="value"&&Vo(Za)){var i=[];Ep(i,Za,t,vf(t)),fp(kE,i)}}function zE(t,i,a){t==="focusin"?(Np(),Wa=i,Za=a,Wa.attachEvent("onpropertychange",xp)):t==="focusout"&&Np()}function LE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vo(Za)}function UE(t,i){if(t==="click")return Vo(i)}function PE(t,i){if(t==="input"||t==="change")return Vo(i)}function HE(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var tn=typeof Object.is=="function"?Object.is:HE;function Ja(t,i){if(tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!af.call(i,f)||!tn(t[f],i[f]))return!1}return!0}function Rp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Op(t,i){var a=Rp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rp(a)}}function Dp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Dp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Mp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Lo(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Lo(t.document)}return i}function Of(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var BE=ni&&"documentMode"in document&&11>=document.documentMode,Dr=null,Df=null,$a=null,Mf=!1;function Ip(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mf||Dr==null||Dr!==Lo(o)||(o=Dr,"selectionStart"in o&&Of(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),$a&&Ja($a,o)||($a=o,o=Du(Df,"onSelect"),0<o.length&&(i=new jo("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Dr)))}function zs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Mr={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},If={},kp={};ni&&(kp=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Ls(t){if(If[t])return If[t];if(!Mr[t])return t;var i=Mr[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in kp)return If[t]=i[a];return t}var zp=Ls("animationend"),Lp=Ls("animationiteration"),Up=Ls("animationstart"),jE=Ls("transitionrun"),GE=Ls("transitionstart"),VE=Ls("transitioncancel"),Pp=Ls("transitionend"),Hp=new Map,kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kf.push("scrollEnd");function Dn(t,i){Hp.set(t,i),Is(i,[t])}var qo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},yn=[],Ir=0,zf=0;function Yo(){for(var t=Ir,i=zf=Ir=0;i<t;){var a=yn[i];yn[i++]=null;var o=yn[i];yn[i++]=null;var f=yn[i];yn[i++]=null;var h=yn[i];if(yn[i++]=null,o!==null&&f!==null){var g=o.pending;g===null?f.next=f:(f.next=g.next,g.next=f),o.pending=f}h!==0&&Bp(a,f,h)}}function Fo(t,i,a,o){yn[Ir++]=t,yn[Ir++]=i,yn[Ir++]=a,yn[Ir++]=o,zf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Lf(t,i,a,o){return Fo(t,i,a,o),Xo(t)}function Us(t,i){return Fo(t,null,null,i),Xo(t)}function Bp(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,h=t.return;h!==null;)h.childLanes|=a,o=h.alternate,o!==null&&(o.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&i!==null&&(f=31-en(a),t=h.hiddenUpdates,o=t[f],o===null?t[f]=[i]:o.push(i),i.lane=a|536870912),h):null}function Xo(t){if(50<bl)throw bl=0,Yh=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var kr={};function qE(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,i,a,o){return new qE(t,i,a,o)}function Uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ii(t,i){var a=t.alternate;return a===null?(a=nn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Qo(t,i,a,o,f,h){var g=0;if(o=t,typeof t=="function")Uf(t)&&(g=1);else if(typeof t=="string")g=KC(t,a,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case F:return t=nn(31,a,i,f),t.elementType=F,t.lanes=h,t;case b:return Ps(a.children,f,h,i);case R:g=8,f|=24;break;case I:return t=nn(12,a,i,f|2),t.elementType=I,t.lanes=h,t;case B:return t=nn(13,a,i,f),t.elementType=B,t.lanes=h,t;case X:return t=nn(19,a,i,f),t.elementType=X,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:g=10;break e;case P:g=9;break e;case L:g=11;break e;case q:g=14;break e;case Q:g=16,o=null;break e}g=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=nn(g,a,i,f),i.elementType=t,i.type=o,i.lanes=h,i}function Ps(t,i,a,o){return t=nn(7,t,o,i),t.lanes=a,t}function Pf(t,i,a){return t=nn(6,t,null,i),t.lanes=a,t}function Gp(t){var i=nn(18,null,null,0);return i.stateNode=t,i}function Hf(t,i,a){return i=nn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Vp=new WeakMap;function vn(t,i){if(typeof t=="object"&&t!==null){var a=Vp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Gm(i)},Vp.set(t,i),i)}return{value:t,source:i,stack:Gm(i)}}var zr=[],Lr=0,Ko=null,el=0,Sn=[],bn=0,Ui=null,Hn=1,Bn="";function si(t,i){zr[Lr++]=el,zr[Lr++]=Ko,Ko=t,el=i}function qp(t,i,a){Sn[bn++]=Hn,Sn[bn++]=Bn,Sn[bn++]=Ui,Ui=t;var o=Hn;t=Bn;var f=32-en(o)-1;o&=~(1<<f),a+=1;var h=32-en(i)+f;if(30<h){var g=f-f%5;h=(o&(1<<g)-1).toString(32),o>>=g,f-=g,Hn=1<<32-en(i)+f|a<<f|o,Bn=h+t}else Hn=1<<h|a<<f|o,Bn=t}function Bf(t){t.return!==null&&(si(t,1),qp(t,1,0))}function jf(t){for(;t===Ko;)Ko=zr[--Lr],zr[Lr]=null,el=zr[--Lr],zr[Lr]=null;for(;t===Ui;)Ui=Sn[--bn],Sn[bn]=null,Bn=Sn[--bn],Sn[bn]=null,Hn=Sn[--bn],Sn[bn]=null}function Yp(t,i){Sn[bn++]=Hn,Sn[bn++]=Bn,Sn[bn++]=Ui,Hn=i.id,Bn=i.overflow,Ui=t}var Tt=null,qe=null,we=!1,Pi=null,Tn=!1,Gf=Error(s(519));function Hi(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(vn(i,t)),Gf}function Fp(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[bt]=t,i[Ut]=o,a){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(a=0;a<El.length;a++)Te(El[a],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":Te("invalid",i),rp(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Te("invalid",i);break;case"textarea":Te("invalid",i),lp(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||uv(i.textContent,a)?(o.popover!=null&&(Te("beforetoggle",i),Te("toggle",i)),o.onScroll!=null&&Te("scroll",i),o.onScrollEnd!=null&&Te("scrollend",i),o.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||Hi(t,!0)}function Xp(t){for(Tt=t.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Tt=Tt.return}}function Ur(t){if(t!==Tt)return!1;if(!we)return Xp(t),we=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ad(t.type,t.memoizedProps)),a=!a),a&&qe&&Hi(t),Xp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));qe=yv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));qe=yv(t)}else i===27?(i=qe,$i(t.type)?(t=fd,fd=null,qe=t):qe=i):qe=Tt?Cn(t.stateNode.nextSibling):null;return!0}function Hs(){qe=Tt=null,we=!1}function Vf(){var t=Pi;return t!==null&&(Gt===null?Gt=t:Gt.push.apply(Gt,t),Pi=null),t}function tl(t){Pi===null?Pi=[t]:Pi.push(t)}var qf=w(null),Bs=null,ri=null;function Bi(t,i,a){Z(qf,i._currentValue),i._currentValue=a}function ai(t){t._currentValue=qf.current,H(qf)}function Yf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Ff(t,i,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var g=f.child;h=h.firstContext;e:for(;h!==null;){var S=h;h=f;for(var E=0;E<i.length;E++)if(S.context===i[E]){h.lanes|=a,S=h.alternate,S!==null&&(S.lanes|=a),Yf(h.return,a,t),o||(g=null);break e}h=S.next}}else if(f.tag===18){if(g=f.return,g===null)throw Error(s(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),Yf(g,a,t),g=null}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}}function Pr(t,i,a,o){t=null;for(var f=i,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var g=f.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var S=f.type;tn(f.pendingProps.value,g.value)||(t!==null?t.push(S):t=[S])}}else if(f===De.current){if(g=f.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}f=f.return}t!==null&&Ff(i,t,a,o),i.flags|=262144}function Wo(t){for(t=t.firstContext;t!==null;){if(!tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){Bs=t,ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Et(t){return Qp(Bs,t)}function Zo(t,i){return Bs===null&&js(t),Qp(t,i)}function Qp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ri===null){if(t===null)throw Error(s(308));ri=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ri=ri.next=i;return a}var YE=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},FE=r.unstable_scheduleCallback,XE=r.unstable_NormalPriority,ot={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new YE,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&FE(XE,function(){t.controller.abort()})}var il=null,Qf=0,Hr=0,Br=null;function QE(t,i){if(il===null){var a=il=[];Qf=0,Hr=Zh(),Br={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Qf++,i.then(Kp,Kp),i}function Kp(){if(--Qf===0&&il!==null){Br!==null&&(Br.status="fulfilled");var t=il;il=null,Hr=0,Br=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function KE(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var Wp=N.S;N.S=function(t,i){Iy=Jt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&QE(t,i),Wp!==null&&Wp(t,i)};var Gs=w(null);function Kf(){var t=Gs.current;return t!==null?t:Be.pooledCache}function Jo(t,i){i===null?Z(Gs,Gs.current):Z(Gs,i.pool)}function Zp(){var t=Kf();return t===null?null:{parent:ot._currentValue,pool:t}}var jr=Error(s(460)),Wf=Error(s(474)),$o=Error(s(542)),eu={then:function(){}};function Jp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $p(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ti,ti),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,tg(t),t;default:if(typeof i.status=="string")i.then(ti,ti);else{if(t=Be,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,tg(t),t}throw qs=i,jr}}function Vs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(qs=a,jr):a}}var qs=null;function eg(){if(qs===null)throw Error(s(459));var t=qs;return qs=null,t}function tg(t){if(t===jr||t===$o)throw Error(s(483))}var Gr=null,sl=0;function tu(t){var i=sl;return sl+=1,Gr===null&&(Gr=[]),$p(Gr,t,i)}function rl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function nu(t,i){throw i.$$typeof===v?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ng(t){function i(x,A){if(t){var O=x.deletions;O===null?(x.deletions=[A],x.flags|=16):O.push(A)}}function a(x,A){if(!t)return null;for(;A!==null;)i(x,A),A=A.sibling;return null}function o(x){for(var A=new Map;x!==null;)x.key!==null?A.set(x.key,x):A.set(x.index,x),x=x.sibling;return A}function f(x,A){return x=ii(x,A),x.index=0,x.sibling=null,x}function h(x,A,O){return x.index=O,t?(O=x.alternate,O!==null?(O=O.index,O<A?(x.flags|=67108866,A):O):(x.flags|=67108866,A)):(x.flags|=1048576,A)}function g(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function S(x,A,O,V){return A===null||A.tag!==6?(A=Pf(O,x.mode,V),A.return=x,A):(A=f(A,O),A.return=x,A)}function E(x,A,O,V){var oe=O.type;return oe===b?j(x,A,O.props.children,V,O.key):A!==null&&(A.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Q&&Vs(oe)===A.type)?(A=f(A,O.props),rl(A,O),A.return=x,A):(A=Qo(O.type,O.key,O.props,null,x.mode,V),rl(A,O),A.return=x,A)}function M(x,A,O,V){return A===null||A.tag!==4||A.stateNode.containerInfo!==O.containerInfo||A.stateNode.implementation!==O.implementation?(A=Hf(O,x.mode,V),A.return=x,A):(A=f(A,O.children||[]),A.return=x,A)}function j(x,A,O,V,oe){return A===null||A.tag!==7?(A=Ps(O,x.mode,V,oe),A.return=x,A):(A=f(A,O),A.return=x,A)}function Y(x,A,O){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Pf(""+A,x.mode,O),A.return=x,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case T:return O=Qo(A.type,A.key,A.props,null,x.mode,O),rl(O,A),O.return=x,O;case C:return A=Hf(A,x.mode,O),A.return=x,A;case Q:return A=Vs(A),Y(x,A,O)}if(K(A)||ee(A))return A=Ps(A,x.mode,O,null),A.return=x,A;if(typeof A.then=="function")return Y(x,tu(A),O);if(A.$$typeof===D)return Y(x,Zo(x,A),O);nu(x,A)}return null}function k(x,A,O,V){var oe=A!==null?A.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return oe!==null?null:S(x,A,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case T:return O.key===oe?E(x,A,O,V):null;case C:return O.key===oe?M(x,A,O,V):null;case Q:return O=Vs(O),k(x,A,O,V)}if(K(O)||ee(O))return oe!==null?null:j(x,A,O,V,null);if(typeof O.then=="function")return k(x,A,tu(O),V);if(O.$$typeof===D)return k(x,A,Zo(x,O),V);nu(x,O)}return null}function U(x,A,O,V,oe){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return x=x.get(O)||null,S(A,x,""+V,oe);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case T:return x=x.get(V.key===null?O:V.key)||null,E(A,x,V,oe);case C:return x=x.get(V.key===null?O:V.key)||null,M(A,x,V,oe);case Q:return V=Vs(V),U(x,A,O,V,oe)}if(K(V)||ee(V))return x=x.get(O)||null,j(A,x,V,oe,null);if(typeof V.then=="function")return U(x,A,O,tu(V),oe);if(V.$$typeof===D)return U(x,A,O,Zo(A,V),oe);nu(A,V)}return null}function ie(x,A,O,V){for(var oe=null,xe=null,se=A,ge=A=0,Ce=null;se!==null&&ge<O.length;ge++){se.index>ge?(Ce=se,se=null):Ce=se.sibling;var Re=k(x,se,O[ge],V);if(Re===null){se===null&&(se=Ce);break}t&&se&&Re.alternate===null&&i(x,se),A=h(Re,A,ge),xe===null?oe=Re:xe.sibling=Re,xe=Re,se=Ce}if(ge===O.length)return a(x,se),we&&si(x,ge),oe;if(se===null){for(;ge<O.length;ge++)se=Y(x,O[ge],V),se!==null&&(A=h(se,A,ge),xe===null?oe=se:xe.sibling=se,xe=se);return we&&si(x,ge),oe}for(se=o(se);ge<O.length;ge++)Ce=U(se,x,ge,O[ge],V),Ce!==null&&(t&&Ce.alternate!==null&&se.delete(Ce.key===null?ge:Ce.key),A=h(Ce,A,ge),xe===null?oe=Ce:xe.sibling=Ce,xe=Ce);return t&&se.forEach(function(ss){return i(x,ss)}),we&&si(x,ge),oe}function ue(x,A,O,V){if(O==null)throw Error(s(151));for(var oe=null,xe=null,se=A,ge=A=0,Ce=null,Re=O.next();se!==null&&!Re.done;ge++,Re=O.next()){se.index>ge?(Ce=se,se=null):Ce=se.sibling;var ss=k(x,se,Re.value,V);if(ss===null){se===null&&(se=Ce);break}t&&se&&ss.alternate===null&&i(x,se),A=h(ss,A,ge),xe===null?oe=ss:xe.sibling=ss,xe=ss,se=Ce}if(Re.done)return a(x,se),we&&si(x,ge),oe;if(se===null){for(;!Re.done;ge++,Re=O.next())Re=Y(x,Re.value,V),Re!==null&&(A=h(Re,A,ge),xe===null?oe=Re:xe.sibling=Re,xe=Re);return we&&si(x,ge),oe}for(se=o(se);!Re.done;ge++,Re=O.next())Re=U(se,x,ge,Re.value,V),Re!==null&&(t&&Re.alternate!==null&&se.delete(Re.key===null?ge:Re.key),A=h(Re,A,ge),xe===null?oe=Re:xe.sibling=Re,xe=Re);return t&&se.forEach(function(aw){return i(x,aw)}),we&&si(x,ge),oe}function Pe(x,A,O,V){if(typeof O=="object"&&O!==null&&O.type===b&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case T:e:{for(var oe=O.key;A!==null;){if(A.key===oe){if(oe=O.type,oe===b){if(A.tag===7){a(x,A.sibling),V=f(A,O.props.children),V.return=x,x=V;break e}}else if(A.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Q&&Vs(oe)===A.type){a(x,A.sibling),V=f(A,O.props),rl(V,O),V.return=x,x=V;break e}a(x,A);break}else i(x,A);A=A.sibling}O.type===b?(V=Ps(O.props.children,x.mode,V,O.key),V.return=x,x=V):(V=Qo(O.type,O.key,O.props,null,x.mode,V),rl(V,O),V.return=x,x=V)}return g(x);case C:e:{for(oe=O.key;A!==null;){if(A.key===oe)if(A.tag===4&&A.stateNode.containerInfo===O.containerInfo&&A.stateNode.implementation===O.implementation){a(x,A.sibling),V=f(A,O.children||[]),V.return=x,x=V;break e}else{a(x,A);break}else i(x,A);A=A.sibling}V=Hf(O,x.mode,V),V.return=x,x=V}return g(x);case Q:return O=Vs(O),Pe(x,A,O,V)}if(K(O))return ie(x,A,O,V);if(ee(O)){if(oe=ee(O),typeof oe!="function")throw Error(s(150));return O=oe.call(O),ue(x,A,O,V)}if(typeof O.then=="function")return Pe(x,A,tu(O),V);if(O.$$typeof===D)return Pe(x,A,Zo(x,O),V);nu(x,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,A!==null&&A.tag===6?(a(x,A.sibling),V=f(A,O),V.return=x,x=V):(a(x,A),V=Pf(O,x.mode,V),V.return=x,x=V),g(x)):a(x,A)}return function(x,A,O,V){try{sl=0;var oe=Pe(x,A,O,V);return Gr=null,oe}catch(se){if(se===jr||se===$o)throw se;var xe=nn(29,se,null,x.mode);return xe.lanes=V,xe.return=x,xe}}}var Ys=ng(!0),ig=ng(!1),ji=!1;function Zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Me&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=Xo(t),Bp(t,null,a),i}return Fo(t,o,i,a),Xo(t)}function al(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Qm(t,a)}}function $f(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?f=h=i:h=h.next=i}else f=h=i;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var eh=!1;function ll(){if(eh){var t=Br;if(t!==null)throw t}}function ol(t,i,a,o){eh=!1;var f=t.updateQueue;ji=!1;var h=f.firstBaseUpdate,g=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var E=S,M=E.next;E.next=null,g===null?h=M:g.next=M,g=E;var j=t.alternate;j!==null&&(j=j.updateQueue,S=j.lastBaseUpdate,S!==g&&(S===null?j.firstBaseUpdate=M:S.next=M,j.lastBaseUpdate=E))}if(h!==null){var Y=f.baseState;g=0,j=M=E=null,S=h;do{var k=S.lane&-536870913,U=k!==S.lane;if(U?(Ee&k)===k:(o&k)===k){k!==0&&k===Hr&&(eh=!0),j!==null&&(j=j.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ie=t,ue=S;k=i;var Pe=a;switch(ue.tag){case 1:if(ie=ue.payload,typeof ie=="function"){Y=ie.call(Pe,Y,k);break e}Y=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ue.payload,k=typeof ie=="function"?ie.call(Pe,Y,k):ie,k==null)break e;Y=y({},Y,k);break e;case 2:ji=!0}}k=S.callback,k!==null&&(t.flags|=64,U&&(t.flags|=8192),U=f.callbacks,U===null?f.callbacks=[k]:U.push(k))}else U={lane:k,tag:S.tag,payload:S.payload,callback:S.callback,next:null},j===null?(M=j=U,E=Y):j=j.next=U,g|=k;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;U=S,S=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);j===null&&(E=Y),f.baseState=E,f.firstBaseUpdate=M,f.lastBaseUpdate=j,h===null&&(f.shared.lanes=0),Qi|=g,t.lanes=g,t.memoizedState=Y}}function sg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function rg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sg(a[t],i)}var Vr=w(null),iu=w(0);function ag(t,i){t=mi,Z(iu,t),Z(Vr,i),mi=t|i.baseLanes}function th(){Z(iu,mi),Z(Vr,Vr.current)}function nh(){mi=iu.current,H(Vr),H(iu)}var sn=w(null),En=null;function qi(t){var i=t.alternate;Z(it,it.current&1),Z(sn,t),En===null&&(i===null||Vr.current!==null||i.memoizedState!==null)&&(En=t)}function ih(t){Z(it,it.current),Z(sn,t),En===null&&(En=t)}function lg(t){t.tag===22?(Z(it,it.current),Z(sn,t),En===null&&(En=t)):Yi()}function Yi(){Z(it,it.current),Z(sn,sn.current)}function rn(t){H(sn),En===t&&(En=null),H(it)}var it=w(0);function su(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ud(a)||cd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var li=0,pe=null,Le=null,ut=null,ru=!1,qr=!1,Fs=!1,au=0,ul=0,Yr=null,WE=0;function et(){throw Error(s(321))}function sh(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!tn(t[a],i[a]))return!1;return!0}function rh(t,i,a,o,f,h){return li=h,pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,N.H=t===null||t.memoizedState===null?qg:Sh,Fs=!1,h=a(o,f),Fs=!1,qr&&(h=ug(i,a,o,f)),og(t),h}function og(t){N.H=hl;var i=Le!==null&&Le.next!==null;if(li=0,ut=Le=pe=null,ru=!1,ul=0,Yr=null,i)throw Error(s(300));t===null||ct||(t=t.dependencies,t!==null&&Wo(t)&&(ct=!0))}function ug(t,i,a,o){pe=t;var f=0;do{if(qr&&(Yr=null),ul=0,qr=!1,25<=f)throw Error(s(301));if(f+=1,ut=Le=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}N.H=Yg,h=i(a,o)}while(qr);return h}function ZE(){var t=N.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(Le!==null?Le.memoizedState:null)!==t&&(pe.flags|=1024),i}function ah(){var t=au!==0;return au=0,t}function lh(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function oh(t){if(ru){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ru=!1}li=0,ut=Le=pe=null,qr=!1,ul=au=0,Yr=null}function It(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?pe.memoizedState=ut=t:ut=ut.next=t,ut}function st(){if(Le===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var i=ut===null?pe.memoizedState:ut.next;if(i!==null)ut=i,Le=t;else{if(t===null)throw pe.alternate===null?Error(s(467)):Error(s(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},ut===null?pe.memoizedState=ut=t:ut=ut.next=t}return ut}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var i=ul;return ul+=1,Yr===null&&(Yr=[]),t=$p(Yr,t,i),i=pe,(ut===null?i.memoizedState:ut.next)===null&&(i=i.alternate,N.H=i===null||i.memoizedState===null?qg:Sh),t}function ou(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===D)return Et(t)}throw Error(s(438,String(t)))}function uh(t){var i=null,a=pe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=pe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lu(),pe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=le;return i.index++,a}function oi(t,i){return typeof i=="function"?i(t):i}function uu(t){var i=st();return ch(i,Le,t)}function ch(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var f=t.baseQueue,h=o.pending;if(h!==null){if(f!==null){var g=f.next;f.next=h.next,h.next=g}i.baseQueue=f=h,o.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{i=f.next;var S=g=null,E=null,M=i,j=!1;do{var Y=M.lane&-536870913;if(Y!==M.lane?(Ee&Y)===Y:(li&Y)===Y){var k=M.revertLane;if(k===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),Y===Hr&&(j=!0);else if((li&k)===k){M=M.next,k===Hr&&(j=!0);continue}else Y={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},E===null?(S=E=Y,g=h):E=E.next=Y,pe.lanes|=k,Qi|=k;Y=M.action,Fs&&a(h,Y),h=M.hasEagerState?M.eagerState:a(h,Y)}else k={lane:Y,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},E===null?(S=E=k,g=h):E=E.next=k,pe.lanes|=Y,Qi|=Y;M=M.next}while(M!==null&&M!==i);if(E===null?g=h:E.next=S,!tn(h,t.memoizedState)&&(ct=!0,j&&(a=Br,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=E,o.lastRenderedState=h}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function fh(t){var i=st(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,h=i.memoizedState;if(f!==null){a.pending=null;var g=f=f.next;do h=t(h,g.action),g=g.next;while(g!==f);tn(h,i.memoizedState)||(ct=!0),i.memoizedState=h,i.baseQueue===null&&(i.baseState=h),a.lastRenderedState=h}return[h,o]}function cg(t,i,a){var o=pe,f=st(),h=we;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=i();var g=!tn((Le||f).memoizedState,a);if(g&&(f.memoizedState=a,ct=!0),f=f.queue,_h(dg.bind(null,o,f,t),[t]),f.getSnapshot!==i||g||ut!==null&&ut.memoizedState.tag&1){if(o.flags|=2048,Fr(9,{destroy:void 0},hg.bind(null,o,f,a,i),null),Be===null)throw Error(s(349));h||(li&127)!==0||fg(o,i,a)}return a}function fg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=pe.updateQueue,i===null?(i=lu(),pe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function hg(t,i,a,o){i.value=a,i.getSnapshot=o,_g(i)&&mg(t)}function dg(t,i,a){return a(function(){_g(i)&&mg(t)})}function _g(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!tn(t,a)}catch{return!0}}function mg(t){var i=Us(t,2);i!==null&&Vt(i,t,2)}function hh(t){var i=It();if(typeof t=="function"){var a=t;if(t=a(),Fs){ki(!0);try{a()}finally{ki(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},i}function pg(t,i,a,o){return t.baseState=a,ch(t,Le,typeof o=="function"?o:oi)}function JE(t,i,a,o,f){if(hu(t))throw Error(s(485));if(t=i.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};N.T!==null?a(!0):h.isTransition=!1,o(h),a=i.pending,a===null?(h.next=i.pending=h,gg(i,h)):(h.next=a.next,i.pending=a.next=h)}}function gg(t,i){var a=i.action,o=i.payload,f=t.state;if(i.isTransition){var h=N.T,g={};N.T=g;try{var S=a(f,o),E=N.S;E!==null&&E(g,S),yg(t,i,S)}catch(M){dh(t,i,M)}finally{h!==null&&g.types!==null&&(h.types=g.types),N.T=h}}else try{h=a(f,o),yg(t,i,h)}catch(M){dh(t,i,M)}}function yg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){vg(t,i,o)},function(o){return dh(t,i,o)}):vg(t,i,a)}function vg(t,i,a){i.status="fulfilled",i.value=a,Sg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,gg(t,a)))}function dh(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Sg(i),i=i.next;while(i!==o)}t.action=null}function Sg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function bg(t,i){return i}function Tg(t,i){if(we){var a=Be.formState;if(a!==null){e:{var o=pe;if(we){if(qe){t:{for(var f=qe,h=Tn;f.nodeType!==8;){if(!h){f=null;break t}if(f=Cn(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){qe=Cn(f.nextSibling),o=f.data==="F!";break e}}Hi(o)}o=!1}o&&(i=a[0])}}return a=It(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:i},a.queue=o,a=jg.bind(null,pe,o),o.dispatch=a,o=hh(!1),h=vh.bind(null,pe,!1,o.queue),o=It(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,a=JE.bind(null,pe,f,h,a),f.dispatch=a,o.memoizedState=t,[i,a,!1]}function Eg(t){var i=st();return Cg(i,Le,t)}function Cg(t,i,a){if(i=ch(t,i,bg)[0],t=uu(oi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=cl(i)}catch(g){throw g===jr?$o:g}else o=i;i=st();var f=i.queue,h=f.dispatch;return a!==i.memoizedState&&(pe.flags|=2048,Fr(9,{destroy:void 0},$E.bind(null,f,a),null)),[o,h,t]}function $E(t,i){t.action=i}function wg(t){var i=st(),a=Le;if(a!==null)return Cg(i,a,t);st(),i=i.memoizedState,a=st();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Fr(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=pe.updateQueue,i===null&&(i=lu(),pe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Ag(){return st().memoizedState}function cu(t,i,a,o){var f=It();pe.flags|=t,f.memoizedState=Fr(1|i,{destroy:void 0},a,o===void 0?null:o)}function fu(t,i,a,o){var f=st();o=o===void 0?null:o;var h=f.memoizedState.inst;Le!==null&&o!==null&&sh(o,Le.memoizedState.deps)?f.memoizedState=Fr(i,h,a,o):(pe.flags|=t,f.memoizedState=Fr(1|i,h,a,o))}function Ng(t,i){cu(8390656,8,t,i)}function _h(t,i){fu(2048,8,t,i)}function eC(t){pe.flags|=4;var i=pe.updateQueue;if(i===null)i=lu(),pe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function xg(t){var i=st().memoizedState;return eC({ref:i,nextImpl:t}),function(){if((Me&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Rg(t,i){return fu(4,2,t,i)}function Og(t,i){return fu(4,4,t,i)}function Dg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Mg(t,i,a){a=a!=null?a.concat([t]):null,fu(4,4,Dg.bind(null,i,t),a)}function mh(){}function Ig(t,i){var a=st();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&sh(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function kg(t,i){var a=st();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&sh(i,o[1]))return o[0];if(o=t(),Fs){ki(!0);try{t()}finally{ki(!1)}}return a.memoizedState=[o,i],o}function ph(t,i,a){return a===void 0||(li&1073741824)!==0&&(Ee&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=zy(),pe.lanes|=t,Qi|=t,a)}function zg(t,i,a,o){return tn(a,i)?a:Vr.current!==null?(t=ph(t,a,o),tn(t,i)||(ct=!0),t):(li&42)===0||(li&1073741824)!==0&&(Ee&261930)===0?(ct=!0,t.memoizedState=a):(t=zy(),pe.lanes|=t,Qi|=t,i)}function Lg(t,i,a,o,f){var h=G.p;G.p=h!==0&&8>h?h:8;var g=N.T,S={};N.T=S,vh(t,!1,i,a);try{var E=f(),M=N.S;if(M!==null&&M(S,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var j=KE(E,o);fl(t,i,j,on(t))}else fl(t,i,o,on(t))}catch(Y){fl(t,i,{then:function(){},status:"rejected",reason:Y},on())}finally{G.p=h,g!==null&&S.types!==null&&(g.types=S.types),N.T=g}}function tC(){}function gh(t,i,a,o){if(t.tag!==5)throw Error(s(476));var f=Ug(t).queue;Lg(t,f,i,ne,a===null?tC:function(){return Pg(t),a(o)})}function Ug(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:ne},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Pg(t){var i=Ug(t);i.next===null&&(i=t.alternate.memoizedState),fl(t,i.next.queue,{},on())}function yh(){return Et(xl)}function Hg(){return st().memoizedState}function Bg(){return st().memoizedState}function nC(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=on();t=Gi(a);var o=Vi(i,t,a);o!==null&&(Vt(o,i,a),al(o,i,a)),i={cache:Xf()},t.payload=i;return}i=i.return}}function iC(t,i,a){var o=on();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},hu(t)?Gg(i,a):(a=Lf(t,i,a,o),a!==null&&(Vt(a,t,o),Vg(a,i,o)))}function jg(t,i,a){var o=on();fl(t,i,a,o)}function fl(t,i,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(hu(t))Gg(i,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=i.lastRenderedReducer,h!==null))try{var g=i.lastRenderedState,S=h(g,a);if(f.hasEagerState=!0,f.eagerState=S,tn(S,g))return Fo(t,i,f,0),Be===null&&Yo(),!1}catch{}if(a=Lf(t,i,f,o),a!==null)return Vt(a,t,o),Vg(a,i,o),!0}return!1}function vh(t,i,a,o){if(o={lane:2,revertLane:Zh(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(i)throw Error(s(479))}else i=Lf(t,a,o,2),i!==null&&Vt(i,t,2)}function hu(t){var i=t.alternate;return t===pe||i!==null&&i===pe}function Gg(t,i){qr=ru=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Vg(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Qm(t,a)}}var hl={readContext:Et,use:ou,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};hl.useEffectEvent=et;var qg={readContext:Et,use:ou,useCallback:function(t,i){return It().memoizedState=[t,i===void 0?null:i],t},useContext:Et,useEffect:Ng,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,cu(4194308,4,Dg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return cu(4194308,4,t,i)},useInsertionEffect:function(t,i){cu(4,2,t,i)},useMemo:function(t,i){var a=It();i=i===void 0?null:i;var o=t();if(Fs){ki(!0);try{t()}finally{ki(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=It();if(a!==void 0){var f=a(i);if(Fs){ki(!0);try{a(i)}finally{ki(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=iC.bind(null,pe,t),[o.memoizedState,t]},useRef:function(t){var i=It();return t={current:t},i.memoizedState=t},useState:function(t){t=hh(t);var i=t.queue,a=jg.bind(null,pe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:mh,useDeferredValue:function(t,i){var a=It();return ph(a,t,i)},useTransition:function(){var t=hh(!1);return t=Lg.bind(null,pe,t.queue,!0,!1),It().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=pe,f=It();if(we){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Be===null)throw Error(s(349));(Ee&127)!==0||fg(o,i,a)}f.memoizedState=a;var h={value:a,getSnapshot:i};return f.queue=h,Ng(dg.bind(null,o,h,t),[t]),o.flags|=2048,Fr(9,{destroy:void 0},hg.bind(null,o,h,a,i),null),a},useId:function(){var t=It(),i=Be.identifierPrefix;if(we){var a=Bn,o=Hn;a=(o&~(1<<32-en(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=au++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=WE++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:yh,useFormState:Tg,useActionState:Tg,useOptimistic:function(t){var i=It();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=vh.bind(null,pe,!0,a),a.dispatch=i,[t,i]},useMemoCache:uh,useCacheRefresh:function(){return It().memoizedState=nC.bind(null,pe)},useEffectEvent:function(t){var i=It(),a={impl:t};return i.memoizedState=a,function(){if((Me&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Sh={readContext:Et,use:ou,useCallback:Ig,useContext:Et,useEffect:_h,useImperativeHandle:Mg,useInsertionEffect:Rg,useLayoutEffect:Og,useMemo:kg,useReducer:uu,useRef:Ag,useState:function(){return uu(oi)},useDebugValue:mh,useDeferredValue:function(t,i){var a=st();return zg(a,Le.memoizedState,t,i)},useTransition:function(){var t=uu(oi)[0],i=st().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:cg,useId:Hg,useHostTransitionStatus:yh,useFormState:Eg,useActionState:Eg,useOptimistic:function(t,i){var a=st();return pg(a,Le,t,i)},useMemoCache:uh,useCacheRefresh:Bg};Sh.useEffectEvent=xg;var Yg={readContext:Et,use:ou,useCallback:Ig,useContext:Et,useEffect:_h,useImperativeHandle:Mg,useInsertionEffect:Rg,useLayoutEffect:Og,useMemo:kg,useReducer:fh,useRef:Ag,useState:function(){return fh(oi)},useDebugValue:mh,useDeferredValue:function(t,i){var a=st();return Le===null?ph(a,t,i):zg(a,Le.memoizedState,t,i)},useTransition:function(){var t=fh(oi)[0],i=st().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:cg,useId:Hg,useHostTransitionStatus:yh,useFormState:wg,useActionState:wg,useOptimistic:function(t,i){var a=st();return Le!==null?pg(a,Le,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:uh,useCacheRefresh:Bg};Yg.useEffectEvent=xg;function bh(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:y({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Th={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=on(),f=Gi(o);f.payload=i,a!=null&&(f.callback=a),i=Vi(t,f,o),i!==null&&(Vt(i,t,o),al(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=on(),f=Gi(o);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Vi(t,f,o),i!==null&&(Vt(i,t,o),al(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=on(),o=Gi(a);o.tag=2,i!=null&&(o.callback=i),i=Vi(t,o,a),i!==null&&(Vt(i,t,a),al(i,t,a))}};function Fg(t,i,a,o,f,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,g):i.prototype&&i.prototype.isPureReactComponent?!Ja(a,o)||!Ja(f,h):!0}function Xg(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Th.enqueueReplaceState(i,i.state,null)}function Xs(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=y({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Qg(t){qo(t)}function Kg(t){console.error(t)}function Wg(t){qo(t)}function du(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Zg(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Eh(t,i,a){return a=Gi(a),a.tag=3,a.payload={element:null},a.callback=function(){du(t,i)},a}function Jg(t){return t=Gi(t),t.tag=3,t}function $g(t,i,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;t.payload=function(){return f(h)},t.callback=function(){Zg(i,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Zg(i,a,o),typeof f!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function sC(t,i,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Pr(i,a,f,!0),a=sn.current,a!==null){switch(a.tag){case 31:case 13:return En===null?wu():a.alternate===null&&tt===0&&(tt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===eu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Qh(t,o,f)),!1;case 22:return a.flags|=65536,o===eu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Qh(t,o,f)),!1}throw Error(s(435,a.tag))}return Qh(t,o,f),wu(),!1}if(we)return i=sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Gf&&(t=Error(s(422),{cause:o}),tl(vn(t,a)))):(o!==Gf&&(i=Error(s(423),{cause:o}),tl(vn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=vn(o,a),f=Eh(t.stateNode,o,f),$f(t,f),tt!==4&&(tt=2)),!1;var h=Error(s(520),{cause:o});if(h=vn(h,a),Sl===null?Sl=[h]:Sl.push(h),tt!==4&&(tt=2),i===null)return!0;o=vn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Eh(a.stateNode,o,t),$f(a,t),!1;case 1:if(i=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ki===null||!Ki.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Jg(f),$g(f,t,a,o),$f(a,f),!1}a=a.return}while(a!==null);return!1}var Ch=Error(s(461)),ct=!1;function Ct(t,i,a,o){i.child=t===null?ig(i,null,a,o):Ys(i,t.child,a,o)}function ey(t,i,a,o,f){a=a.render;var h=i.ref;if("ref"in o){var g={};for(var S in o)S!=="ref"&&(g[S]=o[S])}else g=o;return js(i),o=rh(t,i,a,g,h,f),S=ah(),t!==null&&!ct?(lh(t,i,f),ui(t,i,f)):(we&&S&&Bf(i),i.flags|=1,Ct(t,i,o,f),i.child)}function ty(t,i,a,o,f){if(t===null){var h=a.type;return typeof h=="function"&&!Uf(h)&&h.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=h,ny(t,i,h,o,f)):(t=Qo(a.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(h=t.child,!Mh(t,f)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:Ja,a(g,o)&&t.ref===i.ref)return ui(t,i,f)}return i.flags|=1,t=ii(h,o),t.ref=i.ref,t.return=i,i.child=t}function ny(t,i,a,o,f){if(t!==null){var h=t.memoizedProps;if(Ja(h,o)&&t.ref===i.ref)if(ct=!1,i.pendingProps=o=h,Mh(t,f))(t.flags&131072)!==0&&(ct=!0);else return i.lanes=t.lanes,ui(t,i,f)}return wh(t,i,a,o,f)}function iy(t,i,a,o){var f=o.children,h=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(o=i.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~h}else o=0,i.child=null;return sy(t,i,h,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jo(i,h!==null?h.cachePool:null),h!==null?ag(i,h):th(),lg(i);else return o=i.lanes=536870912,sy(t,i,h!==null?h.baseLanes|a:a,a,o)}else h!==null?(Jo(i,h.cachePool),ag(i,h),Yi(),i.memoizedState=null):(t!==null&&Jo(i,null),th(),Yi());return Ct(t,i,f,a),i.child}function dl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function sy(t,i,a,o,f){var h=Kf();return h=h===null?null:{parent:ot._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Jo(i,null),th(),lg(i),t!==null&&Pr(t,i,o,!0),i.childLanes=f,null}function _u(t,i){return i=pu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function ry(t,i,a){return Ys(i,t.child,null,a),t=_u(i,i.pendingProps),t.flags|=2,rn(i),i.memoizedState=null,t}function rC(t,i,a){var o=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(we){if(o.mode==="hidden")return t=_u(i,o),i.lanes=536870912,dl(null,t);if(ih(i),(t=qe)?(t=gv(t,Tn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ui!==null?{id:Hn,overflow:Bn}:null,retryLane:536870912,hydrationErrors:null},a=Gp(t),a.return=i,i.child=a,Tt=i,qe=null)):t=null,t===null)throw Hi(i);return i.lanes=536870912,null}return _u(i,o)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(ih(i),f)if(i.flags&256)i.flags&=-257,i=ry(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(ct||Pr(t,i,a,!1),f=(a&t.childLanes)!==0,ct||f){if(o=Be,o!==null&&(g=Km(o,a),g!==0&&g!==h.retryLane))throw h.retryLane=g,Us(t,g),Vt(o,t,g),Ch;wu(),i=ry(t,i,a)}else t=h.treeContext,qe=Cn(g.nextSibling),Tt=i,we=!0,Pi=null,Tn=!1,t!==null&&Yp(i,t),i=_u(i,o),i.flags|=4096;return i}return t=ii(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function mu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function wh(t,i,a,o,f){return js(i),a=rh(t,i,a,o,void 0,f),o=ah(),t!==null&&!ct?(lh(t,i,f),ui(t,i,f)):(we&&o&&Bf(i),i.flags|=1,Ct(t,i,a,f),i.child)}function ay(t,i,a,o,f,h){return js(i),i.updateQueue=null,a=ug(i,o,a,f),og(t),o=ah(),t!==null&&!ct?(lh(t,i,h),ui(t,i,h)):(we&&o&&Bf(i),i.flags|=1,Ct(t,i,a,h),i.child)}function ly(t,i,a,o,f){if(js(i),i.stateNode===null){var h=kr,g=a.contextType;typeof g=="object"&&g!==null&&(h=Et(g)),h=new a(o,h),i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Th,i.stateNode=h,h._reactInternals=i,h=i.stateNode,h.props=o,h.state=i.memoizedState,h.refs={},Zf(i),g=a.contextType,h.context=typeof g=="object"&&g!==null?Et(g):kr,h.state=i.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(bh(i,a,g,o),h.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Th.enqueueReplaceState(h,h.state,null),ol(i,o,h,f),ll(),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){h=i.stateNode;var S=i.memoizedProps,E=Xs(a,S);h.props=E;var M=h.context,j=a.contextType;g=kr,typeof j=="object"&&j!==null&&(g=Et(j));var Y=a.getDerivedStateFromProps;j=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,j||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(S||M!==g)&&Xg(i,h,o,g),ji=!1;var k=i.memoizedState;h.state=k,ol(i,o,h,f),ll(),M=i.memoizedState,S||k!==M||ji?(typeof Y=="function"&&(bh(i,a,Y,o),M=i.memoizedState),(E=ji||Fg(i,a,E,o,k,M,g))?(j||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(i.flags|=4194308)):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=M),h.props=o,h.state=M,h.context=g,o=E):(typeof h.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{h=i.stateNode,Jf(t,i),g=i.memoizedProps,j=Xs(a,g),h.props=j,Y=i.pendingProps,k=h.context,M=a.contextType,E=kr,typeof M=="object"&&M!==null&&(E=Et(M)),S=a.getDerivedStateFromProps,(M=typeof S=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==Y||k!==E)&&Xg(i,h,o,E),ji=!1,k=i.memoizedState,h.state=k,ol(i,o,h,f),ll();var U=i.memoizedState;g!==Y||k!==U||ji||t!==null&&t.dependencies!==null&&Wo(t.dependencies)?(typeof S=="function"&&(bh(i,a,S,o),U=i.memoizedState),(j=ji||Fg(i,a,j,o,k,U,E)||t!==null&&t.dependencies!==null&&Wo(t.dependencies))?(M||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,U,E),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,U,E)),typeof h.componentDidUpdate=="function"&&(i.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=U),h.props=o,h.state=U,h.context=E,o=j):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(i.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(i.flags|=1024),o=!1)}return h=o,mu(t,i),o=(i.flags&128)!==0,h||o?(h=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:h.render(),i.flags|=1,t!==null&&o?(i.child=Ys(i,t.child,null,f),i.child=Ys(i,null,a,f)):Ct(t,i,a,f),i.memoizedState=h.state,t=i.child):t=ui(t,i,f),t}function oy(t,i,a,o){return Hs(),i.flags|=256,Ct(t,i,a,o),i.child}var Ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(t){return{baseLanes:t,cachePool:Zp()}}function xh(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=ln),t}function uy(t,i,a){var o=i.pendingProps,f=!1,h=(i.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(it.current&2)!==0),g&&(f=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,t===null){if(we){if(f?qi(i):Yi(),(t=qe)?(t=gv(t,Tn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ui!==null?{id:Hn,overflow:Bn}:null,retryLane:536870912,hydrationErrors:null},a=Gp(t),a.return=i,i.child=a,Tt=i,qe=null)):t=null,t===null)throw Hi(i);return cd(t)?i.lanes=32:i.lanes=536870912,null}var S=o.children;return o=o.fallback,f?(Yi(),f=i.mode,S=pu({mode:"hidden",children:S},f),o=Ps(o,f,a,null),S.return=i,o.return=i,S.sibling=o,i.child=S,o=i.child,o.memoizedState=Nh(a),o.childLanes=xh(t,g,a),i.memoizedState=Ah,dl(null,o)):(qi(i),Rh(i,S))}var E=t.memoizedState;if(E!==null&&(S=E.dehydrated,S!==null)){if(h)i.flags&256?(qi(i),i.flags&=-257,i=Oh(t,i,a)):i.memoizedState!==null?(Yi(),i.child=t.child,i.flags|=128,i=null):(Yi(),S=o.fallback,f=i.mode,o=pu({mode:"visible",children:o.children},f),S=Ps(S,f,a,null),S.flags|=2,o.return=i,S.return=i,o.sibling=S,i.child=o,Ys(i,t.child,null,a),o=i.child,o.memoizedState=Nh(a),o.childLanes=xh(t,g,a),i.memoizedState=Ah,i=dl(null,o));else if(qi(i),cd(S)){if(g=S.nextSibling&&S.nextSibling.dataset,g)var M=g.dgst;g=M,o=Error(s(419)),o.stack="",o.digest=g,tl({value:o,source:null,stack:null}),i=Oh(t,i,a)}else if(ct||Pr(t,i,a,!1),g=(a&t.childLanes)!==0,ct||g){if(g=Be,g!==null&&(o=Km(g,a),o!==0&&o!==E.retryLane))throw E.retryLane=o,Us(t,o),Vt(g,t,o),Ch;ud(S)||wu(),i=Oh(t,i,a)}else ud(S)?(i.flags|=192,i.child=t.child,i=null):(t=E.treeContext,qe=Cn(S.nextSibling),Tt=i,we=!0,Pi=null,Tn=!1,t!==null&&Yp(i,t),i=Rh(i,o.children),i.flags|=4096);return i}return f?(Yi(),S=o.fallback,f=i.mode,E=t.child,M=E.sibling,o=ii(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,M!==null?S=ii(M,S):(S=Ps(S,f,a,null),S.flags|=2),S.return=i,o.return=i,o.sibling=S,i.child=o,dl(null,o),o=i.child,S=t.child.memoizedState,S===null?S=Nh(a):(f=S.cachePool,f!==null?(E=ot._currentValue,f=f.parent!==E?{parent:E,pool:E}:f):f=Zp(),S={baseLanes:S.baseLanes|a,cachePool:f}),o.memoizedState=S,o.childLanes=xh(t,g,a),i.memoizedState=Ah,dl(t.child,o)):(qi(i),a=t.child,t=a.sibling,a=ii(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(g=i.deletions,g===null?(i.deletions=[t],i.flags|=16):g.push(t)),i.child=a,i.memoizedState=null,a)}function Rh(t,i){return i=pu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function pu(t,i){return t=nn(22,t,null,i),t.lanes=0,t}function Oh(t,i,a){return Ys(i,t.child,null,a),t=Rh(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function cy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Yf(t.return,i,a)}function Dh(t,i,a,o,f,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:h}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=f,g.treeForkCount=h)}function fy(t,i,a){var o=i.pendingProps,f=o.revealOrder,h=o.tail;o=o.children;var g=it.current,S=(g&2)!==0;if(S?(g=g&1|2,i.flags|=128):g&=1,Z(it,g),Ct(t,i,o,a),o=we?el:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,a,i);else if(t.tag===19)cy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&su(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Dh(i,!1,f,a,h,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&su(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Dh(i,!0,a,null,h,o);break;case"together":Dh(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function ui(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Qi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Pr(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ii(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ii(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Mh(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wo(t)))}function aC(t,i,a){switch(i.tag){case 3:St(i,i.stateNode.containerInfo),Bi(i,ot,t.memoizedState.cache),Hs();break;case 27:case 5:Os(i);break;case 4:St(i,i.stateNode.containerInfo);break;case 10:Bi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ih(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(qi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?uy(t,i,a):(qi(i),t=ui(t,i,a),t!==null?t.sibling:null);qi(i);break;case 19:var f=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Pr(t,i,a,!1),o=(a&i.childLanes)!==0),f){if(o)return fy(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(it,it.current),o)break;return null;case 22:return i.lanes=0,iy(t,i,a,i.pendingProps);case 24:Bi(i,ot,t.memoizedState.cache)}return ui(t,i,a)}function hy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ct=!0;else{if(!Mh(t,a)&&(i.flags&128)===0)return ct=!1,aC(t,i,a);ct=(t.flags&131072)!==0}else ct=!1,we&&(i.flags&1048576)!==0&&qp(i,el,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Vs(i.elementType),i.type=t,typeof t=="function")Uf(t)?(o=Xs(t,o),i.tag=1,i=ly(null,i,t,o,a)):(i.tag=0,i=wh(null,i,t,o,a));else{if(t!=null){var f=t.$$typeof;if(f===L){i.tag=11,i=ey(null,i,t,o,a);break e}else if(f===q){i.tag=14,i=ty(null,i,t,o,a);break e}}throw i=$(t)||t,Error(s(306,i,""))}}return i;case 0:return wh(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,f=Xs(o,i.pendingProps),ly(t,i,o,f,a);case 3:e:{if(St(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var h=i.memoizedState;f=h.element,Jf(t,i),ol(i,o,null,a);var g=i.memoizedState;if(o=g.cache,Bi(i,ot,o),o!==h.cache&&Ff(i,[ot],a,!0),ll(),o=g.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=oy(t,i,o,a);break e}else if(o!==f){f=vn(Error(s(424)),i),tl(f),i=oy(t,i,o,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,qe=Cn(t.firstChild),Tt=i,we=!0,Pi=null,Tn=!0,a=ig(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Hs(),o===f){i=ui(t,i,a);break e}Ct(t,i,o,a)}i=i.child}return i;case 26:return mu(t,i),t===null?(a=Ev(i.type,null,i.pendingProps,null))?i.memoizedState=a:we||(a=i.type,t=i.pendingProps,o=Mu(_e.current).createElement(a),o[bt]=i,o[Ut]=t,wt(o,a,t),mt(o),i.stateNode=o):i.memoizedState=Ev(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Os(i),t===null&&we&&(o=i.stateNode=Sv(i.type,i.pendingProps,_e.current),Tt=i,Tn=!0,f=qe,$i(i.type)?(fd=f,qe=Cn(o.firstChild)):qe=f),Ct(t,i,i.pendingProps.children,a),mu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&we&&((f=o=qe)&&(o=LC(o,i.type,i.pendingProps,Tn),o!==null?(i.stateNode=o,Tt=i,qe=Cn(o.firstChild),Tn=!1,f=!0):f=!1),f||Hi(i)),Os(i),f=i.type,h=i.pendingProps,g=t!==null?t.memoizedProps:null,o=h.children,ad(f,h)?o=null:g!==null&&ad(f,g)&&(i.flags|=32),i.memoizedState!==null&&(f=rh(t,i,ZE,null,null,a),xl._currentValue=f),mu(t,i),Ct(t,i,o,a),i.child;case 6:return t===null&&we&&((t=a=qe)&&(a=UC(a,i.pendingProps,Tn),a!==null?(i.stateNode=a,Tt=i,qe=null,t=!0):t=!1),t||Hi(i)),null;case 13:return uy(t,i,a);case 4:return St(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Ys(i,null,o,a):Ct(t,i,o,a),i.child;case 11:return ey(t,i,i.type,i.pendingProps,a);case 7:return Ct(t,i,i.pendingProps,a),i.child;case 8:return Ct(t,i,i.pendingProps.children,a),i.child;case 12:return Ct(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Bi(i,i.type,o.value),Ct(t,i,o.children,a),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,js(i),f=Et(f),o=o(f),i.flags|=1,Ct(t,i,o,a),i.child;case 14:return ty(t,i,i.type,i.pendingProps,a);case 15:return ny(t,i,i.type,i.pendingProps,a);case 19:return fy(t,i,a);case 31:return rC(t,i,a);case 22:return iy(t,i,a,i.pendingProps);case 24:return js(i),o=Et(ot),t===null?(f=Kf(),f===null&&(f=Be,h=Xf(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),i.memoizedState={parent:o,cache:f},Zf(i),Bi(i,ot,f)):((t.lanes&a)!==0&&(Jf(t,i),ol(i,null,null,a),ll()),f=t.memoizedState,h=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Bi(i,ot,o)):(o=h.cache,Bi(i,ot,o),o!==f.cache&&Ff(i,[ot],a,!0))),Ct(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ci(t){t.flags|=4}function Ih(t,i,a,o,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Hy())t.flags|=8192;else throw qs=eu,Wf}else t.flags&=-16777217}function dy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xv(i))if(Hy())t.flags|=8192;else throw qs=eu,Wf}function gu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Fm():536870912,t.lanes|=i,Wr|=i)}function _l(t,i){if(!we)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Ye(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function lC(t,i,a){var o=i.pendingProps;switch(jf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(i),null;case 1:return Ye(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ai(ot),Xe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ur(i)?ci(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vf())),Ye(i),null;case 26:var f=i.type,h=i.memoizedState;return t===null?(ci(i),h!==null?(Ye(i),dy(i,h)):(Ye(i),Ih(i,f,null,o,a))):h?h!==t.memoizedState?(ci(i),Ye(i),dy(i,h)):(Ye(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&ci(i),Ye(i),Ih(i,f,t,o,a)),null;case 27:if($n(i),a=_e.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ci(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Ye(i),null}t=W.current,Ur(i)?Fp(i):(t=Sv(f,o,a),i.stateNode=t,ci(i))}return Ye(i),null;case 5:if($n(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ci(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return Ye(i),null}if(h=W.current,Ur(i))Fp(i);else{var g=Mu(_e.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?g.createElement(f,{is:o.is}):g.createElement(f)}}h[bt]=i,h[Ut]=o;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=h;e:switch(wt(h,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ci(i)}}return Ye(i),Ih(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&ci(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=_e.current,Ur(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,f=Tt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||uv(t.nodeValue,a)),t||Hi(i,!0)}else t=Mu(t).createTextNode(o),t[bt]=i,i.stateNode=t}return Ye(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ur(i),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ye(i),t=!1}else a=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(rn(i),i):(rn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Ye(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ur(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ye(i),f=!1}else f=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(rn(i),i):(rn(i),null)}return rn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),gu(i,i.updateQueue),Ye(i),null);case 4:return Xe(),t===null&&td(i.stateNode.containerInfo),Ye(i),null;case 10:return ai(i.type),Ye(i),null;case 19:if(H(it),o=i.memoizedState,o===null)return Ye(i),null;if(f=(i.flags&128)!==0,h=o.rendering,h===null)if(f)_l(o,!1);else{if(tt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(h=su(t),h!==null){for(i.flags|=128,_l(o,!1),t=h.updateQueue,i.updateQueue=t,gu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)jp(a,t),a=a.sibling;return Z(it,it.current&1|2),we&&si(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&Jt()>Tu&&(i.flags|=128,f=!0,_l(o,!1),i.lanes=4194304)}else{if(!f)if(t=su(h),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,gu(i,t),_l(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!we)return Ye(i),null}else 2*Jt()-o.renderingStartTime>Tu&&a!==536870912&&(i.flags|=128,f=!0,_l(o,!1),i.lanes=4194304);o.isBackwards?(h.sibling=i.child,i.child=h):(t=o.last,t!==null?t.sibling=h:i.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Jt(),t.sibling=null,a=it.current,Z(it,f?a&1|2:a&1),we&&si(i,o.treeForkCount),t):(Ye(i),null);case 22:case 23:return rn(i),nh(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(Ye(i),i.subtreeFlags&6&&(i.flags|=8192)):Ye(i),a=i.updateQueue,a!==null&&gu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&H(Gs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ai(ot),Ye(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function oC(t,i){switch(jf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ai(ot),Xe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return $n(i),null;case 31:if(i.memoizedState!==null){if(rn(i),i.alternate===null)throw Error(s(340));Hs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(rn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Hs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return H(it),null;case 4:return Xe(),null;case 10:return ai(i.type),null;case 22:case 23:return rn(i),nh(),t!==null&&H(Gs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ai(ot),null;case 25:return null;default:return null}}function _y(t,i){switch(jf(i),i.tag){case 3:ai(ot),Xe();break;case 26:case 27:case 5:$n(i);break;case 4:Xe();break;case 31:i.memoizedState!==null&&rn(i);break;case 13:rn(i);break;case 19:H(it);break;case 10:ai(i.type);break;case 22:case 23:rn(i),nh(),t!==null&&H(Gs);break;case 24:ai(ot)}}function ml(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var h=a.create,g=a.inst;o=h(),g.destroy=o}a=a.next}while(a!==f)}}catch(S){ke(i,i.return,S)}}function Fi(t,i,a){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&t)===t){var g=o.inst,S=g.destroy;if(S!==void 0){g.destroy=void 0,f=i;var E=a,M=S;try{M()}catch(j){ke(f,E,j)}}}o=o.next}while(o!==h)}}catch(j){ke(i,i.return,j)}}function my(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{rg(i,a)}catch(o){ke(t,t.return,o)}}}function py(t,i,a){a.props=Xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){ke(t,i,o)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){ke(t,i,f)}}function jn(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){ke(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ke(t,i,f)}else a.current=null}function gy(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){ke(t,t.return,f)}}function kh(t,i,a){try{var o=t.stateNode;OC(o,t.type,a,i),o[Ut]=i}catch(f){ke(t,t.return,f)}}function yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$i(t.type)||t.tag===4}function zh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$i(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lh(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ti));else if(o!==4&&(o===27&&$i(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Lh(t,i,a),t=t.sibling;t!==null;)Lh(t,i,a),t=t.sibling}function yu(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&$i(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yu(t,i,a),t=t.sibling;t!==null;)yu(t,i,a),t=t.sibling}function vy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);wt(i,o,a),i[bt]=t,i[Ut]=a}catch(h){ke(t,t.return,h)}}var fi=!1,ft=!1,Uh=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,pt=null;function uC(t,i){if(t=t.containerInfo,sd=Hu,t=Mp(t),Of(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var g=0,S=-1,E=-1,M=0,j=0,Y=t,k=null;t:for(;;){for(var U;Y!==a||f!==0&&Y.nodeType!==3||(S=g+f),Y!==h||o!==0&&Y.nodeType!==3||(E=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(U=Y.firstChild)!==null;)k=Y,Y=U;for(;;){if(Y===t)break t;if(k===a&&++M===f&&(S=g),k===h&&++j===o&&(E=g),(U=Y.nextSibling)!==null)break;Y=k,k=Y.parentNode}Y=U}a=S===-1||E===-1?null:{start:S,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(rd={focusedElem:t,selectionRange:a},Hu=!1,pt=i;pt!==null;)if(i=pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,pt=t;else for(;pt!==null;){switch(i=pt,h=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=i,f=h.memoizedProps,h=h.memoizedState,o=a.stateNode;try{var ie=Xs(a.type,f);t=o.getSnapshotBeforeUpdate(ie,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(ue){ke(a,a.return,ue)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)od(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":od(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,pt=t;break}pt=i.return}}function by(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:di(t,a),o&4&&ml(5,a);break;case 1:if(di(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(g){ke(a,a.return,g)}else{var f=Xs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ke(a,a.return,g)}}o&64&&my(a),o&512&&pl(a,a.return);break;case 3:if(di(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{rg(t,i)}catch(g){ke(a,a.return,g)}}break;case 27:i===null&&o&4&&vy(a);case 26:case 5:di(t,a),i===null&&o&4&&gy(a),o&512&&pl(a,a.return);break;case 12:di(t,a);break;case 31:di(t,a),o&4&&Cy(t,a);break;case 13:di(t,a),o&4&&wy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yC.bind(null,a),PC(t,a))));break;case 22:if(o=a.memoizedState!==null||fi,!o){i=i!==null&&i.memoizedState!==null||ft,f=fi;var h=ft;fi=o,(ft=i)&&!h?_i(t,a,(a.subtreeFlags&8772)!==0):di(t,a),fi=f,ft=h}break;case 30:break;default:di(t,a)}}function Ty(t){var i=t.alternate;i!==null&&(t.alternate=null,Ty(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&df(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,Ht=!1;function hi(t,i,a){for(a=a.child;a!==null;)Ey(t,i,a),a=a.sibling}function Ey(t,i,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Ba,a)}catch{}switch(a.tag){case 26:ft||jn(a,i),hi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||jn(a,i);var o=Qe,f=Ht;$i(a.type)&&(Qe=a.stateNode,Ht=!1),hi(t,i,a),wl(a.stateNode),Qe=o,Ht=f;break;case 5:ft||jn(a,i);case 6:if(o=Qe,f=Ht,Qe=null,hi(t,i,a),Qe=o,Ht=f,Qe!==null)if(Ht)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(a.stateNode)}catch(h){ke(a,i,h)}else try{Qe.removeChild(a.stateNode)}catch(h){ke(a,i,h)}break;case 18:Qe!==null&&(Ht?(t=Qe,mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),sa(t)):mv(Qe,a.stateNode));break;case 4:o=Qe,f=Ht,Qe=a.stateNode.containerInfo,Ht=!0,hi(t,i,a),Qe=o,Ht=f;break;case 0:case 11:case 14:case 15:Fi(2,a,i),ft||Fi(4,a,i),hi(t,i,a);break;case 1:ft||(jn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&py(a,i,o)),hi(t,i,a);break;case 21:hi(t,i,a);break;case 22:ft=(o=ft)||a.memoizedState!==null,hi(t,i,a),ft=o;break;default:hi(t,i,a)}}function Cy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sa(t)}catch(a){ke(i,i.return,a)}}}function wy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sa(t)}catch(a){ke(i,i.return,a)}}function cC(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Sy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Sy),i;default:throw Error(s(435,t.tag))}}function vu(t,i){var a=cC(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var f=vC.bind(null,t,o);o.then(f,f)}})}function Bt(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],h=t,g=i,S=g;e:for(;S!==null;){switch(S.tag){case 27:if($i(S.type)){Qe=S.stateNode,Ht=!1;break e}break;case 5:Qe=S.stateNode,Ht=!1;break e;case 3:case 4:Qe=S.stateNode.containerInfo,Ht=!0;break e}S=S.return}if(Qe===null)throw Error(s(160));Ey(h,g,f),Qe=null,Ht=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ay(i,t),i=i.sibling}var Mn=null;function Ay(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bt(i,t),jt(t),o&4&&(Fi(3,t,t.return),ml(3,t),Fi(5,t,t.return));break;case 1:Bt(i,t),jt(t),o&512&&(ft||a===null||jn(a,a.return)),o&64&&fi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Mn;if(Bt(i,t),jt(t),o&512&&(ft||a===null||jn(a,a.return)),o&4){var h=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[Va]||h[bt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),wt(h,o,a),h[bt]=t,mt(h),o=h;break e;case"link":var g=Av("link","href",f).get(o+(a.href||""));if(g){for(var S=0;S<g.length;S++)if(h=g[S],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(S,1);break t}}h=f.createElement(o),wt(h,o,a),f.head.appendChild(h);break;case"meta":if(g=Av("meta","content",f).get(o+(a.content||""))){for(S=0;S<g.length;S++)if(h=g[S],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(S,1);break t}}h=f.createElement(o),wt(h,o,a),f.head.appendChild(h);break;default:throw Error(s(468,o))}h[bt]=t,mt(h),o=h}t.stateNode=o}else Nv(f,t.type,t.stateNode);else t.stateNode=wv(f,o,t.memoizedProps);else h!==o?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,o===null?Nv(f,t.type,t.stateNode):wv(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&kh(t,t.memoizedProps,a.memoizedProps)}break;case 27:Bt(i,t),jt(t),o&512&&(ft||a===null||jn(a,a.return)),a!==null&&o&4&&kh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Bt(i,t),jt(t),o&512&&(ft||a===null||jn(a,a.return)),t.flags&32){f=t.stateNode;try{Nr(f,"")}catch(ie){ke(t,t.return,ie)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,kh(t,f,a!==null?a.memoizedProps:f)),o&1024&&(Uh=!0);break;case 6:if(Bt(i,t),jt(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ie){ke(t,t.return,ie)}}break;case 3:if(zu=null,f=Mn,Mn=Iu(i.containerInfo),Bt(i,t),Mn=f,jt(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{sa(i.containerInfo)}catch(ie){ke(t,t.return,ie)}Uh&&(Uh=!1,Ny(t));break;case 4:o=Mn,Mn=Iu(t.stateNode.containerInfo),Bt(i,t),jt(t),Mn=o;break;case 12:Bt(i,t),jt(t);break;case 31:Bt(i,t),jt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,vu(t,o)));break;case 13:Bt(i,t),jt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bu=Jt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,vu(t,o)));break;case 22:f=t.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,M=fi,j=ft;if(fi=M||f,ft=j||E,Bt(i,t),ft=j,fi=M,jt(t),o&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||E||fi||ft||Qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){E=a=i;try{if(h=E.stateNode,f)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{S=E.stateNode;var Y=E.memoizedProps.style,k=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;S.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(ie){ke(E,E.return,ie)}}}else if(i.tag===6){if(a===null){E=i;try{E.stateNode.nodeValue=f?"":E.memoizedProps}catch(ie){ke(E,E.return,ie)}}}else if(i.tag===18){if(a===null){E=i;try{var U=E.stateNode;f?pv(U,!0):pv(E.stateNode,!1)}catch(ie){ke(E,E.return,ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,vu(t,a))));break;case 19:Bt(i,t),jt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,vu(t,o)));break;case 30:break;case 21:break;default:Bt(i,t),jt(t)}}function jt(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(yy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,h=zh(t);yu(t,h,f);break;case 5:var g=a.stateNode;a.flags&32&&(Nr(g,""),a.flags&=-33);var S=zh(t);yu(t,S,g);break;case 3:case 4:var E=a.stateNode.containerInfo,M=zh(t);Lh(t,M,E);break;default:throw Error(s(161))}}catch(j){ke(t,t.return,j)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ny(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function di(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)by(t,i.alternate,i),i=i.sibling}function Qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Fi(4,i,i.return),Qs(i);break;case 1:jn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&py(i,i.return,a),Qs(i);break;case 27:wl(i.stateNode);case 26:case 5:jn(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}t=t.sibling}}function _i(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,h=i,g=h.flags;switch(h.tag){case 0:case 11:case 15:_i(f,h,a),ml(4,h);break;case 1:if(_i(f,h,a),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(M){ke(o,o.return,M)}if(o=h,f=o.updateQueue,f!==null){var S=o.stateNode;try{var E=f.shared.hiddenCallbacks;if(E!==null)for(f.shared.hiddenCallbacks=null,f=0;f<E.length;f++)sg(E[f],S)}catch(M){ke(o,o.return,M)}}a&&g&64&&my(h),pl(h,h.return);break;case 27:vy(h);case 26:case 5:_i(f,h,a),a&&o===null&&g&4&&gy(h),pl(h,h.return);break;case 12:_i(f,h,a);break;case 31:_i(f,h,a),a&&g&4&&Cy(f,h);break;case 13:_i(f,h,a),a&&g&4&&wy(f,h);break;case 22:h.memoizedState===null&&_i(f,h,a),pl(h,h.return);break;case 30:break;default:_i(f,h,a)}i=i.sibling}}function Ph(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function Hh(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function In(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xy(t,i,a,o),i=i.sibling}function xy(t,i,a,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:In(t,i,a,o),f&2048&&ml(9,i);break;case 1:In(t,i,a,o);break;case 3:In(t,i,a,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(f&2048){In(t,i,a,o),t=i.stateNode;try{var h=i.memoizedProps,g=h.id,S=h.onPostCommit;typeof S=="function"&&S(g,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){ke(i,i.return,E)}}else In(t,i,a,o);break;case 31:In(t,i,a,o);break;case 13:In(t,i,a,o);break;case 23:break;case 22:h=i.stateNode,g=i.alternate,i.memoizedState!==null?h._visibility&2?In(t,i,a,o):gl(t,i):h._visibility&2?In(t,i,a,o):(h._visibility|=2,Xr(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Ph(g,i);break;case 24:In(t,i,a,o),f&2048&&Hh(i.alternate,i);break;default:In(t,i,a,o)}}function Xr(t,i,a,o,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var h=t,g=i,S=a,E=o,M=g.flags;switch(g.tag){case 0:case 11:case 15:Xr(h,g,S,E,f),ml(8,g);break;case 23:break;case 22:var j=g.stateNode;g.memoizedState!==null?j._visibility&2?Xr(h,g,S,E,f):gl(h,g):(j._visibility|=2,Xr(h,g,S,E,f)),f&&M&2048&&Ph(g.alternate,g);break;case 24:Xr(h,g,S,E,f),f&&M&2048&&Hh(g.alternate,g);break;default:Xr(h,g,S,E,f)}i=i.sibling}}function gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,f=o.flags;switch(o.tag){case 22:gl(a,o),f&2048&&Ph(o.alternate,o);break;case 24:gl(a,o),f&2048&&Hh(o.alternate,o);break;default:gl(a,o)}i=i.sibling}}var yl=8192;function Qr(t,i,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)Ry(t,i,a),t=t.sibling}function Ry(t,i,a){switch(t.tag){case 26:Qr(t,i,a),t.flags&yl&&t.memoizedState!==null&&WC(a,Mn,t.memoizedState,t.memoizedProps);break;case 5:Qr(t,i,a);break;case 3:case 4:var o=Mn;Mn=Iu(t.stateNode.containerInfo),Qr(t,i,a),Mn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=yl,yl=16777216,Qr(t,i,a),yl=o):Qr(t,i,a));break;default:Qr(t,i,a)}}function Oy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];pt=o,My(o,t)}Oy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dy(t),t=t.sibling}function Dy(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Fi(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Su(t)):vl(t);break;default:vl(t)}}function Su(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];pt=o,My(o,t)}Oy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Fi(8,i,i.return),Su(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Su(i));break;default:Su(i)}t=t.sibling}}function My(t,i){for(;pt!==null;){var a=pt;switch(a.tag){case 0:case 11:case 15:Fi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:nl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,pt=o;else e:for(a=t;pt!==null;){o=pt;var f=o.sibling,h=o.return;if(Ty(o),o===a){pt=null;break e}if(f!==null){f.return=h,pt=f;break e}pt=h}}}var fC={getCacheForType:function(t){var i=Et(ot),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Et(ot).controller.signal}},hC=typeof WeakMap=="function"?WeakMap:Map,Me=0,Be=null,be=null,Ee=0,Ie=0,an=null,Xi=!1,Kr=!1,Bh=!1,mi=0,tt=0,Qi=0,Ks=0,jh=0,ln=0,Wr=0,Sl=null,Gt=null,Gh=!1,bu=0,Iy=0,Tu=1/0,Eu=null,Ki=null,dt=0,Wi=null,Zr=null,pi=0,Vh=0,qh=null,ky=null,bl=0,Yh=null;function on(){return(Me&2)!==0&&Ee!==0?Ee&-Ee:N.T!==null?Zh():Wm()}function zy(){if(ln===0)if((Ee&536870912)===0||we){var t=Do;Do<<=1,(Do&3932160)===0&&(Do=262144),ln=t}else ln=536870912;return t=sn.current,t!==null&&(t.flags|=32),ln}function Vt(t,i,a){(t===Be&&(Ie===2||Ie===9)||t.cancelPendingCommit!==null)&&(Jr(t,0),Zi(t,Ee,ln,!1)),Ga(t,a),((Me&2)===0||t!==Be)&&(t===Be&&((Me&2)===0&&(Ks|=a),tt===4&&Zi(t,Ee,ln,!1)),Gn(t))}function Ly(t,i,a){if((Me&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ja(t,i),f=o?mC(t,i):Xh(t,i,!0),h=o;do{if(f===0){Kr&&!o&&Zi(t,i,0,!1);break}else{if(a=t.current.alternate,h&&!dC(a)){f=Xh(t,i,!1),h=!1;continue}if(f===2){if(h=i,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;e:{var S=t;f=Sl;var E=S.current.memoizedState.isDehydrated;if(E&&(Jr(S,g).flags|=256),g=Xh(S,g,!1),g!==2){if(Bh&&!E){S.errorRecoveryDisabledLanes|=h,Ks|=h,f=4;break e}h=Gt,Gt=f,h!==null&&(Gt===null?Gt=h:Gt.push.apply(Gt,h))}f=g}if(h=!1,f!==2)continue}}if(f===1){Jr(t,0),Zi(t,i,0,!0);break}e:{switch(o=t,h=f,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Zi(o,i,ln,!Xi);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=bu+300-Jt(),10<f)){if(Zi(o,i,ln,!Xi),Io(o,0,!0)!==0)break e;pi=i,o.timeoutHandle=dv(Uy.bind(null,o,a,Gt,Eu,Gh,i,ln,Ks,Wr,Xi,h,"Throttled",-0,0),f);break e}Uy(o,a,Gt,Eu,Gh,i,ln,Ks,Wr,Xi,h,null,-0,0)}}break}while(!0);Gn(t)}function Uy(t,i,a,o,f,h,g,S,E,M,j,Y,k,U){if(t.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Ry(i,h,Y);var ie=(h&62914560)===h?bu-Jt():(h&4194048)===h?Iy-Jt():0;if(ie=ZC(Y,ie),ie!==null){pi=h,t.cancelPendingCommit=ie(Yy.bind(null,t,i,h,a,o,f,g,S,E,j,Y,null,k,U)),Zi(t,h,g,!M);return}}Yy(t,i,h,a,o,f,g,S,E)}function dC(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],h=f.getSnapshot;f=f.value;try{if(!tn(h(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zi(t,i,a,o){i&=~jh,i&=~Ks,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var h=31-en(f),g=1<<h;o[h]=-1,f&=~g}a!==0&&Xm(t,a,i)}function Cu(){return(Me&6)===0?(Tl(0),!1):!0}function Fh(){if(be!==null){if(Ie===0)var t=be.return;else t=be,ri=Bs=null,oh(t),Gr=null,sl=0,t=be;for(;t!==null;)_y(t.alternate,t),t=t.return;be=null}}function Jr(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,IC(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),pi=0,Fh(),Be=t,be=a=ii(t.current,null),Ee=i,Ie=0,an=null,Xi=!1,Kr=ja(t,i),Bh=!1,Wr=ln=jh=Ks=Qi=tt=0,Gt=Sl=null,Gh=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-en(o),h=1<<f;i|=t[f],o&=~h}return mi=i,Yo(),a}function Py(t,i){pe=null,N.H=hl,i===jr||i===$o?(i=eg(),Ie=3):i===Wf?(i=eg(),Ie=4):Ie=i===Ch?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,an=i,be===null&&(tt=1,du(t,vn(i,t.current)))}function Hy(){var t=sn.current;return t===null?!0:(Ee&4194048)===Ee?En===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?t===En:!1}function By(){var t=N.H;return N.H=hl,t===null?hl:t}function jy(){var t=N.A;return N.A=fC,t}function wu(){tt=4,Xi||(Ee&4194048)!==Ee&&sn.current!==null||(Kr=!0),(Qi&134217727)===0&&(Ks&134217727)===0||Be===null||Zi(Be,Ee,ln,!1)}function Xh(t,i,a){var o=Me;Me|=2;var f=By(),h=jy();(Be!==t||Ee!==i)&&(Eu=null,Jr(t,i)),i=!1;var g=tt;e:do try{if(Ie!==0&&be!==null){var S=be,E=an;switch(Ie){case 8:Fh(),g=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(i=!0);var M=Ie;if(Ie=0,an=null,$r(t,S,E,M),a&&Kr){g=0;break e}break;default:M=Ie,Ie=0,an=null,$r(t,S,E,M)}}_C(),g=tt;break}catch(j){Py(t,j)}while(!0);return i&&t.shellSuspendCounter++,ri=Bs=null,Me=o,N.H=f,N.A=h,be===null&&(Be=null,Ee=0,Yo()),g}function _C(){for(;be!==null;)Gy(be)}function mC(t,i){var a=Me;Me|=2;var o=By(),f=jy();Be!==t||Ee!==i?(Eu=null,Tu=Jt()+500,Jr(t,i)):Kr=ja(t,i);e:do try{if(Ie!==0&&be!==null){i=be;var h=an;t:switch(Ie){case 1:Ie=0,an=null,$r(t,i,h,1);break;case 2:case 9:if(Jp(h)){Ie=0,an=null,Vy(i);break}i=function(){Ie!==2&&Ie!==9||Be!==t||(Ie=7),Gn(t)},h.then(i,i);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:Jp(h)?(Ie=0,an=null,Vy(i)):(Ie=0,an=null,$r(t,i,h,7));break;case 5:var g=null;switch(be.tag){case 26:g=be.memoizedState;case 5:case 27:var S=be;if(g?xv(g):S.stateNode.complete){Ie=0,an=null;var E=S.sibling;if(E!==null)be=E;else{var M=S.return;M!==null?(be=M,Au(M)):be=null}break t}}Ie=0,an=null,$r(t,i,h,5);break;case 6:Ie=0,an=null,$r(t,i,h,6);break;case 8:Fh(),tt=6;break e;default:throw Error(s(462))}}pC();break}catch(j){Py(t,j)}while(!0);return ri=Bs=null,N.H=o,N.A=f,Me=a,be!==null?0:(Be=null,Ee=0,Yo(),tt)}function pC(){for(;be!==null&&!HT();)Gy(be)}function Gy(t){var i=hy(t.alternate,t,mi);t.memoizedProps=t.pendingProps,i===null?Au(t):be=i}function Vy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ay(a,i,i.pendingProps,i.type,void 0,Ee);break;case 11:i=ay(a,i,i.pendingProps,i.type.render,i.ref,Ee);break;case 5:oh(i);default:_y(a,i),i=be=jp(i,mi),i=hy(a,i,mi)}t.memoizedProps=t.pendingProps,i===null?Au(t):be=i}function $r(t,i,a,o){ri=Bs=null,oh(i),Gr=null,sl=0;var f=i.return;try{if(sC(t,f,i,a,Ee)){tt=1,du(t,vn(a,t.current)),be=null;return}}catch(h){if(f!==null)throw be=f,h;tt=1,du(t,vn(a,t.current)),be=null;return}i.flags&32768?(we||o===1?t=!0:Kr||(Ee&536870912)!==0?t=!1:(Xi=t=!0,(o===2||o===9||o===3||o===6)&&(o=sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),qy(i,t)):Au(i)}function Au(t){var i=t;do{if((i.flags&32768)!==0){qy(i,Xi);return}t=i.return;var a=lC(i.alternate,i,mi);if(a!==null){be=a;return}if(i=i.sibling,i!==null){be=i;return}be=i=t}while(i!==null);tt===0&&(tt=5)}function qy(t,i){do{var a=oC(t.alternate,t);if(a!==null){a.flags&=32767,be=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){be=t;return}be=t=a}while(t!==null);tt=6,be=null}function Yy(t,i,a,o,f,h,g,S,E){t.cancelPendingCommit=null;do Nu();while(dt!==0);if((Me&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(h=i.lanes|i.childLanes,h|=zf,KT(t,a,h,g,S,E),t===Be&&(be=Be=null,Ee=0),Zr=i,Wi=t,pi=a,Vh=h,qh=f,ky=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,SC(Ro,function(){return Wy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=N.T,N.T=null,f=G.p,G.p=2,g=Me,Me|=4;try{uC(t,i,a)}finally{Me=g,G.p=f,N.T=o}}dt=1,Fy(),Xy(),Qy()}}function Fy(){if(dt===1){dt=0;var t=Wi,i=Zr,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=N.T,N.T=null;var o=G.p;G.p=2;var f=Me;Me|=4;try{Ay(i,t);var h=rd,g=Mp(t.containerInfo),S=h.focusedElem,E=h.selectionRange;if(g!==S&&S&&S.ownerDocument&&Dp(S.ownerDocument.documentElement,S)){if(E!==null&&Of(S)){var M=E.start,j=E.end;if(j===void 0&&(j=M),"selectionStart"in S)S.selectionStart=M,S.selectionEnd=Math.min(j,S.value.length);else{var Y=S.ownerDocument||document,k=Y&&Y.defaultView||window;if(k.getSelection){var U=k.getSelection(),ie=S.textContent.length,ue=Math.min(E.start,ie),Pe=E.end===void 0?ue:Math.min(E.end,ie);!U.extend&&ue>Pe&&(g=Pe,Pe=ue,ue=g);var x=Op(S,ue),A=Op(S,Pe);if(x&&A&&(U.rangeCount!==1||U.anchorNode!==x.node||U.anchorOffset!==x.offset||U.focusNode!==A.node||U.focusOffset!==A.offset)){var O=Y.createRange();O.setStart(x.node,x.offset),U.removeAllRanges(),ue>Pe?(U.addRange(O),U.extend(A.node,A.offset)):(O.setEnd(A.node,A.offset),U.addRange(O))}}}}for(Y=[],U=S;U=U.parentNode;)U.nodeType===1&&Y.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Y.length;S++){var V=Y[S];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Hu=!!sd,rd=sd=null}finally{Me=f,G.p=o,N.T=a}}t.current=i,dt=2}}function Xy(){if(dt===2){dt=0;var t=Wi,i=Zr,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=N.T,N.T=null;var o=G.p;G.p=2;var f=Me;Me|=4;try{by(t,i.alternate,i)}finally{Me=f,G.p=o,N.T=a}}dt=3}}function Qy(){if(dt===4||dt===3){dt=0,BT();var t=Wi,i=Zr,a=pi,o=ky;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dt=5:(dt=0,Zr=Wi=null,Ky(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ki=null),ff(a),i=i.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Ba,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=N.T,f=G.p,G.p=2,N.T=null;try{for(var h=t.onRecoverableError,g=0;g<o.length;g++){var S=o[g];h(S.value,{componentStack:S.stack})}}finally{N.T=i,G.p=f}}(pi&3)!==0&&Nu(),Gn(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Yh?bl++:(bl=0,Yh=t):bl=0,Tl(0)}}function Ky(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Nu(){return Fy(),Xy(),Qy(),Wy()}function Wy(){if(dt!==5)return!1;var t=Wi,i=Vh;Vh=0;var a=ff(pi),o=N.T,f=G.p;try{G.p=32>a?32:a,N.T=null,a=qh,qh=null;var h=Wi,g=pi;if(dt=0,Zr=Wi=null,pi=0,(Me&6)!==0)throw Error(s(331));var S=Me;if(Me|=4,Dy(h.current),xy(h,h.current,g,a),Me=S,Tl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Ba,h)}catch{}return!0}finally{G.p=f,N.T=o,Ky(t,i)}}function Zy(t,i,a){i=vn(a,i),i=Eh(t.stateNode,i,2),t=Vi(t,i,2),t!==null&&(Ga(t,2),Gn(t))}function ke(t,i,a){if(t.tag===3)Zy(t,t,a);else for(;i!==null;){if(i.tag===3){Zy(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ki===null||!Ki.has(o))){t=vn(a,t),a=Jg(2),o=Vi(i,a,2),o!==null&&($g(a,o,i,t),Ga(o,2),Gn(o));break}}i=i.return}}function Qh(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new hC;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(a)||(Bh=!0,f.add(a),t=gC.bind(null,t,i,a),i.then(t,t))}function gC(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Be===t&&(Ee&a)===a&&(tt===4||tt===3&&(Ee&62914560)===Ee&&300>Jt()-bu?(Me&2)===0&&Jr(t,0):jh|=a,Wr===Ee&&(Wr=0)),Gn(t)}function Jy(t,i){i===0&&(i=Fm()),t=Us(t,i),t!==null&&(Ga(t,i),Gn(t))}function yC(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Jy(t,a)}function vC(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),Jy(t,a)}function SC(t,i){return lf(t,i)}var xu=null,ea=null,Kh=!1,Ru=!1,Wh=!1,Ji=0;function Gn(t){t!==ea&&t.next===null&&(ea===null?xu=ea=t:ea=ea.next=t),Ru=!0,Kh||(Kh=!0,TC())}function Tl(t,i){if(!Wh&&Ru){Wh=!0;do for(var a=!1,o=xu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var g=o.suspendedLanes,S=o.pingedLanes;h=(1<<31-en(42|t)+1)-1,h&=f&~(g&~S),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,nv(o,h))}else h=Ee,h=Io(o,o===Be?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||ja(o,h)||(a=!0,nv(o,h));o=o.next}while(a);Wh=!1}}function bC(){$y()}function $y(){Ru=Kh=!1;var t=0;Ji!==0&&MC()&&(t=Ji);for(var i=Jt(),a=null,o=xu;o!==null;){var f=o.next,h=ev(o,i);h===0?(o.next=null,a===null?xu=f:a.next=f,f===null&&(ea=a)):(a=o,(t!==0||(h&3)!==0)&&(Ru=!0)),o=f}dt!==0&&dt!==5||Tl(t),Ji!==0&&(Ji=0)}function ev(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-en(h),S=1<<g,E=f[g];E===-1?((S&a)===0||(S&o)!==0)&&(f[g]=QT(S,i)):E<=i&&(t.expiredLanes|=S),h&=~S}if(i=Be,a=Ee,a=Io(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ie===2||Ie===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&of(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ja(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&of(o),ff(a)){case 2:case 8:a=qm;break;case 32:a=Ro;break;case 268435456:a=Ym;break;default:a=Ro}return o=tv.bind(null,t),a=lf(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&of(o),t.callbackPriority=2,t.callbackNode=null,2}function tv(t,i){if(dt!==0&&dt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nu()&&t.callbackNode!==a)return null;var o=Ee;return o=Io(t,t===Be?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ly(t,o,i),ev(t,Jt()),t.callbackNode!=null&&t.callbackNode===a?tv.bind(null,t):null)}function nv(t,i){if(Nu())return null;Ly(t,i,!0)}function TC(){kC(function(){(Me&6)!==0?lf(Vm,bC):$y()})}function Zh(){if(Ji===0){var t=Hr;t===0&&(t=Oo,Oo<<=1,(Oo&261888)===0&&(Oo=256)),Ji=t}return Ji}function iv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Uo(""+t)}function sv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function EC(t,i,a,o,f){if(i==="submit"&&a&&a.stateNode===f){var h=iv((f[Ut]||null).action),g=o.submitter;g&&(i=(i=g[Ut]||null)?iv(i.formAction):g.getAttribute("formAction"),i!==null&&(h=i,g=null));var S=new jo("action","action",null,o,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ji!==0){var E=g?sv(f,g):new FormData(f);gh(a,{pending:!0,data:E,method:f.method,action:h},null,E)}}else typeof h=="function"&&(S.preventDefault(),E=g?sv(f,g):new FormData(f),gh(a,{pending:!0,data:E,method:f.method,action:h},h,E))},currentTarget:f}]})}}for(var Jh=0;Jh<kf.length;Jh++){var $h=kf[Jh],CC=$h.toLowerCase(),wC=$h[0].toUpperCase()+$h.slice(1);Dn(CC,"on"+wC)}Dn(zp,"onAnimationEnd"),Dn(Lp,"onAnimationIteration"),Dn(Up,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(jE,"onTransitionRun"),Dn(GE,"onTransitionStart"),Dn(VE,"onTransitionCancel"),Dn(Pp,"onTransitionEnd"),wr("onMouseEnter",["mouseout","mouseover"]),wr("onMouseLeave",["mouseout","mouseover"]),wr("onPointerEnter",["pointerout","pointerover"]),wr("onPointerLeave",["pointerout","pointerover"]),Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Is("onBeforeInput",["compositionend","keypress","textInput","paste"]),Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function rv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var h=void 0;if(i)for(var g=o.length-1;0<=g;g--){var S=o[g],E=S.instance,M=S.currentTarget;if(S=S.listener,E!==h&&f.isPropagationStopped())break e;h=S,f.currentTarget=M;try{h(f)}catch(j){qo(j)}f.currentTarget=null,h=E}else for(g=0;g<o.length;g++){if(S=o[g],E=S.instance,M=S.currentTarget,S=S.listener,E!==h&&f.isPropagationStopped())break e;h=S,f.currentTarget=M;try{h(f)}catch(j){qo(j)}f.currentTarget=null,h=E}}}}function Te(t,i){var a=i[hf];a===void 0&&(a=i[hf]=new Set);var o=t+"__bubble";a.has(o)||(av(i,t,2,!1),a.add(o))}function ed(t,i,a){var o=0;i&&(o|=4),av(a,t,o,i)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function td(t){if(!t[Ou]){t[Ou]=!0,$m.forEach(function(a){a!=="selectionchange"&&(AC.has(a)||ed(a,!1,t),ed(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ou]||(i[Ou]=!0,ed("selectionchange",!1,i))}}function av(t,i,a,o){switch(zv(i)){case 2:var f=ew;break;case 8:f=tw;break;default:f=pd}a=f.bind(null,i,a,t),f=void 0,!bf||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function nd(t,i,a,o,f){var h=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var S=o.stateNode.containerInfo;if(S===f)break;if(g===4)for(g=o.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===f)return;g=g.return}for(;S!==null;){if(g=Tr(S),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){o=h=g;continue e}S=S.parentNode}}o=o.return}fp(function(){var M=h,j=vf(a),Y=[];e:{var k=Hp.get(t);if(k!==void 0){var U=jo,ie=t;switch(t){case"keypress":if(Ho(a)===0)break e;case"keydown":case"keyup":U=vE;break;case"focusin":ie="focus",U=wf;break;case"focusout":ie="blur",U=wf;break;case"beforeblur":case"afterblur":U=wf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=_p;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=lE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=TE;break;case zp:case Lp:case Up:U=cE;break;case Pp:U=CE;break;case"scroll":case"scrollend":U=rE;break;case"wheel":U=AE;break;case"copy":case"cut":case"paste":U=hE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=pp;break;case"toggle":case"beforetoggle":U=xE}var ue=(i&4)!==0,Pe=!ue&&(t==="scroll"||t==="scrollend"),x=ue?k!==null?k+"Capture":null:k;ue=[];for(var A=M,O;A!==null;){var V=A;if(O=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||O===null||x===null||(V=Ya(A,x),V!=null&&ue.push(Cl(A,V,O))),Pe)break;A=A.return}0<ue.length&&(k=new U(k,ie,null,a,j),Y.push({event:k,listeners:ue}))}}if((i&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",k&&a!==yf&&(ie=a.relatedTarget||a.fromElement)&&(Tr(ie)||ie[br]))break e;if((U||k)&&(k=j.window===j?j:(k=j.ownerDocument)?k.defaultView||k.parentWindow:window,U?(ie=a.relatedTarget||a.toElement,U=M,ie=ie?Tr(ie):null,ie!==null&&(Pe=u(ie),ue=ie.tag,ie!==Pe||ue!==5&&ue!==27&&ue!==6)&&(ie=null)):(U=null,ie=M),U!==ie)){if(ue=_p,V="onMouseLeave",x="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(ue=pp,V="onPointerLeave",x="onPointerEnter",A="pointer"),Pe=U==null?k:qa(U),O=ie==null?k:qa(ie),k=new ue(V,A+"leave",U,a,j),k.target=Pe,k.relatedTarget=O,V=null,Tr(j)===M&&(ue=new ue(x,A+"enter",ie,a,j),ue.target=O,ue.relatedTarget=Pe,V=ue),Pe=V,U&&ie)t:{for(ue=NC,x=U,A=ie,O=0,V=x;V;V=ue(V))O++;V=0;for(var oe=A;oe;oe=ue(oe))V++;for(;0<O-V;)x=ue(x),O--;for(;0<V-O;)A=ue(A),V--;for(;O--;){if(x===A||A!==null&&x===A.alternate){ue=x;break t}x=ue(x),A=ue(A)}ue=null}else ue=null;U!==null&&lv(Y,k,U,ue,!1),ie!==null&&Pe!==null&&lv(Y,Pe,ie,ue,!0)}}e:{if(k=M?qa(M):window,U=k.nodeName&&k.nodeName.toLowerCase(),U==="select"||U==="input"&&k.type==="file")var xe=Cp;else if(Tp(k))if(wp)xe=PE;else{xe=LE;var se=zE}else U=k.nodeName,!U||U.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?M&&gf(M.elementType)&&(xe=Cp):xe=UE;if(xe&&(xe=xe(t,M))){Ep(Y,xe,a,j);break e}se&&se(t,k,M),t==="focusout"&&M&&k.type==="number"&&M.memoizedProps.value!=null&&pf(k,"number",k.value)}switch(se=M?qa(M):window,t){case"focusin":(Tp(se)||se.contentEditable==="true")&&(Dr=se,Df=M,$a=null);break;case"focusout":$a=Df=Dr=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,Ip(Y,a,j);break;case"selectionchange":if(BE)break;case"keydown":case"keyup":Ip(Y,a,j)}var ge;if(Nf)e:{switch(t){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Or?Sp(t,a)&&(Ce="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(gp&&a.locale!=="ko"&&(Or||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Or&&(ge=hp()):(Li=j,Tf="value"in Li?Li.value:Li.textContent,Or=!0)),se=Du(M,Ce),0<se.length&&(Ce=new mp(Ce,t,null,a,j),Y.push({event:Ce,listeners:se}),ge?Ce.data=ge:(ge=bp(a),ge!==null&&(Ce.data=ge)))),(ge=OE?DE(t,a):ME(t,a))&&(Ce=Du(M,"onBeforeInput"),0<Ce.length&&(se=new mp("onBeforeInput","beforeinput",null,a,j),Y.push({event:se,listeners:Ce}),se.data=ge)),EC(Y,t,M,a,j)}rv(Y,i)})}function Cl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Du(t,i){for(var a=i+"Capture",o=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Ya(t,a),f!=null&&o.unshift(Cl(t,f,h)),f=Ya(t,i),f!=null&&o.push(Cl(t,f,h))),t.tag===3)return o;t=t.return}return[]}function NC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lv(t,i,a,o,f){for(var h=i._reactName,g=[];a!==null&&a!==o;){var S=a,E=S.alternate,M=S.stateNode;if(S=S.tag,E!==null&&E===o)break;S!==5&&S!==26&&S!==27||M===null||(E=M,f?(M=Ya(a,h),M!=null&&g.unshift(Cl(a,M,E))):f||(M=Ya(a,h),M!=null&&g.push(Cl(a,M,E)))),a=a.return}g.length!==0&&t.push({event:i,listeners:g})}var xC=/\r\n?/g,RC=/\u0000|\uFFFD/g;function ov(t){return(typeof t=="string"?t:""+t).replace(xC,`
`).replace(RC,"")}function uv(t,i){return i=ov(i),ov(t)===i}function Ue(t,i,a,o,f,h){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Nr(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Nr(t,""+o);break;case"className":zo(t,"class",o);break;case"tabIndex":zo(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":zo(t,a,o);break;case"style":up(t,o,h);break;case"data":if(i!=="object"){zo(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Uo(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(i!=="input"&&Ue(t,i,"name",f.name,f,null),Ue(t,i,"formEncType",f.formEncType,f,null),Ue(t,i,"formMethod",f.formMethod,f,null),Ue(t,i,"formTarget",f.formTarget,f,null)):(Ue(t,i,"encType",f.encType,f,null),Ue(t,i,"method",f.method,f,null),Ue(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Uo(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ti);break;case"onScroll":o!=null&&Te("scroll",t);break;case"onScrollEnd":o!=null&&Te("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Uo(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Te("beforetoggle",t),Te("toggle",t),ko(t,"popover",o);break;case"xlinkActuate":ei(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ei(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ei(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ei(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ei(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ei(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ei(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ei(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ei(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ko(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=iE.get(a)||a,ko(t,a,o))}}function id(t,i,a,o,f,h){switch(a){case"style":up(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Nr(t,o):(typeof o=="number"||typeof o=="bigint")&&Nr(t,""+o);break;case"onScroll":o!=null&&Te("scroll",t);break;case"onScrollEnd":o!=null&&Te("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ep.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),h=t[Ut]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(i,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ko(t,a,o)}}}function wt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",t),Te("load",t);var o=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ue(t,i,h,g,a,null)}}f&&Ue(t,i,"srcSet",a.srcSet,a,null),o&&Ue(t,i,"src",a.src,a,null);return;case"input":Te("invalid",t);var S=h=g=f=null,E=null,M=null;for(o in a)if(a.hasOwnProperty(o)){var j=a[o];if(j!=null)switch(o){case"name":f=j;break;case"type":g=j;break;case"checked":E=j;break;case"defaultChecked":M=j;break;case"value":h=j;break;case"defaultValue":S=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:Ue(t,i,o,j,a,null)}}rp(t,h,S,E,M,g,f,!1);return;case"select":Te("invalid",t),o=g=h=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":h=S;break;case"defaultValue":g=S;break;case"multiple":o=S;default:Ue(t,i,f,S,a,null)}i=h,a=g,t.multiple=!!o,i!=null?Ar(t,!!o,i,!1):a!=null&&Ar(t,!!o,a,!0);return;case"textarea":Te("invalid",t),h=f=o=null;for(g in a)if(a.hasOwnProperty(g)&&(S=a[g],S!=null))switch(g){case"value":o=S;break;case"defaultValue":f=S;break;case"children":h=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ue(t,i,g,S,a,null)}lp(t,o,f,h);return;case"option":for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null)&&(E==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Ue(t,i,E,o,a,null));return;case"dialog":Te("beforetoggle",t),Te("toggle",t),Te("cancel",t),Te("close",t);break;case"iframe":case"object":Te("load",t);break;case"video":case"audio":for(o=0;o<El.length;o++)Te(El[o],t);break;case"image":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"embed":case"source":case"link":Te("error",t),Te("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in a)if(a.hasOwnProperty(M)&&(o=a[M],o!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ue(t,i,M,o,a,null)}return;default:if(gf(i)){for(j in a)a.hasOwnProperty(j)&&(o=a[j],o!==void 0&&id(t,i,j,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&Ue(t,i,S,o,a,null))}function OC(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,g=null,S=null,E=null,M=null,j=null;for(U in a){var Y=a[U];if(a.hasOwnProperty(U)&&Y!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":E=Y;default:o.hasOwnProperty(U)||Ue(t,i,U,null,o,Y)}}for(var k in o){var U=o[k];if(Y=a[k],o.hasOwnProperty(k)&&(U!=null||Y!=null))switch(k){case"type":h=U;break;case"name":f=U;break;case"checked":M=U;break;case"defaultChecked":j=U;break;case"value":g=U;break;case"defaultValue":S=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:U!==Y&&Ue(t,i,k,U,o,Y)}}mf(t,g,S,E,M,j,h,f);return;case"select":U=g=S=k=null;for(h in a)if(E=a[h],a.hasOwnProperty(h)&&E!=null)switch(h){case"value":break;case"multiple":U=E;default:o.hasOwnProperty(h)||Ue(t,i,h,null,o,E)}for(f in o)if(h=o[f],E=a[f],o.hasOwnProperty(f)&&(h!=null||E!=null))switch(f){case"value":k=h;break;case"defaultValue":S=h;break;case"multiple":g=h;default:h!==E&&Ue(t,i,f,h,o,E)}i=S,a=g,o=U,k!=null?Ar(t,!!a,k,!1):!!o!=!!a&&(i!=null?Ar(t,!!a,i,!0):Ar(t,!!a,a?[]:"",!1));return;case"textarea":U=k=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ue(t,i,S,null,o,f)}for(g in o)if(f=o[g],h=a[g],o.hasOwnProperty(g)&&(f!=null||h!=null))switch(g){case"value":k=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==h&&Ue(t,i,g,f,o,h)}ap(t,k,U);return;case"option":for(var ie in a)k=a[ie],a.hasOwnProperty(ie)&&k!=null&&!o.hasOwnProperty(ie)&&(ie==="selected"?t.selected=!1:Ue(t,i,ie,null,o,k));for(E in o)k=o[E],U=a[E],o.hasOwnProperty(E)&&k!==U&&(k!=null||U!=null)&&(E==="selected"?t.selected=k&&typeof k!="function"&&typeof k!="symbol":Ue(t,i,E,k,o,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in a)k=a[ue],a.hasOwnProperty(ue)&&k!=null&&!o.hasOwnProperty(ue)&&Ue(t,i,ue,null,o,k);for(M in o)if(k=o[M],U=a[M],o.hasOwnProperty(M)&&k!==U&&(k!=null||U!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,i));break;default:Ue(t,i,M,k,o,U)}return;default:if(gf(i)){for(var Pe in a)k=a[Pe],a.hasOwnProperty(Pe)&&k!==void 0&&!o.hasOwnProperty(Pe)&&id(t,i,Pe,void 0,o,k);for(j in o)k=o[j],U=a[j],!o.hasOwnProperty(j)||k===U||k===void 0&&U===void 0||id(t,i,j,k,o,U);return}}for(var x in a)k=a[x],a.hasOwnProperty(x)&&k!=null&&!o.hasOwnProperty(x)&&Ue(t,i,x,null,o,k);for(Y in o)k=o[Y],U=a[Y],!o.hasOwnProperty(Y)||k===U||k==null&&U==null||Ue(t,i,Y,k,o,U)}function cv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],h=f.transferSize,g=f.initiatorType,S=f.duration;if(h&&S&&cv(g)){for(g=0,S=f.responseEnd,o+=1;o<a.length;o++){var E=a[o],M=E.startTime;if(M>S)break;var j=E.transferSize,Y=E.initiatorType;j&&cv(Y)&&(E=E.responseEnd,g+=j*(E<S?1:(S-M)/(E-M)))}if(--o,i+=8*(h+g)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sd=null,rd=null;function Mu(t){return t.nodeType===9?t:t.ownerDocument}function fv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function ad(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ld=null;function MC(){var t=window.event;return t&&t.type==="popstate"?t===ld?!1:(ld=t,!0):(ld=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,IC=typeof clearTimeout=="function"?clearTimeout:void 0,_v=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof _v<"u"?function(t){return _v.resolve(null).then(t).catch(zC)}:dv;function zC(t){setTimeout(function(){throw t})}function $i(t){return t==="head"}function mv(t,i){var a=i,o=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(f),sa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var h=a.firstChild;h;){var g=h.nextSibling,S=h.nodeName;h[Va]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}else a==="body"&&wl(t.ownerDocument.body);a=f}while(a);sa(i)}function pv(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function od(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":od(a),df(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function LC(t,i,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Va])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Cn(t.nextSibling),t===null)break}return null}function UC(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Cn(t.nextSibling),t===null))return null;return t}function gv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Cn(t.nextSibling),t===null))return null;return t}function ud(t){return t.data==="$?"||t.data==="$~"}function cd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function PC(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Cn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var fd=null;function yv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Cn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function vv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Sv(t,i,a){switch(i=Mu(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);df(t)}var wn=new Map,bv=new Set;function Iu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gi=G.d;G.d={f:HC,r:BC,D:jC,C:GC,L:VC,m:qC,X:FC,S:YC,M:XC};function HC(){var t=gi.f(),i=Cu();return t||i}function BC(t){var i=Er(t);i!==null&&i.tag===5&&i.type==="form"?Pg(i):gi.r(t)}var ta=typeof document>"u"?null:document;function Tv(t,i,a){var o=ta;if(o&&typeof i=="string"&&i){var f=gn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),bv.has(f)||(bv.add(f),t={rel:t,crossOrigin:a,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),wt(i,"link",t),mt(i),o.head.appendChild(i)))}}function jC(t){gi.D(t),Tv("dns-prefetch",t,null)}function GC(t,i){gi.C(t,i),Tv("preconnect",t,i)}function VC(t,i,a){gi.L(t,i,a);var o=ta;if(o&&t&&i){var f='link[rel="preload"][as="'+gn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+gn(a.imageSizes)+'"]')):f+='[href="'+gn(t)+'"]';var h=f;switch(i){case"style":h=na(t);break;case"script":h=ia(t)}wn.has(h)||(t=y({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),wn.set(h,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(Al(h))||i==="script"&&o.querySelector(Nl(h))||(i=o.createElement("link"),wt(i,"link",t),mt(i),o.head.appendChild(i)))}}function qC(t,i){gi.m(t,i);var a=ta;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(t)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ia(t)}if(!wn.has(h)&&(t=y({rel:"modulepreload",href:t},i),wn.set(h,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(h)))return}o=a.createElement("link"),wt(o,"link",t),mt(o),a.head.appendChild(o)}}}function YC(t,i,a){gi.S(t,i,a);var o=ta;if(o&&t){var f=Cr(o).hoistableStyles,h=na(t);i=i||"default";var g=f.get(h);if(!g){var S={loading:0,preload:null};if(g=o.querySelector(Al(h)))S.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":i},a),(a=wn.get(h))&&hd(t,a);var E=g=o.createElement("link");mt(E),wt(E,"link",t),E._p=new Promise(function(M,j){E.onload=M,E.onerror=j}),E.addEventListener("load",function(){S.loading|=1}),E.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ku(g,i,o)}g={type:"stylesheet",instance:g,count:1,state:S},f.set(h,g)}}}function FC(t,i){gi.X(t,i);var a=ta;if(a&&t){var o=Cr(a).hoistableScripts,f=ia(t),h=o.get(f);h||(h=a.querySelector(Nl(f)),h||(t=y({src:t,async:!0},i),(i=wn.get(f))&&dd(t,i),h=a.createElement("script"),mt(h),wt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function XC(t,i){gi.M(t,i);var a=ta;if(a&&t){var o=Cr(a).hoistableScripts,f=ia(t),h=o.get(f);h||(h=a.querySelector(Nl(f)),h||(t=y({src:t,async:!0,type:"module"},i),(i=wn.get(f))&&dd(t,i),h=a.createElement("script"),mt(h),wt(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function Ev(t,i,a,o){var f=(f=_e.current)?Iu(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=na(a.href),a=Cr(f).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=na(a.href);var h=Cr(f).hoistableStyles,g=h.get(t);if(g||(f=f.ownerDocument||f,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=f.querySelector(Al(t)))&&!h._p&&(g.instance=h,g.state.loading=5),wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wn.set(t,a),h||QC(f,t,a,g.state))),i&&o===null)throw Error(s(528,""));return g}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ia(a),a=Cr(f).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function na(t){return'href="'+gn(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function Cv(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function QC(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),wt(i,"link",a),mt(i),t.head.appendChild(i))}function ia(t){return'[src="'+gn(t)+'"]'}function Nl(t){return"script[async]"+t}function wv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+gn(a.href)+'"]');if(o)return i.instance=o,mt(o),o;var f=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),mt(o),wt(o,"style",f),ku(o,a.precedence,t),i.instance=o;case"stylesheet":f=na(a.href);var h=t.querySelector(Al(f));if(h)return i.state.loading|=4,i.instance=h,mt(h),h;o=Cv(a),(f=wn.get(f))&&hd(o,f),h=(t.ownerDocument||t).createElement("link"),mt(h);var g=h;return g._p=new Promise(function(S,E){g.onload=S,g.onerror=E}),wt(h,"link",o),i.state.loading|=4,ku(h,a.precedence,t),i.instance=h;case"script":return h=ia(a.src),(f=t.querySelector(Nl(h)))?(i.instance=f,mt(f),f):(o=a,(f=wn.get(h))&&(o=y({},a),dd(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),mt(f),wt(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,ku(o,a.precedence,t));return i.instance}function ku(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,g=0;g<o.length;g++){var S=o[g];if(S.dataset.precedence===i)h=S;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function hd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function dd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var zu=null;function Av(t,i,a){if(zu===null){var o=new Map,f=zu=new Map;f.set(a,o)}else f=zu,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var h=a[f];if(!(h[Va]||h[bt]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(i)||"";g=t+g;var S=o.get(g);S?S.push(h):o.set(g,[h])}}return o}function Nv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function KC(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function xv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function WC(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=na(o.href),h=i.querySelector(Al(f));if(h){i=h._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Lu.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=h,mt(h);return}h=i.ownerDocument||i,o=Cv(o),(f=wn.get(f))&&hd(o,f),h=h.createElement("link"),mt(h);var g=h;g._p=new Promise(function(S,E){g.onload=S,g.onerror=E}),wt(h,"link",o),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Lu.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var _d=0;function ZC(t,i){return t.stylesheets&&t.count===0&&Pu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Pu(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+i);0<t.imgBytes&&_d===0&&(_d=62500*DC());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Pu(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>_d?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Lu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uu=null;function Pu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uu=new Map,i.forEach(JC,t),Uu=null,Lu.call(t))}function JC(t,i){if(!(i.state.loading&4)){var a=Uu.get(t);if(a)var o=a.get(null);else{a=new Map,Uu.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var g=f[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}f=i.instance,g=f.getAttribute("data-precedence"),h=a.get(g)||o,h===o&&a.set(null,f),a.set(g,f),this.count++,o=Lu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var xl={$$typeof:D,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function $C(t,i,a,o,f,h,g,S,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uf(0),this.hiddenUpdates=uf(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Rv(t,i,a,o,f,h,g,S,E,M,j,Y){return t=new $C(t,i,a,g,E,M,j,Y,S),i=1,h===!0&&(i|=24),h=nn(3,null,null,i),t.current=h,h.stateNode=t,i=Xf(),i.refCount++,t.pooledCache=i,i.refCount++,h.memoizedState={element:o,isDehydrated:a,cache:i},Zf(h),t}function Ov(t){return t?(t=kr,t):kr}function Dv(t,i,a,o,f,h){f=Ov(f),o.context===null?o.context=f:o.pendingContext=f,o=Gi(i),o.payload={element:a},h=h===void 0?null:h,h!==null&&(o.callback=h),a=Vi(t,o,i),a!==null&&(Vt(a,t,i),al(a,t,i))}function Mv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function md(t,i){Mv(t,i),(t=t.alternate)&&Mv(t,i)}function Iv(t){if(t.tag===13||t.tag===31){var i=Us(t,67108864);i!==null&&Vt(i,t,67108864),md(t,67108864)}}function kv(t){if(t.tag===13||t.tag===31){var i=on();i=cf(i);var a=Us(t,i);a!==null&&Vt(a,t,i),md(t,i)}}var Hu=!0;function ew(t,i,a,o){var f=N.T;N.T=null;var h=G.p;try{G.p=2,pd(t,i,a,o)}finally{G.p=h,N.T=f}}function tw(t,i,a,o){var f=N.T;N.T=null;var h=G.p;try{G.p=8,pd(t,i,a,o)}finally{G.p=h,N.T=f}}function pd(t,i,a,o){if(Hu){var f=gd(o);if(f===null)nd(t,i,o,Bu,a),Lv(t,o);else if(iw(f,t,i,a,o))o.stopPropagation();else if(Lv(t,o),i&4&&-1<nw.indexOf(t)){for(;f!==null;){var h=Er(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Ms(h.pendingLanes);if(g!==0){var S=h;for(S.pendingLanes|=2,S.entangledLanes|=2;g;){var E=1<<31-en(g);S.entanglements[1]|=E,g&=~E}Gn(h),(Me&6)===0&&(Tu=Jt()+500,Tl(0))}}break;case 31:case 13:S=Us(h,2),S!==null&&Vt(S,h,2),Cu(),md(h,2)}if(h=gd(o),h===null&&nd(t,i,o,Bu,a),h===f)break;f=h}f!==null&&o.stopPropagation()}else nd(t,i,o,null,a)}}function gd(t){return t=vf(t),yd(t)}var Bu=null;function yd(t){if(Bu=null,t=Tr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=c(i),t!==null)return t;t=null}else if(a===31){if(t=d(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bu=t,null}function zv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jT()){case Vm:return 2;case qm:return 8;case Ro:case GT:return 32;case Ym:return 268435456;default:return 32}default:return 32}}var vd=!1,es=null,ts=null,ns=null,Rl=new Map,Ol=new Map,is=[],nw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lv(t,i){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function Dl(t,i,a,o,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},i!==null&&(i=Er(i),i!==null&&Iv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function iw(t,i,a,o,f){switch(i){case"focusin":return es=Dl(es,t,i,a,o,f),!0;case"dragenter":return ts=Dl(ts,t,i,a,o,f),!0;case"mouseover":return ns=Dl(ns,t,i,a,o,f),!0;case"pointerover":var h=f.pointerId;return Rl.set(h,Dl(Rl.get(h)||null,t,i,a,o,f)),!0;case"gotpointercapture":return h=f.pointerId,Ol.set(h,Dl(Ol.get(h)||null,t,i,a,o,f)),!0}return!1}function Uv(t){var i=Tr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=c(a),i!==null){t.blockedOn=i,Zm(t.priority,function(){kv(a)});return}}else if(i===31){if(i=d(a),i!==null){t.blockedOn=i,Zm(t.priority,function(){kv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=gd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);yf=o,a.target.dispatchEvent(o),yf=null}else return i=Er(a),i!==null&&Iv(i),t.blockedOn=a,!1;i.shift()}return!0}function Pv(t,i,a){ju(t)&&a.delete(i)}function sw(){vd=!1,es!==null&&ju(es)&&(es=null),ts!==null&&ju(ts)&&(ts=null),ns!==null&&ju(ns)&&(ns=null),Rl.forEach(Pv),Ol.forEach(Pv)}function Gu(t,i){t.blockedOn===i&&(t.blockedOn=null,vd||(vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sw)))}var Vu=null;function Hv(t){Vu!==t&&(Vu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vu===t&&(Vu=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(yd(o||a)===null)continue;break}var h=Er(a);h!==null&&(t.splice(i,3),i-=3,gh(h,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function sa(t){function i(E){return Gu(E,t)}es!==null&&Gu(es,t),ts!==null&&Gu(ts,t),ns!==null&&Gu(ns,t),Rl.forEach(i),Ol.forEach(i);for(var a=0;a<is.length;a++){var o=is[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)Uv(a),a.blockedOn===null&&is.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],h=a[o+1],g=f[Ut]||null;if(typeof h=="function")g||Hv(a);else if(g){var S=null;if(h&&h.hasAttribute("formAction")){if(f=h,g=h[Ut]||null)S=g.formAction;else if(yd(f)!==null)continue}else S=g.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),Hv(a)}}}function Bv(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return f=g})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Sd(t){this._internalRoot=t}qu.prototype.render=Sd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=on();Dv(a,o,t,i,null,null)},qu.prototype.unmount=Sd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Dv(t.current,2,null,t,null,null),Cu(),i[br]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var i=Wm();t={blockedOn:null,target:t,priority:i};for(var a=0;a<is.length&&i!==0&&i<is[a].priority;a++);is.splice(a,0,t),a===0&&Uv(t)}};var jv=e.version;if(jv!=="19.2.3")throw Error(s(527,jv,"19.2.3"));G.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var rw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{Ba=Yu.inject(rw),$t=Yu}catch{}}return Il.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",f=Qg,h=Kg,g=Wg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(h=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=Rv(t,1,!1,null,null,a,o,null,f,h,g,Bv),t[br]=i.current,td(t),new Sd(i)},Il.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,f="",h=Qg,g=Kg,S=Wg,E=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(E=a.formState)),i=Rv(t,1,!0,i,a??null,o,f,E,h,g,S,Bv),i.context=Ov(null),a=i.current,o=on(),o=cf(o),f=Gi(o),f.callback=null,Vi(a,f,o),a=o,i.current.lanes=a,Ga(i,a),Gn(i),t[br]=i.current,td(t),new qu(i)},Il.version="19.2.3",Il}var Zv;function pw(){if(Zv)return Ed.exports;Zv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ed.exports=mw(),Ed.exports}var gw=pw();const yw=()=>{};var Jv={};const x1={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const J=function(r,e){if(!r)throw Ma(e)},Ma=function(r){return new Error("Firebase Database ("+x1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+r)};const R1=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},vw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],c=r[n++],d=r[n++],_=((l&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(_>>10)),e[s++]=String.fromCharCode(56320+(_&1023))}else{const u=r[n++],c=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|c&63)}}return e.join("")},I_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],c=l+1<r.length,d=c?r[l+1]:0,_=l+2<r.length,m=_?r[l+2]:0,p=u>>2,y=(u&3)<<4|d>>4;let v=(d&15)<<2|m>>6,T=m&63;_||(T=64,c||(v=64)),s.push(n[p],n[y],n[v],n[T])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(R1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],d=l<r.length?n[r.charAt(l)]:0;++l;const m=l<r.length?n[r.charAt(l)]:64;++l;const y=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||d==null||m==null||y==null)throw new Sw;const v=u<<2|d>>4;if(s.push(v),m!==64){const T=d<<4&240|m>>2;if(s.push(T),y!==64){const C=m<<6&192|y;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Sw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O1=function(r){const e=R1(r);return I_.encodeByteArray(e,!0)},rc=function(r){return O1(r).replace(/\./g,"")},ac=function(r){try{return I_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bw(r){return D1(void 0,r)}function D1(r,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:r===void 0&&(r={});break;case Array:r=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Tw(n)||(r[n]=D1(r[n],e[n]));return r}function Tw(r){return r!=="__proto__"}function Ew(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Cw=()=>Ew().__FIREBASE_DEFAULTS__,ww=()=>{if(typeof process>"u"||typeof Jv>"u")return;const r=Jv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Aw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ac(r[1]);return e&&JSON.parse(e)},k_=()=>{try{return yw()||Cw()||ww()||Aw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},M1=r=>k_()?.emulatorHosts?.[r],Nw=r=>{const e=M1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},I1=()=>k_()?.config,k1=r=>k_()?.[`_${r}`];class bi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ia(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z1(r){return(await fetch(r,{credentials:"include"})).ok}function xw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[rc(JSON.stringify(n)),rc(JSON.stringify(c)),""].join(".")}const Gl={};function Rw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function Ow(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let $v=!1;function L1(r,e){if(typeof window>"u"||typeof document>"u"||!Ia(window.location.host)||Gl[r]===e||Gl[r]||$v)return;Gl[r]=e;function n(v){return`__firebase__banner__${v}`}const s="__firebase__banner",u=Rw().prod.length>0;function c(){const v=document.getElementById(s);v&&v.remove()}function d(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function _(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function m(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{$v=!0,c()},v}function p(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=Ow(s),T=n("text"),C=document.getElementById(T)||document.createElement("span"),b=n("learnmore"),R=document.getElementById(b)||document.createElement("a"),I=n("preprendIcon"),P=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const D=v.element;d(D),p(R,b);const L=m();_(P,I),D.append(P,C,R,L),document.body.appendChild(D)}u?(C.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function Dw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Mw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function U1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Iw(){const r=Lt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function kw(){return x1.NODE_ADMIN===!0}function zw(){try{return typeof indexedDB=="object"}catch{return!1}}function Lw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const Uw="FirebaseError";class xs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Uw,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yo.prototype.create)}}class yo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],c=u?Pw(u,s):"Error",d=`${this.serviceName}: ${c} (${l}).`;return new xs(l,d,s)}}function Pw(r,e){return r.replace(Hw,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Hw=/\{\$([^}]+)}/g;function Jl(r){return JSON.parse(r)}function _t(r){return JSON.stringify(r)}const P1=function(r){let e={},n={},s={},l="";try{const u=r.split(".");e=Jl(ac(u[0])||""),n=Jl(ac(u[1])||""),l=u[2],s=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:s,signature:l}},Bw=function(r){const e=P1(r),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},jw=function(r){const e=P1(r).claims;return typeof e=="object"&&e.admin===!0};function Jn(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function va(r,e){if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}function lc(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function oc(r,e,n){const s={};for(const l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=e.call(n,r[l],l,r));return s}function ur(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],c=e[l];if(e0(u)&&e0(c)){if(!ur(u,c))return!1}else if(u!==c)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function e0(r){return r!==null&&typeof r=="object"}function ka(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}class Gw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)s[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const v=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(v<<1|v>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],c=this.chain_[2],d=this.chain_[3],_=this.chain_[4],m,p;for(let y=0;y<80;y++){y<40?y<20?(m=d^u&(c^d),p=1518500249):(m=u^c^d,p=1859775393):y<60?(m=u&c|d&(u|c),p=2400959708):(m=u^c^d,p=3395469782);const v=(l<<5|l>>>27)+m+_+p+s[y]&4294967295;_=d,d=c,c=(u<<30|u>>>2)&4294967295,u=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+_&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const s=n-this.blockSize;let l=0;const u=this.buf_;let c=this.inbuf_;for(;l<n;){if(c===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<n;)if(u[c]=e.charCodeAt(l),++c,++l,c===this.blockSize){this.compress_(u),c=0;break}}else for(;l<n;)if(u[c]=e[l],++c,++l,c===this.blockSize){this.compress_(u),c=0;break}}this.inbuf_=c,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=n&255,n/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[s]=this.chain_[l]>>u&255,++s;return e}}function Vw(r,e){const n=new qw(r,e);return n.subscribe.bind(n)}class qw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Yw(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=Nd),l.error===void 0&&(l.error=Nd),l.complete===void 0&&(l.complete=Nd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Nd(){}function Sa(r,e){return`${r} failed: ${e} argument `}const Fw=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);if(l>=55296&&l<=56319){const u=l-55296;s++,J(s<r.length,"Surrogate pair missing trail surrogate.");const c=r.charCodeAt(s)-56320;l=65536+(u<<10)+c}l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):l<65536?(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Uc=function(r){let e=0;for(let n=0;n<r.length;n++){const s=r.charCodeAt(n);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,n++):e+=3}return e};function Zt(r){return r&&r._delegate?r._delegate:r}class cr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $s="[DEFAULT]";class Xw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new bi;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Kw(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Qw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qw(r){return r===$s?void 0:r}function Kw(r){return r.instantiationMode==="EAGER"}class Ww{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var He;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(He||(He={}));const Zw={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},Jw=He.INFO,$w={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},eA=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=$w[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class L_{constructor(e){this.name=e,this._logLevel=Jw,this._logHandler=eA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const tA=(r,e)=>e.some(n=>r instanceof n);let t0,n0;function nA(){return t0||(t0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iA(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H1=new WeakMap,Wd=new WeakMap,B1=new WeakMap,xd=new WeakMap,U_=new WeakMap;function sA(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",c)},u=()=>{n(ds(r.result)),l()},c=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&H1.set(n,r)}).catch(()=>{}),U_.set(e,r),e}function rA(r){if(Wd.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",c),r.removeEventListener("abort",c)},u=()=>{n(),l()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",c),r.addEventListener("abort",c)});Wd.set(r,e)}let Zd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Wd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||B1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function aA(r){Zd=r(Zd)}function lA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Rd(this),e,...n);return B1.set(s,e.sort?e.sort():[e]),ds(s)}:iA().includes(r)?function(...e){return r.apply(Rd(this),e),ds(H1.get(this))}:function(...e){return ds(r.apply(Rd(this),e))}}function oA(r){return typeof r=="function"?lA(r):(r instanceof IDBTransaction&&rA(r),tA(r,nA())?new Proxy(r,Zd):r)}function ds(r){if(r instanceof IDBRequest)return sA(r);if(xd.has(r))return xd.get(r);const e=oA(r);return e!==r&&(xd.set(r,e),U_.set(e,r)),e}const Rd=r=>U_.get(r);function uA(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const c=indexedDB.open(r,e),d=ds(c);return s&&c.addEventListener("upgradeneeded",_=>{s(ds(c.result),_.oldVersion,_.newVersion,ds(c.transaction),_)}),n&&c.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),d.then(_=>{u&&_.addEventListener("close",()=>u()),l&&_.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const cA=["get","getKey","getAll","getAllKeys","count"],fA=["put","add","delete","clear"],Od=new Map;function i0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Od.get(e))return Od.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=fA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||cA.includes(n)))return;const u=async function(c,...d){const _=this.transaction(c,l?"readwrite":"readonly");let m=_.store;return s&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),l&&_.done]))[0]};return Od.set(e,u),u}aA(r=>({...r,get:(e,n,s)=>i0(e,n)||r.get(e,n,s),has:(e,n)=>!!i0(e,n)||r.has(e,n)}));class hA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dA(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",s0="0.14.6";const Ai=new L_("@firebase/app"),_A="@firebase/app-compat",mA="@firebase/analytics-compat",pA="@firebase/analytics",gA="@firebase/app-check-compat",yA="@firebase/app-check",vA="@firebase/auth",SA="@firebase/auth-compat",bA="@firebase/database",TA="@firebase/data-connect",EA="@firebase/database-compat",CA="@firebase/functions",wA="@firebase/functions-compat",AA="@firebase/installations",NA="@firebase/installations-compat",xA="@firebase/messaging",RA="@firebase/messaging-compat",OA="@firebase/performance",DA="@firebase/performance-compat",MA="@firebase/remote-config",IA="@firebase/remote-config-compat",kA="@firebase/storage",zA="@firebase/storage-compat",LA="@firebase/firestore",UA="@firebase/ai",PA="@firebase/firestore-compat",HA="firebase",BA="12.6.0";const $d="[DEFAULT]",jA={[Jd]:"fire-core",[_A]:"fire-core-compat",[pA]:"fire-analytics",[mA]:"fire-analytics-compat",[yA]:"fire-app-check",[gA]:"fire-app-check-compat",[vA]:"fire-auth",[SA]:"fire-auth-compat",[bA]:"fire-rtdb",[TA]:"fire-data-connect",[EA]:"fire-rtdb-compat",[CA]:"fire-fn",[wA]:"fire-fn-compat",[AA]:"fire-iid",[NA]:"fire-iid-compat",[xA]:"fire-fcm",[RA]:"fire-fcm-compat",[OA]:"fire-perf",[DA]:"fire-perf-compat",[MA]:"fire-rc",[IA]:"fire-rc-compat",[kA]:"fire-gcs",[zA]:"fire-gcs-compat",[LA]:"fire-fst",[PA]:"fire-fst-compat",[UA]:"fire-vertex","fire-js":"fire-js",[HA]:"fire-js-all"};const uc=new Map,GA=new Map,e_=new Map;function r0(r,e){try{r.container.addComponent(e)}catch(n){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ba(r){const e=r.name;if(e_.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;e_.set(e,r);for(const n of uc.values())r0(n,r);for(const n of GA.values())r0(n,r);return!0}function P_(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function kn(r){return r==null?!1:r.settings!==void 0}const VA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new yo("app","Firebase",VA);class qA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}const za=BA;function j1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:$d,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw _s.create("bad-app-name",{appName:String(l)});if(n||(n=I1()),!n)throw _s.create("no-options");const u=uc.get(l);if(u){if(ur(n,u.options)&&ur(s,u.config))return u;throw _s.create("duplicate-app",{appName:l})}const c=new Ww(l);for(const _ of e_.values())c.addComponent(_);const d=new qA(n,s,c);return uc.set(l,d),d}function G1(r=$d){const e=uc.get(r);if(!e&&r===$d&&I1())return j1();if(!e)throw _s.create("no-app",{appName:r});return e}function ms(r,e,n){let s=jA[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const c=[`Unable to register library "${s}" with version "${e}":`];l&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(c.join(" "));return}ba(new cr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const YA="firebase-heartbeat-database",FA=1,$l="firebase-heartbeat-store";let Dd=null;function V1(){return Dd||(Dd=uA(YA,FA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(r=>{throw _s.create("idb-open",{originalErrorMessage:r.message})})),Dd}async function XA(r){try{const n=(await V1()).transaction($l),s=await n.objectStore($l).get(q1(r));return await n.done,s}catch(e){if(e instanceof xs)Ai.warn(e.message);else{const n=_s.create("idb-get",{originalErrorMessage:e?.message});Ai.warn(n.message)}}}async function a0(r,e){try{const s=(await V1()).transaction($l,"readwrite");await s.objectStore($l).put(e,q1(r)),await s.done}catch(n){if(n instanceof xs)Ai.warn(n.message);else{const s=_s.create("idb-set",{originalErrorMessage:n?.message});Ai.warn(s.message)}}}function q1(r){return`${r.name}!${r.options.appId}`}const QA=1024,KA=30;class WA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=l0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>KA){const l=$A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ai.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=l0(),{heartbeatsToSend:n,unsentEntries:s}=ZA(this._heartbeatsCache.heartbeats),l=rc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ai.warn(e),""}}}function l0(){return new Date().toISOString().substring(0,10)}function ZA(r,e=QA){const n=[];let s=r.slice();for(const l of r){const u=n.find(c=>c.agent===l.agent);if(u){if(u.dates.push(l.date),o0(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),o0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class JA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zw()?Lw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XA(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return a0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function o0(r){return rc(JSON.stringify({version:2,heartbeats:r})).length}function $A(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function eN(r){ba(new cr("platform-logger",e=>new hA(e),"PRIVATE")),ba(new cr("heartbeat",e=>new WA(e),"PRIVATE")),ms(Jd,s0,r),ms(Jd,s0,"esm2020"),ms("fire-js","")}eN("");var tN="firebase",nN="12.7.0";ms(tN,nN,"app");var u0={};const c0="@firebase/database",f0="1.1.0";let Y1="";function iN(r){Y1=r}class sN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_t(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Jl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class rN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Jn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const F1=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const e=window[r];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new sN(e)}}catch{}return new rN},nr=F1("localStorage"),aN=F1("sessionStorage");const fa=new L_("@firebase/database"),lN=(function(){let r=1;return function(){return r++}})(),X1=function(r){const e=Fw(r),n=new Gw;n.update(e);const s=n.digest();return I_.encodeByteArray(s)},vo=function(...r){let e="";for(let n=0;n<r.length;n++){const s=r[n];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=vo.apply(null,s):typeof s=="object"?e+=_t(s):e+=s,e+=" "}return e};let Vl=null,h0=!0;const oN=function(r,e){J(!0,"Can't turn on custom loggers persistently."),fa.logLevel=He.VERBOSE,Vl=fa.log.bind(fa)},At=function(...r){if(h0===!0&&(h0=!1,Vl===null&&aN.get("logging_enabled")===!0&&oN()),Vl){const e=vo.apply(null,r);Vl(e)}},So=function(r){return function(...e){At(r,...e)}},t_=function(...r){const e="FIREBASE INTERNAL ERROR: "+vo(...r);fa.error(e)},Ni=function(...r){const e=`FIREBASE FATAL ERROR: ${vo(...r)}`;throw fa.error(e),new Error(e)},Yt=function(...r){const e="FIREBASE WARNING: "+vo(...r);fa.warn(e)},uN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Pc=function(r){return typeof r=="number"&&(r!==r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},cN=function(r){if(document.readyState==="complete")r();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,r())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ta="[MIN_NAME]",fr="[MAX_NAME]",mr=function(r,e){if(r===e)return 0;if(r===Ta||e===fr)return-1;if(e===Ta||r===fr)return 1;{const n=d0(r),s=d0(e);return n!==null?s!==null?n-s===0?r.length-e.length:n-s:-1:s!==null?1:r<e?-1:1}},fN=function(r,e){return r===e?0:r<e?-1:1},kl=function(r,e){if(e&&r in e)return e[r];throw new Error("Missing required key ("+r+") in object: "+_t(e))},H_=function(r){if(typeof r!="object"||r===null)return _t(r);const e=[];for(const s in r)e.push(s);e.sort();let n="{";for(let s=0;s<e.length;s++)s!==0&&(n+=","),n+=_t(e[s]),n+=":",n+=H_(r[e[s]]);return n+="}",n},Q1=function(r,e){const n=r.length;if(n<=e)return[r];const s=[];for(let l=0;l<n;l+=e)l+e>n?s.push(r.substring(l,n)):s.push(r.substring(l,l+e));return s};function Mt(r,e){for(const n in r)r.hasOwnProperty(n)&&e(n,r[n])}const K1=function(r){J(!Pc(r),"Invalid JSON number");const e=11,n=52,s=(1<<e-1)-1;let l,u,c,d,_;r===0?(u=0,c=0,l=1/r===-1/0?1:0):(l=r<0,r=Math.abs(r),r>=Math.pow(2,1-s)?(d=Math.min(Math.floor(Math.log(r)/Math.LN2),s),u=d+s,c=Math.round(r*Math.pow(2,n-d)-Math.pow(2,n))):(u=0,c=Math.round(r/Math.pow(2,1-s-n))));const m=[];for(_=n;_;_-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(_=e;_;_-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const p=m.join("");let y="";for(_=0;_<64;_+=8){let v=parseInt(p.substr(_,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},hN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},dN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function _N(r,e){let n="Unknown Error";r==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":r==="permission_denied"?n="Client doesn't have permission to access the desired data.":r==="unavailable"&&(n="The service is unavailable");const s=new Error(r+" at "+e._path.toString()+": "+n);return s.code=r.toUpperCase(),s}const mN=new RegExp("^-?(0*)\\d{1,10}$"),pN=-2147483648,gN=2147483647,d0=function(r){if(mN.test(r)){const e=Number(r);if(e>=pN&&e<=gN)return e}return null},La=function(r){try{r()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Yt("Exception was thrown by user callback.",n),e},Math.floor(0))}},yN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ql=function(r,e){const n=setTimeout(r,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};class vN{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,kn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class SN{constructor(e,n,s){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(At("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,s):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yt(e)}}class Zu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Zu.OWNER="owner";const B_="5",W1="v",Z1="s",J1="r",$1="f",eS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tS="ls",nS="p",n_="ac",iS="websocket",sS="long_polling";class rS{constructor(e,n,s,l,u=!1,c="",d=!1,_=!1,m=null){this.secure=n,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=_,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&nr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function bN(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams}function aS(r,e,n){J(typeof e=="string","typeof type must == string"),J(typeof n=="object","typeof params must == object");let s;if(e===iS)s=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else if(e===sS)s=(r.secure?"https://":"http://")+r.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);bN(r)&&(n.ns=r.namespace);const l=[];return Mt(n,(u,c)=>{l.push(u+"="+c)}),s+l.join("&")}class TN{constructor(){this.counters_={}}incrementCounter(e,n=1){Jn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return bw(this.counters_)}}const Md={},Id={};function j_(r){const e=r.toString();return Md[e]||(Md[e]=new TN),Md[e]}function EN(r,e){const n=r.toString();return Id[n]||(Id[n]=e()),Id[n]}class CN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&La(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const _0="start",wN="close",AN="pLPCommand",NN="pRTLPCB",lS="id",oS="pw",uS="ser",xN="cb",RN="seg",ON="ts",DN="d",MN="dframe",cS=1870,fS=30,IN=cS-fS,kN=25e3,zN=3e4;class la{constructor(e,n,s,l,u,c,d){this.connId=e,this.repoInfo=n,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=So(e),this.stats_=j_(n),this.urlFn=_=>(this.appCheckToken&&(_[n_]=this.appCheckToken),aS(n,sS,_))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new CN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(zN)),cN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new G_((...u)=>{const[c,d,_,m,p]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===_0)this.id=d,this.password=_;else if(c===wN)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...u)=>{const[c,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const s={};s[_0]="t",s[uS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[xN]=this.scriptTagHolder.uniqueCallbackIdentifier),s[W1]=B_,this.transportSessionId&&(s[Z1]=this.transportSessionId),this.lastSessionId&&(s[tS]=this.lastSessionId),this.applicationId&&(s[nS]=this.applicationId),this.appCheckToken&&(s[n_]=this.appCheckToken),typeof location<"u"&&location.hostname&&eS.test(location.hostname)&&(s[J1]=$1);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){la.forceAllow_=!0}static forceDisallow(){la.forceDisallow_=!0}static isAvailable(){return la.forceAllow_?!0:!la.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!hN()&&!dN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=_t(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=O1(n),l=Q1(s,IN);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const s={};s[MN]="t",s[lS]=e,s[oS]=n,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=_t(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class G_{constructor(e,n,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=lN(),window[AN+this.uniqueCallbackIdentifier]=e,window[NN+this.uniqueCallbackIdentifier]=n,this.myIFrame=G_.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){At("frame writing exception"),d.stack&&At(d.stack),At(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||At("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lS]=this.myID,e[oS]=this.myPW,e[uS]=this.currentSerial;let n=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fS+s.length<=cS;){const c=this.pendingSegs.shift();s=s+"&"+RN+l+"="+c.seg+"&"+ON+l+"="+c.ts+"&"+DN+l+"="+c.d,l++}return n=n+s,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,s){this.pendingSegs.push({seg:e,ts:n,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const s=()=>{this.outstandingRequests.delete(n),this.newRequest_()},l=setTimeout(s,Math.floor(kN)),u=()=>{clearTimeout(l),s()};this.addTag(e,u)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),n())},s.onerror=()=>{At("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}const LN=16384,UN=45e3;let cc=null;typeof MozWebSocket<"u"?cc=MozWebSocket:typeof WebSocket<"u"&&(cc=WebSocket);class zn{constructor(e,n,s,l,u,c,d){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=So(this.connId),this.stats_=j_(n),this.connURL=zn.connectionURL_(n,c,d,l,s),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,s,l,u){const c={};return c[W1]=B_,typeof location<"u"&&location.hostname&&eS.test(location.hostname)&&(c[J1]=$1),n&&(c[Z1]=n),s&&(c[tS]=s),l&&(c[n_]=l),u&&(c[nS]=u),aS(e,iS,c)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nr.set("previous_websocket_failure",!0);try{let s;kw(),this.mySock=new cc(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){zn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(n);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&cc!==null&&!zn.forceDisallow_}static previouslyFailed(){return nr.isInMemoryStorage||nr.get("previous_websocket_failure")===!0}markConnectionHealthy(){nr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const s=Jl(n);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(J(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const s=this.extractFrameCount_(n);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const n=_t(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const s=Q1(n,LN);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(UN))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zn.responsesRequiredToBeHealthy=2;zn.healthyTimeout=3e4;class eo{static get ALL_TRANSPORTS(){return[la,zn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=zn&&zn.isAvailable();let s=n&&!zn.previouslyFailed();if(e.webSocketOnly&&(n||Yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[zn];else{const l=this.transports_=[];for(const u of eo.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);eo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}eo.globalTransportInitialized_=!1;const PN=6e4,HN=5e3,BN=10*1024,jN=100*1024,kd="t",m0="d",GN="s",p0="r",VN="e",g0="o",y0="a",v0="n",S0="p",qN="h";class YN{constructor(e,n,s,l,u,c,d,_,m,p){this.id=e,this.repoInfo_=n,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=_,this.onKill_=m,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=So("c:"+this.id+":"),this.transportManager_=new eo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=ql(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jN?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BN?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(kd in e){const n=e[kd];n===y0?this.upgradeIfSecondaryHealthy_():n===p0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===g0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=kl("t",e),s=kl("d",e);if(n==="c")this.onSecondaryControl_(s);else if(n==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:S0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:y0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:v0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=kl("t",e),s=kl("d",e);n==="c"?this.onControl_(s):n==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=kl(kd,e);if(m0 in e){const s=e[m0];if(n===qN){const l={...s};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(n===v0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===GN?this.onConnectionShutdown_(s):n===p0?this.onReset_(s):n===VN?t_("Server Error: "+s):n===g0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):t_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),B_!==s&&Yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,s),ql(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(PN))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ql(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HN))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:S0,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class hS{put(e,n,s,l){}merge(e,n,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,s){}onDisconnectMerge(e,n,s){}onDisconnectCancel(e,n){}reportStats(e){}}class dS{constructor(e){this.allowedEvents_=e,this.listeners_={},J(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,n)}}on(e,n,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:s});const l=this.getInitialEvent(e);l&&n.apply(s,l)}off(e,n,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===n&&(!s||s===l[u].context)){l.splice(u,1);return}}validateEventType_(e){J(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class fc extends dS{static getInstance(){return new fc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!z_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return J(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const b0=32,T0=768;class ze{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Oe(){return new ze("")}function ye(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function bs(r){return r.pieces_.length-r.pieceNum_}function Ve(r){let e=r.pieceNum_;return e<r.pieces_.length&&e++,new ze(r.pieces_,e)}function V_(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function FN(r){let e="";for(let n=r.pieceNum_;n<r.pieces_.length;n++)r.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(r.pieces_[n])));return e||"/"}function to(r,e=0){return r.pieces_.slice(r.pieceNum_+e)}function _S(r){if(r.pieceNum_>=r.pieces_.length)return null;const e=[];for(let n=r.pieceNum_;n<r.pieces_.length-1;n++)e.push(r.pieces_[n]);return new ze(e,0)}function lt(r,e){const n=[];for(let s=r.pieceNum_;s<r.pieces_.length;s++)n.push(r.pieces_[s]);if(e instanceof ze)for(let s=e.pieceNum_;s<e.pieces_.length;s++)n.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&n.push(s[l])}return new ze(n,0)}function ve(r){return r.pieceNum_>=r.pieces_.length}function zt(r,e){const n=ye(r),s=ye(e);if(n===null)return e;if(n===s)return zt(Ve(r),Ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+r+")")}function XN(r,e){const n=to(r,0),s=to(e,0);for(let l=0;l<n.length&&l<s.length;l++){const u=mr(n[l],s[l]);if(u!==0)return u}return n.length===s.length?0:n.length<s.length?-1:1}function q_(r,e){if(bs(r)!==bs(e))return!1;for(let n=r.pieceNum_,s=e.pieceNum_;n<=r.pieces_.length;n++,s++)if(r.pieces_[n]!==e.pieces_[s])return!1;return!0}function xn(r,e){let n=r.pieceNum_,s=e.pieceNum_;if(bs(r)>bs(e))return!1;for(;n<r.pieces_.length;){if(r.pieces_[n]!==e.pieces_[s])return!1;++n,++s}return!0}class QN{constructor(e,n){this.errorPrefix_=n,this.parts_=to(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Uc(this.parts_[s]);mS(this)}}function KN(r,e){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(e),r.byteLength_+=Uc(e),mS(r)}function WN(r){const e=r.parts_.pop();r.byteLength_-=Uc(e),r.parts_.length>0&&(r.byteLength_-=1)}function mS(r){if(r.byteLength_>T0)throw new Error(r.errorPrefix_+"has a key path longer than "+T0+" bytes ("+r.byteLength_+").");if(r.parts_.length>b0)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+b0+") or object contains a cycle "+er(r))}function er(r){return r.parts_.length===0?"":"in property '"+r.parts_.join(".")+"'"}class Y_ extends dS{static getInstance(){return new Y_}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return J(e==="visible","Unknown event type: "+e),[this.visible_]}}const zl=1e3,ZN=300*1e3,E0=30*1e3,JN=1.3,$N=3e4,ex="server_kill",C0=3;class wi extends hS{constructor(e,n,s,l,u,c,d,_){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=c,this.appCheckTokenProvider_=d,this.authOverride_=_,this.id=wi.nextPersistentConnectionId_++,this.log_=So("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=zl,this.maxReconnectDelay_=ZN,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Y_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&fc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,s){const l=++this.requestNumber_,u={r:l,a:e,b:n};this.log_(_t(u)),J(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const n=new bi,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const d=c.d;c.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),n.promise}listen(e,n,s,l){this.initConnection_();const u=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+u),this.listens.has(c)||this.listens.set(c,new Map),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),J(!this.listens.get(c).has(u),"listen() called twice for same path/queryId.");const d={onComplete:l,hashFn:n,query:e,tag:s};this.listens.get(c).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(s)})}sendListen_(e){const n=e.query,s=n._path.toString(),l=n._queryIdentifier;this.log_("Listen on "+s+" for "+l);const u={p:s},c="q";e.tag&&(u.q=n._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(c,u,d=>{const _=d.d,m=d.s;wi.warnOnListenWarnings_(_,n),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(m,_))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Jn(e,"w")){const s=va(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+n._queryParams.getIndex().toString()+'"',u=n._path.toString();Yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||jw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=E0)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Bw(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(n,s,l=>{const u=l.s,c=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,s=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,s)})}unlisten(e,n){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,n)}sendUnlisten_(e,n,s,l){this.log_("Unlisten on "+e+" for "+n);const u={p:e},c="n";l&&(u.q=s,u.t=l),this.sendRequest(c,u)}onDisconnectPut(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:s})}onDisconnectMerge(e,n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:s})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,s,l){const u={p:n,d:s};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,c=>{l&&setTimeout(()=>{l(c.s,c.d)},Math.floor(0))})}put(e,n,s,l){this.putInternal("p",e,n,s,l)}merge(e,n,s,l){this.putInternal("m",e,n,s,l)}putInternal(e,n,s,l,u){this.initConnection_();const c={p:n,d:s};u!==void 0&&(c.h=u),this.outstandingPuts_.push({action:e,request:c,onComplete:l}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,s,u=>{this.log_(n+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+_t(e));const n=e.r,s=this.requestCBHash_[n];s&&(delete this.requestCBHash_[n],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):t_("Unrecognized action received from server: "+_t(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){J(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>$N&&(this.reconnectDelay_=zl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*JN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+wi.nextConnectionId_++,u=this.lastSessionId;let c=!1,d=null;const _=function(){d?d.close():(c=!0,s())},m=function(y){J(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(y)};this.realtime_={close:_,sendRequest:m};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);c?At("getToken() completed but was canceled"):(At("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,d=new YN(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,s,T=>{Yt(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(ex)},u))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&Yt(y),_())}}}interrupt(e){At("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){At("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lc(this.interruptReasons_)&&(this.reconnectDelay_=zl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let s;n?s=n.map(u=>H_(u)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,n){const s=new ze(e).toString();let l;if(this.listens.has(s)){const u=this.listens.get(s);l=u.get(n),u.delete(n),u.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,n){At("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=C0&&(this.reconnectDelay_=E0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){At("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=C0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Y1.replace(/\./g,"-")]=1,z_()?e["framework.cordova"]=1:U1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=fc.getInstance().currentlyOnline();return lc(this.interruptReasons_)&&e}}wi.nextPersistentConnectionId_=0;wi.nextConnectionId_=0;class Se{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Se(e,n)}}class Hc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const s=new Se(Ta,e),l=new Se(Ta,n);return this.compare(s,l)!==0}minPost(){return Se.MIN}}let Fu;class pS extends Hc{static get __EMPTY_NODE(){return Fu}static set __EMPTY_NODE(e){Fu=e}compare(e,n){return mr(e.name,n.name)}isDefinedOn(e){throw Ma("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Se.MIN}maxPost(){return new Se(fr,Fu)}makePost(e,n){return J(typeof e=="string","KeyIndex indexValue must always be a string."),new Se(e,Fu)}toString(){return".key"}}const ha=new pS;class Xu{constructor(e,n,s,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=n?s(e.key,n):1,l&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class yt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??yt.RED,this.left=l??qt.EMPTY_NODE,this.right=u??qt.EMPTY_NODE}copy(e,n,s,l,u){return new yt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l=l.copy(null,n,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return qt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let s,l;if(s=this,n(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),n(e,s.key)===0){if(s.right.isEmpty())return qt.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}yt.RED=!0;yt.BLACK=!1;class tx{copy(e,n,s,l,u){return this}insert(e,n,s){return new yt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class qt{constructor(e,n=qt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new qt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,yt.BLACK,null,null))}remove(e){return new qt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,yt.BLACK,null,null))}get(e){let n,s=this.root_;for(;!s.isEmpty();){if(n=this.comparator_(e,s.key),n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}getPredecessorKey(e){let n,s=this.root_,l=null;for(;!s.isEmpty();)if(n=this.comparator_(e,s.key),n===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else n<0?s=s.left:n>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Xu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Xu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Xu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Xu(this.root_,null,this.comparator_,!0,e)}}qt.EMPTY_NODE=new tx;function nx(r,e){return mr(r.name,e.name)}function F_(r,e){return mr(r,e)}let i_;function ix(r){i_=r}const gS=function(r){return typeof r=="number"?"number:"+K1(r):"string:"+r},yS=function(r){if(r.isLeafNode()){const e=r.val();J(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Jn(e,".sv"),"Priority must be a string or number.")}else J(r===i_||r.isEmpty(),"priority of unexpected type.");J(r===i_||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let w0;class gt{static set __childrenNodeConstructor(e){w0=e}static get __childrenNodeConstructor(){return w0}constructor(e,n=gt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,J(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),yS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new gt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:gt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ve(e)?this:ye(e)===".priority"?this.priorityNode_:gt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:gt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const s=ye(e);return s===null?n:n.isEmpty()&&s!==".priority"?this:(J(s!==".priority"||bs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,gt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ve(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+gS(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=K1(this.value_):e+=this.value_,this.lazyHash_=X1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===gt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof gt.__childrenNodeConstructor?-1:(J(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,s=typeof this.value_,l=gt.VALUE_TYPE_ORDER.indexOf(n),u=gt.VALUE_TYPE_ORDER.indexOf(s);return J(l>=0,"Unknown leaf type: "+n),J(u>=0,"Unknown leaf type: "+s),l===u?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}gt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let vS,SS;function sx(r){vS=r}function rx(r){SS=r}class ax extends Hc{compare(e,n){const s=e.node.getPriority(),l=n.node.getPriority(),u=s.compareTo(l);return u===0?mr(e.name,n.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Se.MIN}maxPost(){return new Se(fr,new gt("[PRIORITY-POST]",SS))}makePost(e,n){const s=vS(e);return new Se(n,new gt("[PRIORITY-POST]",s))}toString(){return".priority"}}const $e=new ax;const lx=Math.log(2);class ox{constructor(e){const n=u=>parseInt(Math.log(u)/lx,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const hc=function(r,e,n,s){r.sort(e);const l=function(_,m){const p=m-_;let y,v;if(p===0)return null;if(p===1)return y=r[_],v=n?n(y):y,new yt(v,y.node,yt.BLACK,null,null);{const T=parseInt(p/2,10)+_,C=l(_,T),b=l(T+1,m);return y=r[T],v=n?n(y):y,new yt(v,y.node,yt.BLACK,C,b)}},u=function(_){let m=null,p=null,y=r.length;const v=function(C,b){const R=y-C,I=y;y-=C;const P=l(R+1,I),D=r[R],L=n?n(D):D;T(new yt(L,D.node,b,null,P))},T=function(C){m?(m.left=C,m=C):(p=C,m=C)};for(let C=0;C<_.count;++C){const b=_.nextBitIsOne(),R=Math.pow(2,_.count-(C+1));b?v(R,yt.BLACK):(v(R,yt.BLACK),v(R,yt.RED))}return p},c=new ox(r.length),d=u(c);return new qt(s||e,d)};let zd;const ra={};class Ti{static get Default(){return J(ra&&$e,"ChildrenNode.ts has not been loaded"),zd=zd||new Ti({".priority":ra},{".priority":$e}),zd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=va(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof qt?n:null}hasIndex(e){return Jn(this.indexSet_,e.toString())}addIndex(e,n){J(e!==ha,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const u=n.getIterator(Se.Wrap);let c=u.getNext();for(;c;)l=l||e.isDefinedOn(c.node),s.push(c),c=u.getNext();let d;l?d=hc(s,e.getCompare()):d=ra;const _=e.toString(),m={...this.indexSet_};m[_]=e;const p={...this.indexes_};return p[_]=d,new Ti(p,m)}addToIndexes(e,n){const s=oc(this.indexes_,(l,u)=>{const c=va(this.indexSet_,u);if(J(c,"Missing index implementation for "+u),l===ra)if(c.isDefinedOn(e.node)){const d=[],_=n.getIterator(Se.Wrap);let m=_.getNext();for(;m;)m.name!==e.name&&d.push(m),m=_.getNext();return d.push(e),hc(d,c.getCompare())}else return ra;else{const d=n.get(e.name);let _=l;return d&&(_=_.remove(new Se(e.name,d))),_.insert(e,e.node)}});return new Ti(s,this.indexSet_)}removeFromIndexes(e,n){const s=oc(this.indexes_,l=>{if(l===ra)return l;{const u=n.get(e.name);return u?l.remove(new Se(e.name,u)):l}});return new Ti(s,this.indexSet_)}}let Ll;class fe{static get EMPTY_NODE(){return Ll||(Ll=new fe(new qt(F_),null,Ti.Default))}constructor(e,n,s){this.children_=e,this.priorityNode_=n,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&yS(this.priorityNode_),this.children_.isEmpty()&&J(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ll}updatePriority(e){return this.children_.isEmpty()?this:new fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ll:n}}getChild(e){const n=ye(e);return n===null?this:this.getImmediateChild(n).getChild(Ve(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(J(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const s=new Se(e,n);let l,u;n.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,n),u=this.indexMap_.addToIndexes(s,this.children_));const c=l.isEmpty()?Ll:this.priorityNode_;return new fe(l,c,u)}}updateChild(e,n){const s=ye(e);if(s===null)return n;{J(ye(e)!==".priority"||bs(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Ve(e),n);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let s=0,l=0,u=!0;if(this.forEachChild($e,(c,d)=>{n[c]=d.val(e),s++,u&&fe.INTEGER_REGEXP_.test(c)?l=Math.max(l,Number(c)):u=!1}),!e&&u&&l<2*s){const c=[];for(const d in n)c[d]=n[d];return c}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+gS(this.getPriority().val())+":"),this.forEachChild($e,(n,s)=>{const l=s.hash();l!==""&&(e+=":"+n+":"+l)}),this.lazyHash_=e===""?"":X1(e)}return this.lazyHash_}getPredecessorChildName(e,n,s){const l=this.resolveIndex_(s);if(l){const u=l.getPredecessorKey(new Se(e,n));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Se(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const s=n.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Se(n,this.children_.get(n)):null}forEachChild(e,n){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>n(l.name,l.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Se.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const s=this.resolveIndex_(n);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Se.Wrap);let u=l.peek();for(;u!=null&&n.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bo?-1:0}withIndex(e){if(e===ha||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ha||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const s=this.getIterator($e),l=n.getIterator($e);let u=s.getNext(),c=l.getNext();for(;u&&c;){if(u.name!==c.name||!u.node.equals(c.node))return!1;u=s.getNext(),c=l.getNext()}return u===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===ha?null:this.indexMap_.get(e.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ux extends fe{constructor(){super(new qt(F_),fe.EMPTY_NODE,Ti.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}}const bo=new ux;Object.defineProperties(Se,{MIN:{value:new Se(Ta,fe.EMPTY_NODE)},MAX:{value:new Se(fr,bo)}});pS.__EMPTY_NODE=fe.EMPTY_NODE;gt.__childrenNodeConstructor=fe;ix(bo);rx(bo);const cx=!0;function at(r,e=null){if(r===null)return fe.EMPTY_NODE;if(typeof r=="object"&&".priority"in r&&(e=r[".priority"]),J(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof r=="object"&&".value"in r&&r[".value"]!==null&&(r=r[".value"]),typeof r!="object"||".sv"in r){const n=r;return new gt(n,at(e))}if(!(r instanceof Array)&&cx){const n=[];let s=!1;if(Mt(r,(c,d)=>{if(c.substring(0,1)!=="."){const _=at(d);_.isEmpty()||(s=s||!_.getPriority().isEmpty(),n.push(new Se(c,_)))}}),n.length===0)return fe.EMPTY_NODE;const u=hc(n,nx,c=>c.name,F_);if(s){const c=hc(n,$e.getCompare());return new fe(u,at(e),new Ti({".priority":c},{".priority":$e}))}else return new fe(u,at(e),Ti.Default)}else{let n=fe.EMPTY_NODE;return Mt(r,(s,l)=>{if(Jn(r,s)&&s.substring(0,1)!=="."){const u=at(l);(u.isLeafNode()||!u.isEmpty())&&(n=n.updateImmediateChild(s,u))}}),n.updatePriority(at(e))}}sx(at);class fx extends Hc{constructor(e){super(),this.indexPath_=e,J(!ve(e)&&ye(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const s=this.extractChild(e.node),l=this.extractChild(n.node),u=s.compareTo(l);return u===0?mr(e.name,n.name):u}makePost(e,n){const s=at(e),l=fe.EMPTY_NODE.updateChild(this.indexPath_,s);return new Se(n,l)}maxPost(){const e=fe.EMPTY_NODE.updateChild(this.indexPath_,bo);return new Se(fr,e)}toString(){return to(this.indexPath_,0).join("/")}}class hx extends Hc{compare(e,n){const s=e.node.compareTo(n.node);return s===0?mr(e.name,n.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Se.MIN}maxPost(){return Se.MAX}makePost(e,n){const s=at(e);return new Se(n,s)}toString(){return".value"}}const dx=new hx;function bS(r){return{type:"value",snapshotNode:r}}function Ea(r,e){return{type:"child_added",snapshotNode:e,childName:r}}function no(r,e){return{type:"child_removed",snapshotNode:e,childName:r}}function io(r,e,n){return{type:"child_changed",snapshotNode:e,childName:r,oldSnap:n}}function _x(r,e){return{type:"child_moved",snapshotNode:e,childName:r}}class X_{constructor(e){this.index_=e}updateChild(e,n,s,l,u,c){J(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(l).equals(s.getChild(l))&&d.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(n)?c.trackChildChange(no(n,d)):J(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Ea(n,s)):c.trackChildChange(io(n,s,d))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(n,s).withIndex(this.index_)}updateFullNode(e,n,s){return s!=null&&(e.isLeafNode()||e.forEachChild($e,(l,u)=>{n.hasChild(l)||s.trackChildChange(no(l,u))}),n.isLeafNode()||n.forEachChild($e,(l,u)=>{if(e.hasChild(l)){const c=e.getImmediateChild(l);c.equals(u)||s.trackChildChange(io(l,u,c))}else s.trackChildChange(Ea(l,u))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?fe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class so{constructor(e){this.indexedFilter_=new X_(e.getIndex()),this.index_=e.getIndex(),this.startPost_=so.getStartPost_(e),this.endPost_=so.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&s}updateChild(e,n,s,l,u,c){return this.matches(new Se(n,s))||(s=fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,s,l,u,c)}updateFullNode(e,n,s){n.isLeafNode()&&(n=fe.EMPTY_NODE);let l=n.withIndex(this.index_);l=l.updatePriority(fe.EMPTY_NODE);const u=this;return n.forEachChild($e,(c,d)=>{u.matches(new Se(c,d))||(l=l.updateImmediateChild(c,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}class mx{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=n=>{const s=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new so(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,s,l,u,c){return this.rangedFilter_.matches(new Se(n,s))||(s=fe.EMPTY_NODE),e.getImmediateChild(n).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,s,l,u,c):this.fullLimitUpdateChild_(e,n,s,u,c)}updateFullNode(e,n,s){let l;if(n.isLeafNode()||n.isEmpty())l=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){l=fe.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;u.hasNext()&&c<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))l=l.updateImmediateChild(d.name,d.node),c++;else break;else continue}}else{l=n.withIndex(this.index_),l=l.updatePriority(fe.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let c=0;for(;u.hasNext();){const d=u.getNext();c<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?c++:l=l.updateImmediateChild(d.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,s,l,u){let c;if(this.reverse_){const y=this.index_.getCompare();c=(v,T)=>y(T,v)}else c=this.index_.getCompare();const d=e;J(d.numChildren()===this.limit_,"");const _=new Se(n,s),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),p=this.rangedFilter_.matches(_);if(d.hasChild(n)){const y=d.getImmediateChild(n);let v=l.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===n||d.hasChild(v.name));)v=l.getChildAfterChild(this.index_,v,this.reverse_);const T=v==null?1:c(v,_);if(p&&!s.isEmpty()&&T>=0)return u?.trackChildChange(io(n,s,y)),d.updateImmediateChild(n,s);{u?.trackChildChange(no(n,y));const b=d.updateImmediateChild(n,fe.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u?.trackChildChange(Ea(v.name,v.node)),b.updateImmediateChild(v.name,v.node)):b}}else return s.isEmpty()?e:p&&c(m,_)>=0?(u!=null&&(u.trackChildChange(no(m.name,m.node)),u.trackChildChange(Ea(n,s))),d.updateImmediateChild(n,s).updateImmediateChild(m.name,fe.EMPTY_NODE)):e}}class Q_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$e}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return J(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return J(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ta}hasEnd(){return this.endSet_}getIndexEndValue(){return J(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return J(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return J(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$e}copy(){const e=new Q_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function px(r){return r.loadsAllData()?new X_(r.getIndex()):r.hasLimit()?new mx(r):new so(r)}function A0(r){const e={};if(r.isDefault())return e;let n;if(r.index_===$e?n="$priority":r.index_===dx?n="$value":r.index_===ha?n="$key":(J(r.index_ instanceof fx,"Unrecognized index type!"),n=r.index_.toString()),e.orderBy=_t(n),r.startSet_){const s=r.startAfterSet_?"startAfter":"startAt";e[s]=_t(r.indexStartValue_),r.startNameSet_&&(e[s]+=","+_t(r.indexStartName_))}if(r.endSet_){const s=r.endBeforeSet_?"endBefore":"endAt";e[s]=_t(r.indexEndValue_),r.endNameSet_&&(e[s]+=","+_t(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?e.limitToFirst=r.limit_:e.limitToLast=r.limit_),e}function N0(r){const e={};if(r.startSet_&&(e.sp=r.indexStartValue_,r.startNameSet_&&(e.sn=r.indexStartName_),e.sin=!r.startAfterSet_),r.endSet_&&(e.ep=r.indexEndValue_,r.endNameSet_&&(e.en=r.indexEndName_),e.ein=!r.endBeforeSet_),r.limitSet_){e.l=r.limit_;let n=r.viewFrom_;n===""&&(r.isViewFromLeft()?n="l":n="r"),e.vf=n}return r.index_!==$e&&(e.i=r.index_.toString()),e}class dc extends hS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(J(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=So("p:rest:"),this.listens_={}}listen(e,n,s,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const c=dc.getListenId_(e,s),d={};this.listens_[c]=d;const _=A0(e._queryParams);this.restRequest_(u+".json",_,(m,p)=>{let y=p;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(u,y,!1,s),va(this.listens_,c)===d){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",l(v,null)}})}unlisten(e,n){const s=dc.getListenId_(e,n);delete this.listens_[s]}get(e){const n=A0(e._queryParams),s=e._path.toString(),l=new bi;return this.restRequest_(s+".json",n,(u,c)=>{let d=c;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(s,d,!1,null),l.resolve(d)):l.reject(new Error(d))}),l.promise}refreshAuthToken(e){}restRequest_(e,n={},s){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(n.auth=l.accessToken),u&&u.token&&(n.ac=u.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ka(n);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(s&&d.readyState===4){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let _=null;if(d.status>=200&&d.status<300){try{_=Jl(d.responseText)}catch{Yt("Failed to parse JSON response for "+c+": "+d.responseText)}s(null,_)}else d.status!==401&&d.status!==404&&Yt("Got unsuccessful REST response for "+c+" Status: "+d.status),s(d.status);s=null}},d.open("GET",c,!0),d.send()})}}class gx{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function _c(){return{value:null,children:new Map}}function Ua(r,e,n){if(ve(e))r.value=n,r.children.clear();else if(r.value!==null)r.value=r.value.updateChild(e,n);else{const s=ye(e);r.children.has(s)||r.children.set(s,_c());const l=r.children.get(s);e=Ve(e),Ua(l,e,n)}}function s_(r,e){if(ve(e))return r.value=null,r.children.clear(),!0;if(r.value!==null){if(r.value.isLeafNode())return!1;{const n=r.value;return r.value=null,n.forEachChild($e,(s,l)=>{Ua(r,new ze(s),l)}),s_(r,e)}}else if(r.children.size>0){const n=ye(e);return e=Ve(e),r.children.has(n)&&s_(r.children.get(n),e)&&r.children.delete(n),r.children.size===0}else return!0}function r_(r,e,n){r.value!==null?n(e,r.value):yx(r,(s,l)=>{const u=new ze(e.toString()+"/"+s);r_(l,u,n)})}function yx(r,e){r.children.forEach((n,s)=>{e(s,n)})}class vx{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Mt(this.last_,(s,l)=>{n[s]=n[s]-l}),this.last_=e,n}}const x0=10*1e3,Sx=30*1e3,bx=300*1e3;class Tx{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new vx(e);const s=x0+(Sx-x0)*Math.random();ql(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),n={};let s=!1;Mt(e,(l,u)=>{u>0&&Jn(this.statsToReport_,l)&&(n[l]=u,s=!0)}),s&&this.server_.reportStats(n),ql(this.reportStats_.bind(this),Math.floor(Math.random()*2*bx))}}var Ln;(function(r){r[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ln||(Ln={}));function TS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function K_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function W_(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}class mc{constructor(e,n,s){this.path=e,this.affectedTree=n,this.revert=s,this.type=Ln.ACK_USER_WRITE,this.source=TS()}operationForChild(e){if(ve(this.path)){if(this.affectedTree.value!=null)return J(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ze(e));return new mc(Oe(),n,this.revert)}}else return J(ye(this.path)===e,"operationForChild called for unrelated child."),new mc(Ve(this.path),this.affectedTree,this.revert)}}class ro{constructor(e,n){this.source=e,this.path=n,this.type=Ln.LISTEN_COMPLETE}operationForChild(e){return ve(this.path)?new ro(this.source,Oe()):new ro(this.source,Ve(this.path))}}class hr{constructor(e,n,s){this.source=e,this.path=n,this.snap=s,this.type=Ln.OVERWRITE}operationForChild(e){return ve(this.path)?new hr(this.source,Oe(),this.snap.getImmediateChild(e)):new hr(this.source,Ve(this.path),this.snap)}}class ao{constructor(e,n,s){this.source=e,this.path=n,this.children=s,this.type=Ln.MERGE}operationForChild(e){if(ve(this.path)){const n=this.children.subtree(new ze(e));return n.isEmpty()?null:n.value?new hr(this.source,Oe(),n.value):new ao(this.source,Oe(),n)}else return J(ye(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ao(this.source,Ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ts{constructor(e,n,s){this.node_=e,this.fullyInitialized_=n,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ve(e))return this.isFullyInitialized()&&!this.filtered_;const n=ye(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Ex{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Cx(r,e,n,s){const l=[],u=[];return e.forEach(c=>{c.type==="child_changed"&&r.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&u.push(_x(c.childName,c.snapshotNode))}),Ul(r,l,"child_removed",e,s,n),Ul(r,l,"child_added",e,s,n),Ul(r,l,"child_moved",u,s,n),Ul(r,l,"child_changed",e,s,n),Ul(r,l,"value",e,s,n),l}function Ul(r,e,n,s,l,u){const c=s.filter(d=>d.type===n);c.sort((d,_)=>Ax(r,d,_)),c.forEach(d=>{const _=wx(r,d,u);l.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(_,r.query_))})})}function wx(r,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,r.index_)),e}function Ax(r,e,n){if(e.childName==null||n.childName==null)throw Ma("Should only compare child_ events.");const s=new Se(e.childName,e.snapshotNode),l=new Se(n.childName,n.snapshotNode);return r.index_.compare(s,l)}function Bc(r,e){return{eventCache:r,serverCache:e}}function Yl(r,e,n,s){return Bc(new Ts(e,n,s),r.serverCache)}function ES(r,e,n,s){return Bc(r.eventCache,new Ts(e,n,s))}function pc(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function dr(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}let Ld;const Nx=()=>(Ld||(Ld=new qt(fN)),Ld);class Fe{static fromObject(e){let n=new Fe(null);return Mt(e,(s,l)=>{n=n.set(new ze(s),l)}),n}constructor(e,n=Nx()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Oe(),value:this.value};if(ve(e))return null;{const s=ye(e),l=this.children.get(s);if(l!==null){const u=l.findRootMostMatchingPathAndValue(Ve(e),n);return u!=null?{path:lt(new ze(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ve(e))return this;{const n=ye(e),s=this.children.get(n);return s!==null?s.subtree(Ve(e)):new Fe(null)}}set(e,n){if(ve(e))return new Fe(n,this.children);{const s=ye(e),u=(this.children.get(s)||new Fe(null)).set(Ve(e),n),c=this.children.insert(s,u);return new Fe(this.value,c)}}remove(e){if(ve(e))return this.children.isEmpty()?new Fe(null):new Fe(null,this.children);{const n=ye(e),s=this.children.get(n);if(s){const l=s.remove(Ve(e));let u;return l.isEmpty()?u=this.children.remove(n):u=this.children.insert(n,l),this.value===null&&u.isEmpty()?new Fe(null):new Fe(this.value,u)}else return this}}get(e){if(ve(e))return this.value;{const n=ye(e),s=this.children.get(n);return s?s.get(Ve(e)):null}}setTree(e,n){if(ve(e))return n;{const s=ye(e),u=(this.children.get(s)||new Fe(null)).setTree(Ve(e),n);let c;return u.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,u),new Fe(this.value,c)}}fold(e){return this.fold_(Oe(),e)}fold_(e,n){const s={};return this.children.inorderTraversal((l,u)=>{s[l]=u.fold_(lt(e,l),n)}),n(e,this.value,s)}findOnPath(e,n){return this.findOnPath_(e,Oe(),n)}findOnPath_(e,n,s){const l=this.value?s(n,this.value):!1;if(l)return l;if(ve(e))return null;{const u=ye(e),c=this.children.get(u);return c?c.findOnPath_(Ve(e),lt(n,u),s):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Oe(),n)}foreachOnPath_(e,n,s){if(ve(e))return this;{this.value&&s(n,this.value);const l=ye(e),u=this.children.get(l);return u?u.foreachOnPath_(Ve(e),lt(n,l),s):new Fe(null)}}foreach(e){this.foreach_(Oe(),e)}foreach_(e,n){this.children.inorderTraversal((s,l)=>{l.foreach_(lt(e,s),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,s)=>{s.value&&e(n,s.value)})}}class Pn{constructor(e){this.writeTree_=e}static empty(){return new Pn(new Fe(null))}}function Fl(r,e,n){if(ve(e))return new Pn(new Fe(n));{const s=r.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let u=s.value;const c=zt(l,e);return u=u.updateChild(c,n),new Pn(r.writeTree_.set(l,u))}else{const l=new Fe(n),u=r.writeTree_.setTree(e,l);return new Pn(u)}}}function R0(r,e,n){let s=r;return Mt(n,(l,u)=>{s=Fl(s,lt(e,l),u)}),s}function O0(r,e){if(ve(e))return Pn.empty();{const n=r.writeTree_.setTree(e,new Fe(null));return new Pn(n)}}function a_(r,e){return pr(r,e)!=null}function pr(r,e){const n=r.writeTree_.findRootMostValueAndPath(e);return n!=null?r.writeTree_.get(n.path).getChild(zt(n.path,e)):null}function D0(r){const e=[],n=r.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild($e,(s,l)=>{e.push(new Se(s,l))}):r.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new Se(s,l.value))}),e}function ps(r,e){if(ve(e))return r;{const n=pr(r,e);return n!=null?new Pn(new Fe(n)):new Pn(r.writeTree_.subtree(e))}}function l_(r){return r.writeTree_.isEmpty()}function Ca(r,e){return CS(Oe(),r.writeTree_,e)}function CS(r,e,n){if(e.value!=null)return n.updateChild(r,e.value);{let s=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(J(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):n=CS(lt(r,l),u,n)}),!n.getChild(r).isEmpty()&&s!==null&&(n=n.updateChild(lt(r,".priority"),s)),n}}function jc(r,e){return xS(e,r)}function xx(r,e,n,s,l){J(s>r.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),r.allWrites.push({path:e,snap:n,writeId:s,visible:l}),l&&(r.visibleWrites=Fl(r.visibleWrites,e,n)),r.lastWriteId=s}function Rx(r,e){for(let n=0;n<r.allWrites.length;n++){const s=r.allWrites[n];if(s.writeId===e)return s}return null}function Ox(r,e){const n=r.allWrites.findIndex(d=>d.writeId===e);J(n>=0,"removeWrite called with nonexistent writeId.");const s=r.allWrites[n];r.allWrites.splice(n,1);let l=s.visible,u=!1,c=r.allWrites.length-1;for(;l&&c>=0;){const d=r.allWrites[c];d.visible&&(c>=n&&Dx(d,s.path)?l=!1:xn(s.path,d.path)&&(u=!0)),c--}if(l){if(u)return Mx(r),!0;if(s.snap)r.visibleWrites=O0(r.visibleWrites,s.path);else{const d=s.children;Mt(d,_=>{r.visibleWrites=O0(r.visibleWrites,lt(s.path,_))})}return!0}else return!1}function Dx(r,e){if(r.snap)return xn(r.path,e);for(const n in r.children)if(r.children.hasOwnProperty(n)&&xn(lt(r.path,n),e))return!0;return!1}function Mx(r){r.visibleWrites=wS(r.allWrites,Ix,Oe()),r.allWrites.length>0?r.lastWriteId=r.allWrites[r.allWrites.length-1].writeId:r.lastWriteId=-1}function Ix(r){return r.visible}function wS(r,e,n){let s=Pn.empty();for(let l=0;l<r.length;++l){const u=r[l];if(e(u)){const c=u.path;let d;if(u.snap)xn(n,c)?(d=zt(n,c),s=Fl(s,d,u.snap)):xn(c,n)&&(d=zt(c,n),s=Fl(s,Oe(),u.snap.getChild(d)));else if(u.children){if(xn(n,c))d=zt(n,c),s=R0(s,d,u.children);else if(xn(c,n))if(d=zt(c,n),ve(d))s=R0(s,Oe(),u.children);else{const _=va(u.children,ye(d));if(_){const m=_.getChild(Ve(d));s=Fl(s,Oe(),m)}}}else throw Ma("WriteRecord should have .snap or .children")}}return s}function AS(r,e,n,s,l){if(!s&&!l){const u=pr(r.visibleWrites,e);if(u!=null)return u;{const c=ps(r.visibleWrites,e);if(l_(c))return n;if(n==null&&!a_(c,Oe()))return null;{const d=n||fe.EMPTY_NODE;return Ca(c,d)}}}else{const u=ps(r.visibleWrites,e);if(!l&&l_(u))return n;if(!l&&n==null&&!a_(u,Oe()))return null;{const c=function(m){return(m.visible||l)&&(!s||!~s.indexOf(m.writeId))&&(xn(m.path,e)||xn(e,m.path))},d=wS(r.allWrites,c,e),_=n||fe.EMPTY_NODE;return Ca(d,_)}}}function kx(r,e,n){let s=fe.EMPTY_NODE;const l=pr(r.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild($e,(u,c)=>{s=s.updateImmediateChild(u,c)}),s;if(n){const u=ps(r.visibleWrites,e);return n.forEachChild($e,(c,d)=>{const _=Ca(ps(u,new ze(c)),d);s=s.updateImmediateChild(c,_)}),D0(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const u=ps(r.visibleWrites,e);return D0(u).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function zx(r,e,n,s,l){J(s||l,"Either existingEventSnap or existingServerSnap must exist");const u=lt(e,n);if(a_(r.visibleWrites,u))return null;{const c=ps(r.visibleWrites,u);return l_(c)?l.getChild(n):Ca(c,l.getChild(n))}}function Lx(r,e,n,s){const l=lt(e,n),u=pr(r.visibleWrites,l);if(u!=null)return u;if(s.isCompleteForChild(n)){const c=ps(r.visibleWrites,l);return Ca(c,s.getNode().getImmediateChild(n))}else return null}function Ux(r,e){return pr(r.visibleWrites,e)}function Px(r,e,n,s,l,u,c){let d;const _=ps(r.visibleWrites,e),m=pr(_,Oe());if(m!=null)d=m;else if(n!=null)d=Ca(_,n);else return[];if(d=d.withIndex(c),!d.isEmpty()&&!d.isLeafNode()){const p=[],y=c.getCompare(),v=u?d.getReverseIteratorFrom(s,c):d.getIteratorFrom(s,c);let T=v.getNext();for(;T&&p.length<l;)y(T,s)!==0&&p.push(T),T=v.getNext();return p}else return[]}function Hx(){return{visibleWrites:Pn.empty(),allWrites:[],lastWriteId:-1}}function gc(r,e,n,s){return AS(r.writeTree,r.treePath,e,n,s)}function Z_(r,e){return kx(r.writeTree,r.treePath,e)}function M0(r,e,n,s){return zx(r.writeTree,r.treePath,e,n,s)}function yc(r,e){return Ux(r.writeTree,lt(r.treePath,e))}function Bx(r,e,n,s,l,u){return Px(r.writeTree,r.treePath,e,n,s,l,u)}function J_(r,e,n){return Lx(r.writeTree,r.treePath,e,n)}function NS(r,e){return xS(lt(r.treePath,e),r.writeTree)}function xS(r,e){return{treePath:r,writeTree:e}}class jx{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,s=e.childName;J(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),J(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const u=l.type;if(n==="child_added"&&u==="child_removed")this.changeMap.set(s,io(s,e.snapshotNode,l.snapshotNode));else if(n==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(n==="child_removed"&&u==="child_changed")this.changeMap.set(s,no(s,l.oldSnap));else if(n==="child_changed"&&u==="child_added")this.changeMap.set(s,Ea(s,e.snapshotNode));else if(n==="child_changed"&&u==="child_changed")this.changeMap.set(s,io(s,e.snapshotNode,l.oldSnap));else throw Ma("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}class Gx{getCompleteChild(e){return null}getChildAfterChild(e,n,s){return null}}const RS=new Gx;class $_{constructor(e,n,s=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=s}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Ts(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return J_(this.writes_,e,s)}}getChildAfterChild(e,n,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:dr(this.viewCache_),u=Bx(this.writes_,l,n,1,s,e);return u.length===0?null:u[0]}}function Vx(r){return{filter:r}}function qx(r,e){J(e.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),J(e.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}function Yx(r,e,n,s,l){const u=new jx;let c,d;if(n.type===Ln.OVERWRITE){const m=n;m.source.fromUser?c=o_(r,e,m.path,m.snap,s,l,u):(J(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!ve(m.path),c=vc(r,e,m.path,m.snap,s,l,d,u))}else if(n.type===Ln.MERGE){const m=n;m.source.fromUser?c=Xx(r,e,m.path,m.children,s,l,u):(J(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),c=u_(r,e,m.path,m.children,s,l,d,u))}else if(n.type===Ln.ACK_USER_WRITE){const m=n;m.revert?c=Wx(r,e,m.path,s,l,u):c=Qx(r,e,m.path,m.affectedTree,s,l,u)}else if(n.type===Ln.LISTEN_COMPLETE)c=Kx(r,e,n.path,s,u);else throw Ma("Unknown operation type: "+n.type);const _=u.getChanges();return Fx(e,c,_),{viewCache:c,changes:_}}function Fx(r,e,n){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=pc(r);(n.length>0||!r.eventCache.isFullyInitialized()||l&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&n.push(bS(pc(e)))}}function OS(r,e,n,s,l,u){const c=e.eventCache;if(yc(s,n)!=null)return e;{let d,_;if(ve(n))if(J(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=dr(e),p=m instanceof fe?m:fe.EMPTY_NODE,y=Z_(s,p);d=r.filter.updateFullNode(e.eventCache.getNode(),y,u)}else{const m=gc(s,dr(e));d=r.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=ye(n);if(m===".priority"){J(bs(n)===1,"Can't have a priority with additional path components");const p=c.getNode();_=e.serverCache.getNode();const y=M0(s,n,p,_);y!=null?d=r.filter.updatePriority(p,y):d=c.getNode()}else{const p=Ve(n);let y;if(c.isCompleteForChild(m)){_=e.serverCache.getNode();const v=M0(s,n,c.getNode(),_);v!=null?y=c.getNode().getImmediateChild(m).updateChild(p,v):y=c.getNode().getImmediateChild(m)}else y=J_(s,m,e.serverCache);y!=null?d=r.filter.updateChild(c.getNode(),m,y,p,l,u):d=c.getNode()}}return Yl(e,d,c.isFullyInitialized()||ve(n),r.filter.filtersNodes())}}function vc(r,e,n,s,l,u,c,d){const _=e.serverCache;let m;const p=c?r.filter:r.filter.getIndexedFilter();if(ve(n))m=p.updateFullNode(_.getNode(),s,null);else if(p.filtersNodes()&&!_.isFiltered()){const T=_.getNode().updateChild(n,s);m=p.updateFullNode(_.getNode(),T,null)}else{const T=ye(n);if(!_.isCompleteForPath(n)&&bs(n)>1)return e;const C=Ve(n),R=_.getNode().getImmediateChild(T).updateChild(C,s);T===".priority"?m=p.updatePriority(_.getNode(),R):m=p.updateChild(_.getNode(),T,R,C,RS,null)}const y=ES(e,m,_.isFullyInitialized()||ve(n),p.filtersNodes()),v=new $_(l,y,u);return OS(r,y,n,l,v,d)}function o_(r,e,n,s,l,u,c){const d=e.eventCache;let _,m;const p=new $_(l,e,u);if(ve(n))m=r.filter.updateFullNode(e.eventCache.getNode(),s,c),_=Yl(e,m,!0,r.filter.filtersNodes());else{const y=ye(n);if(y===".priority")m=r.filter.updatePriority(e.eventCache.getNode(),s),_=Yl(e,m,d.isFullyInitialized(),d.isFiltered());else{const v=Ve(n),T=d.getNode().getImmediateChild(y);let C;if(ve(v))C=s;else{const b=p.getCompleteChild(y);b!=null?V_(v)===".priority"&&b.getChild(_S(v)).isEmpty()?C=b:C=b.updateChild(v,s):C=fe.EMPTY_NODE}if(T.equals(C))_=e;else{const b=r.filter.updateChild(d.getNode(),y,C,v,p,c);_=Yl(e,b,d.isFullyInitialized(),r.filter.filtersNodes())}}}return _}function I0(r,e){return r.eventCache.isCompleteForChild(e)}function Xx(r,e,n,s,l,u,c){let d=e;return s.foreach((_,m)=>{const p=lt(n,_);I0(e,ye(p))&&(d=o_(r,d,p,m,l,u,c))}),s.foreach((_,m)=>{const p=lt(n,_);I0(e,ye(p))||(d=o_(r,d,p,m,l,u,c))}),d}function k0(r,e,n){return n.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function u_(r,e,n,s,l,u,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _=e,m;ve(n)?m=s:m=new Fe(null).setTree(n,s);const p=e.serverCache.getNode();return m.children.inorderTraversal((y,v)=>{if(p.hasChild(y)){const T=e.serverCache.getNode().getImmediateChild(y),C=k0(r,T,v);_=vc(r,_,new ze(y),C,l,u,c,d)}}),m.children.inorderTraversal((y,v)=>{const T=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!p.hasChild(y)&&!T){const C=e.serverCache.getNode().getImmediateChild(y),b=k0(r,C,v);_=vc(r,_,new ze(y),b,l,u,c,d)}}),_}function Qx(r,e,n,s,l,u,c){if(yc(l,n)!=null)return e;const d=e.serverCache.isFiltered(),_=e.serverCache;if(s.value!=null){if(ve(n)&&_.isFullyInitialized()||_.isCompleteForPath(n))return vc(r,e,n,_.getNode().getChild(n),l,u,d,c);if(ve(n)){let m=new Fe(null);return _.getNode().forEachChild(ha,(p,y)=>{m=m.set(new ze(p),y)}),u_(r,e,n,m,l,u,d,c)}else return e}else{let m=new Fe(null);return s.foreach((p,y)=>{const v=lt(n,p);_.isCompleteForPath(v)&&(m=m.set(p,_.getNode().getChild(v)))}),u_(r,e,n,m,l,u,d,c)}}function Kx(r,e,n,s,l){const u=e.serverCache,c=ES(e,u.getNode(),u.isFullyInitialized()||ve(n),u.isFiltered());return OS(r,c,n,s,RS,l)}function Wx(r,e,n,s,l,u){let c;if(yc(s,n)!=null)return e;{const d=new $_(s,e,l),_=e.eventCache.getNode();let m;if(ve(n)||ye(n)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=gc(s,dr(e));else{const y=e.serverCache.getNode();J(y instanceof fe,"serverChildren would be complete if leaf node"),p=Z_(s,y)}p=p,m=r.filter.updateFullNode(_,p,u)}else{const p=ye(n);let y=J_(s,p,e.serverCache);y==null&&e.serverCache.isCompleteForChild(p)&&(y=_.getImmediateChild(p)),y!=null?m=r.filter.updateChild(_,p,y,Ve(n),d,u):e.eventCache.getNode().hasChild(p)?m=r.filter.updateChild(_,p,fe.EMPTY_NODE,Ve(n),d,u):m=_,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=gc(s,dr(e)),c.isLeafNode()&&(m=r.filter.updateFullNode(m,c,u)))}return c=e.serverCache.isFullyInitialized()||yc(s,Oe())!=null,Yl(e,m,c,r.filter.filtersNodes())}}class Zx{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new X_(s.getIndex()),u=px(s);this.processor_=Vx(u);const c=n.serverCache,d=n.eventCache,_=l.updateFullNode(fe.EMPTY_NODE,c.getNode(),null),m=u.updateFullNode(fe.EMPTY_NODE,d.getNode(),null),p=new Ts(_,c.isFullyInitialized(),l.filtersNodes()),y=new Ts(m,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=Bc(y,p),this.eventGenerator_=new Ex(this.query_)}get query(){return this.query_}}function Jx(r){return r.viewCache_.serverCache.getNode()}function $x(r){return pc(r.viewCache_)}function eR(r,e){const n=dr(r.viewCache_);return n&&(r.query._queryParams.loadsAllData()||!ve(e)&&!n.getImmediateChild(ye(e)).isEmpty())?n.getChild(e):null}function z0(r){return r.eventRegistrations_.length===0}function tR(r,e){r.eventRegistrations_.push(e)}function L0(r,e,n){const s=[];if(n){J(e==null,"A cancel should cancel all event registrations.");const l=r.query._path;r.eventRegistrations_.forEach(u=>{const c=u.createCancelEvent(n,l);c&&s.push(c)})}if(e){let l=[];for(let u=0;u<r.eventRegistrations_.length;++u){const c=r.eventRegistrations_[u];if(!c.matches(e))l.push(c);else if(e.hasAnyCallback()){l=l.concat(r.eventRegistrations_.slice(u+1));break}}r.eventRegistrations_=l}else r.eventRegistrations_=[];return s}function U0(r,e,n,s){e.type===Ln.MERGE&&e.source.queryId!==null&&(J(dr(r.viewCache_),"We should always have a full cache before handling merges"),J(pc(r.viewCache_),"Missing event cache, even though we have a server cache"));const l=r.viewCache_,u=Yx(r.processor_,l,e,n,s);return qx(r.processor_,u.viewCache),J(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=u.viewCache,DS(r,u.changes,u.viewCache.eventCache.getNode(),null)}function nR(r,e){const n=r.viewCache_.eventCache,s=[];return n.getNode().isLeafNode()||n.getNode().forEachChild($e,(u,c)=>{s.push(Ea(u,c))}),n.isFullyInitialized()&&s.push(bS(n.getNode())),DS(r,s,n.getNode(),e)}function DS(r,e,n,s){const l=s?[s]:r.eventRegistrations_;return Cx(r.eventGenerator_,e,n,l)}let Sc;class MS{constructor(){this.views=new Map}}function iR(r){J(!Sc,"__referenceConstructor has already been defined"),Sc=r}function sR(){return J(Sc,"Reference.ts has not been loaded"),Sc}function rR(r){return r.views.size===0}function em(r,e,n,s){const l=e.source.queryId;if(l!==null){const u=r.views.get(l);return J(u!=null,"SyncTree gave us an op for an invalid query."),U0(u,e,n,s)}else{let u=[];for(const c of r.views.values())u=u.concat(U0(c,e,n,s));return u}}function IS(r,e,n,s,l){const u=e._queryIdentifier,c=r.views.get(u);if(!c){let d=gc(n,l?s:null),_=!1;d?_=!0:s instanceof fe?(d=Z_(n,s),_=!1):(d=fe.EMPTY_NODE,_=!1);const m=Bc(new Ts(d,_,!1),new Ts(s,l,!1));return new Zx(e,m)}return c}function aR(r,e,n,s,l,u){const c=IS(r,e,s,l,u);return r.views.has(e._queryIdentifier)||r.views.set(e._queryIdentifier,c),tR(c,n),nR(c,n)}function lR(r,e,n,s){const l=e._queryIdentifier,u=[];let c=[];const d=Es(r);if(l==="default")for(const[_,m]of r.views.entries())c=c.concat(L0(m,n,s)),z0(m)&&(r.views.delete(_),m.query._queryParams.loadsAllData()||u.push(m.query));else{const _=r.views.get(l);_&&(c=c.concat(L0(_,n,s)),z0(_)&&(r.views.delete(l),_.query._queryParams.loadsAllData()||u.push(_.query)))}return d&&!Es(r)&&u.push(new(sR())(e._repo,e._path)),{removed:u,events:c}}function kS(r){const e=[];for(const n of r.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function gs(r,e){let n=null;for(const s of r.views.values())n=n||eR(s,e);return n}function zS(r,e){if(e._queryParams.loadsAllData())return Gc(r);{const s=e._queryIdentifier;return r.views.get(s)}}function LS(r,e){return zS(r,e)!=null}function Es(r){return Gc(r)!=null}function Gc(r){for(const e of r.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let bc;function oR(r){J(!bc,"__referenceConstructor has already been defined"),bc=r}function uR(){return J(bc,"Reference.ts has not been loaded"),bc}let cR=1;class P0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Fe(null),this.pendingWriteTree_=Hx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function US(r,e,n,s,l){return xx(r.pendingWriteTree_,e,n,s,l),l?Eo(r,new hr(TS(),e,n)):[]}function ir(r,e,n=!1){const s=Rx(r.pendingWriteTree_,e);if(Ox(r.pendingWriteTree_,e)){let u=new Fe(null);return s.snap!=null?u=u.set(Oe(),!0):Mt(s.children,c=>{u=u.set(new ze(c),!0)}),Eo(r,new mc(s.path,u,n))}else return[]}function To(r,e,n){return Eo(r,new hr(K_(),e,n))}function fR(r,e,n){const s=Fe.fromObject(n);return Eo(r,new ao(K_(),e,s))}function hR(r,e){return Eo(r,new ro(K_(),e))}function dR(r,e,n){const s=nm(r,n);if(s){const l=im(s),u=l.path,c=l.queryId,d=zt(u,e),_=new ro(W_(c),d);return sm(r,u,_)}else return[]}function Tc(r,e,n,s,l=!1){const u=e._path,c=r.syncPointTree_.get(u);let d=[];if(c&&(e._queryIdentifier==="default"||LS(c,e))){const _=lR(c,e,n,s);rR(c)&&(r.syncPointTree_=r.syncPointTree_.remove(u));const m=_.removed;if(d=_.events,!l){const p=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=r.syncPointTree_.findOnPath(u,(v,T)=>Es(T));if(p&&!y){const v=r.syncPointTree_.subtree(u);if(!v.isEmpty()){const T=pR(v);for(let C=0;C<T.length;++C){const b=T[C],R=b.query,I=jS(r,b);r.listenProvider_.startListening(Xl(R),lo(r,R),I.hashFn,I.onComplete)}}}!y&&m.length>0&&!s&&(p?r.listenProvider_.stopListening(Xl(e),null):m.forEach(v=>{const T=r.queryToTagMap.get(Vc(v));r.listenProvider_.stopListening(Xl(v),T)}))}gR(r,m)}return d}function PS(r,e,n,s){const l=nm(r,s);if(l!=null){const u=im(l),c=u.path,d=u.queryId,_=zt(c,e),m=new hr(W_(d),_,n);return sm(r,c,m)}else return[]}function _R(r,e,n,s){const l=nm(r,s);if(l){const u=im(l),c=u.path,d=u.queryId,_=zt(c,e),m=Fe.fromObject(n),p=new ao(W_(d),_,m);return sm(r,c,p)}else return[]}function c_(r,e,n,s=!1){const l=e._path;let u=null,c=!1;r.syncPointTree_.foreachOnPath(l,(v,T)=>{const C=zt(v,l);u=u||gs(T,C),c=c||Es(T)});let d=r.syncPointTree_.get(l);d?(c=c||Es(d),u=u||gs(d,Oe())):(d=new MS,r.syncPointTree_=r.syncPointTree_.set(l,d));let _;u!=null?_=!0:(_=!1,u=fe.EMPTY_NODE,r.syncPointTree_.subtree(l).foreachChild((T,C)=>{const b=gs(C,Oe());b&&(u=u.updateImmediateChild(T,b))}));const m=LS(d,e);if(!m&&!e._queryParams.loadsAllData()){const v=Vc(e);J(!r.queryToTagMap.has(v),"View does not exist, but we have a tag");const T=yR();r.queryToTagMap.set(v,T),r.tagToQueryMap.set(T,v)}const p=jc(r.pendingWriteTree_,l);let y=aR(d,e,n,p,u,_);if(!m&&!c&&!s){const v=zS(d,e);y=y.concat(vR(r,e,v))}return y}function tm(r,e,n){const l=r.pendingWriteTree_,u=r.syncPointTree_.findOnPath(e,(c,d)=>{const _=zt(c,e),m=gs(d,_);if(m)return m});return AS(l,e,u,n,!0)}function mR(r,e){const n=e._path;let s=null;r.syncPointTree_.foreachOnPath(n,(m,p)=>{const y=zt(m,n);s=s||gs(p,y)});let l=r.syncPointTree_.get(n);l?s=s||gs(l,Oe()):(l=new MS,r.syncPointTree_=r.syncPointTree_.set(n,l));const u=s!=null,c=u?new Ts(s,!0,!1):null,d=jc(r.pendingWriteTree_,e._path),_=IS(l,e,d,u?c.getNode():fe.EMPTY_NODE,u);return $x(_)}function Eo(r,e){return HS(e,r.syncPointTree_,null,jc(r.pendingWriteTree_,Oe()))}function HS(r,e,n,s){if(ve(r.path))return BS(r,e,n,s);{const l=e.get(Oe());n==null&&l!=null&&(n=gs(l,Oe()));let u=[];const c=ye(r.path),d=r.operationForChild(c),_=e.children.get(c);if(_&&d){const m=n?n.getImmediateChild(c):null,p=NS(s,c);u=u.concat(HS(d,_,m,p))}return l&&(u=u.concat(em(l,r,s,n))),u}}function BS(r,e,n,s){const l=e.get(Oe());n==null&&l!=null&&(n=gs(l,Oe()));let u=[];return e.children.inorderTraversal((c,d)=>{const _=n?n.getImmediateChild(c):null,m=NS(s,c),p=r.operationForChild(c);p&&(u=u.concat(BS(p,d,_,m)))}),l&&(u=u.concat(em(l,r,s,n))),u}function jS(r,e){const n=e.query,s=lo(r,n);return{hashFn:()=>(Jx(e)||fe.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?dR(r,n._path,s):hR(r,n._path);{const u=_N(l,n);return Tc(r,n,null,u)}}}}function lo(r,e){const n=Vc(e);return r.queryToTagMap.get(n)}function Vc(r){return r._path.toString()+"$"+r._queryIdentifier}function nm(r,e){return r.tagToQueryMap.get(e)}function im(r){const e=r.indexOf("$");return J(e!==-1&&e<r.length-1,"Bad queryKey."),{queryId:r.substr(e+1),path:new ze(r.substr(0,e))}}function sm(r,e,n){const s=r.syncPointTree_.get(e);J(s,"Missing sync point for query tag that we're tracking");const l=jc(r.pendingWriteTree_,e);return em(s,n,l,null)}function pR(r){return r.fold((e,n,s)=>{if(n&&Es(n))return[Gc(n)];{let l=[];return n&&(l=kS(n)),Mt(s,(u,c)=>{l=l.concat(c)}),l}})}function Xl(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(uR())(r._repo,r._path):r}function gR(r,e){for(let n=0;n<e.length;++n){const s=e[n];if(!s._queryParams.loadsAllData()){const l=Vc(s),u=r.queryToTagMap.get(l);r.queryToTagMap.delete(l),r.tagToQueryMap.delete(u)}}}function yR(){return cR++}function vR(r,e,n){const s=e._path,l=lo(r,e),u=jS(r,n),c=r.listenProvider_.startListening(Xl(e),l,u.hashFn,u.onComplete),d=r.syncPointTree_.subtree(s);if(l)J(!Es(d.value),"If we're adding a query, it shouldn't be shadowed");else{const _=d.fold((m,p,y)=>{if(!ve(m)&&p&&Es(p))return[Gc(p).query];{let v=[];return p&&(v=v.concat(kS(p).map(T=>T.query))),Mt(y,(T,C)=>{v=v.concat(C)}),v}});for(let m=0;m<_.length;++m){const p=_[m];r.listenProvider_.stopListening(Xl(p),lo(r,p))}}return c}class rm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new rm(n)}node(){return this.node_}}class am{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=lt(this.path_,e);return new am(this.syncTree_,n)}node(){return tm(this.syncTree_,this.path_)}}const SR=function(r){return r=r||{},r.timestamp=r.timestamp||new Date().getTime(),r},H0=function(r,e,n){if(!r||typeof r!="object")return r;if(J(".sv"in r,"Unexpected leaf node or priority contents"),typeof r[".sv"]=="string")return bR(r[".sv"],e,n);if(typeof r[".sv"]=="object")return TR(r[".sv"],e);J(!1,"Unexpected server value: "+JSON.stringify(r,null,2))},bR=function(r,e,n){if(r==="timestamp")return n.timestamp;J(!1,"Unexpected server value: "+r)},TR=function(r,e,n){r.hasOwnProperty("increment")||J(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const s=r.increment;typeof s!="number"&&J(!1,"Unexpected increment value: "+s);const l=e.node();if(J(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const c=l.getValue();return typeof c!="number"?s:c+s},ER=function(r,e,n,s){return lm(e,new am(n,r),s)},GS=function(r,e,n){return lm(r,new rm(e),n)};function lm(r,e,n){const s=r.getPriority().val(),l=H0(s,e.getImmediateChild(".priority"),n);let u;if(r.isLeafNode()){const c=r,d=H0(c.getValue(),e,n);return d!==c.getValue()||l!==c.getPriority().val()?new gt(d,at(l)):r}else{const c=r;return u=c,l!==c.getPriority().val()&&(u=u.updatePriority(new gt(l))),c.forEachChild($e,(d,_)=>{const m=lm(_,e.getImmediateChild(d),n);m!==_&&(u=u.updateImmediateChild(d,m))}),u}}class om{constructor(e="",n=null,s={children:{},childCount:0}){this.name=e,this.parent=n,this.node=s}}function um(r,e){let n=e instanceof ze?e:new ze(e),s=r,l=ye(n);for(;l!==null;){const u=va(s.node.children,l)||{children:{},childCount:0};s=new om(l,s,u),n=Ve(n),l=ye(n)}return s}function Pa(r){return r.node.value}function VS(r,e){r.node.value=e,f_(r)}function qS(r){return r.node.childCount>0}function CR(r){return Pa(r)===void 0&&!qS(r)}function qc(r,e){Mt(r.node.children,(n,s)=>{e(new om(n,r,s))})}function YS(r,e,n,s){n&&e(r),qc(r,l=>{YS(l,e,!0)})}function wR(r,e,n){let s=r.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Co(r){return new ze(r.parent===null?r.name:Co(r.parent)+"/"+r.name)}function f_(r){r.parent!==null&&AR(r.parent,r.name,r)}function AR(r,e,n){const s=CR(n),l=Jn(r.node.children,e);s&&l?(delete r.node.children[e],r.node.childCount--,f_(r)):!s&&!l&&(r.node.children[e]=n.node,r.node.childCount++,f_(r))}const NR=/[\[\].#$\/\u0000-\u001F\u007F]/,xR=/[\[\].#$\u0000-\u001F\u007F]/,Ud=10*1024*1024,cm=function(r){return typeof r=="string"&&r.length!==0&&!NR.test(r)},FS=function(r){return typeof r=="string"&&r.length!==0&&!xR.test(r)},RR=function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),FS(r)},XS=function(r){return r===null||typeof r=="string"||typeof r=="number"&&!Pc(r)||r&&typeof r=="object"&&Jn(r,".sv")},h_=function(r,e,n,s){Yc(Sa(r,"value"),e,n)},Yc=function(r,e,n){const s=n instanceof ze?new QN(n,r):n;if(e===void 0)throw new Error(r+"contains undefined "+er(s));if(typeof e=="function")throw new Error(r+"contains a function "+er(s)+" with contents = "+e.toString());if(Pc(e))throw new Error(r+"contains "+e.toString()+" "+er(s));if(typeof e=="string"&&e.length>Ud/3&&Uc(e)>Ud)throw new Error(r+"contains a string greater than "+Ud+" utf8 bytes "+er(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(Mt(e,(c,d)=>{if(c===".value")l=!0;else if(c!==".priority"&&c!==".sv"&&(u=!0,!cm(c)))throw new Error(r+" contains an invalid key ("+c+") "+er(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);KN(s,c),Yc(r,d,s),WN(s)}),l&&u)throw new Error(r+' contains ".value" child '+er(s)+" in addition to actual children.")}},OR=function(r,e){let n,s;for(n=0;n<e.length;n++){s=e[n];const u=to(s);for(let c=0;c<u.length;c++)if(!(u[c]===".priority"&&c===u.length-1)){if(!cm(u[c]))throw new Error(r+"contains an invalid key ("+u[c]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(XN);let l=null;for(n=0;n<e.length;n++){if(s=e[n],l!==null&&xn(l,s))throw new Error(r+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},DR=function(r,e,n,s){const l=Sa(r,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const u=[];Mt(e,(c,d)=>{const _=new ze(c);if(Yc(l,d,lt(n,_)),V_(_)===".priority"&&!XS(d))throw new Error(l+"contains an invalid value for '"+_.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(_)}),OR(l,u)},MR=function(r,e,n){if(Pc(e))throw new Error(Sa(r,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!XS(e))throw new Error(Sa(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},QS=function(r,e,n,s){if(!FS(n))throw new Error(Sa(r,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IR=function(r,e,n,s){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),QS(r,e,n)},Hl=function(r,e){if(ye(e)===".info")throw new Error(r+" failed = Can't modify data under /.info/")},kR=function(r,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!cm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!RR(n))throw new Error(Sa(r,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class zR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function fm(r,e){let n=null;for(let s=0;s<e.length;s++){const l=e[s],u=l.getPath();n!==null&&!q_(u,n.path)&&(r.eventLists_.push(n),n=null),n===null&&(n={events:[],path:u}),n.events.push(l)}n&&r.eventLists_.push(n)}function KS(r,e,n){fm(r,n),WS(r,s=>q_(s,e))}function Wn(r,e,n){fm(r,n),WS(r,s=>xn(s,e)||xn(e,s))}function WS(r,e){r.recursionDepth_++;let n=!0;for(let s=0;s<r.eventLists_.length;s++){const l=r.eventLists_[s];if(l){const u=l.path;e(u)?(LR(r.eventLists_[s]),r.eventLists_[s]=null):n=!1}}n&&(r.eventLists_=[]),r.recursionDepth_--}function LR(r){for(let e=0;e<r.events.length;e++){const n=r.events[e];if(n!==null){r.events[e]=null;const s=n.getEventRunner();Vl&&At("event: "+n.toString()),La(s)}}}const UR="repo_interrupt",PR=25;class HR{constructor(e,n,s,l){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_c(),this.transactionQueueTree_=new om,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BR(r,e,n){if(r.stats_=j_(r.repoInfo_),r.forceRestClient_||yN())r.server_=new dc(r.repoInfo_,(s,l,u,c)=>{B0(r,s,l,u,c)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>j0(r,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_t(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}r.persistentConnection_=new wi(r.repoInfo_,e,(s,l,u,c)=>{B0(r,s,l,u,c)},s=>{j0(r,s)},s=>{GR(r,s)},r.authTokenProvider_,r.appCheckProvider_,n),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(s=>{r.server_.refreshAuthToken(s)}),r.appCheckProvider_.addTokenChangeListener(s=>{r.server_.refreshAppCheckToken(s.token)}),r.statsReporter_=EN(r.repoInfo_,()=>new Tx(r.stats_,r.server_)),r.infoData_=new gx,r.infoSyncTree_=new P0({startListening:(s,l,u,c)=>{let d=[];const _=r.infoData_.getNode(s._path);return _.isEmpty()||(d=To(r.infoSyncTree_,s._path,_),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),dm(r,"connected",!1),r.serverSyncTree_=new P0({startListening:(s,l,u,c)=>(r.server_.listen(s,u,l,(d,_)=>{const m=c(d,_);Wn(r.eventQueue_,s._path,m)}),[]),stopListening:(s,l)=>{r.server_.unlisten(s,l)}})}function jR(r){const n=r.infoData_.getNode(new ze(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function hm(r){return SR({timestamp:jR(r)})}function B0(r,e,n,s,l){r.dataUpdateCount++;const u=new ze(e);n=r.interceptServerDataCallback_?r.interceptServerDataCallback_(e,n):n;let c=[];if(l)if(s){const _=oc(n,m=>at(m));c=_R(r.serverSyncTree_,u,_,l)}else{const _=at(n);c=PS(r.serverSyncTree_,u,_,l)}else if(s){const _=oc(n,m=>at(m));c=fR(r.serverSyncTree_,u,_)}else{const _=at(n);c=To(r.serverSyncTree_,u,_)}let d=u;c.length>0&&(d=Xc(r,u)),Wn(r.eventQueue_,d,c)}function j0(r,e){dm(r,"connected",e),e===!1&&YR(r)}function GR(r,e){Mt(e,(n,s)=>{dm(r,n,s)})}function dm(r,e,n){const s=new ze("/.info/"+e),l=at(n);r.infoData_.updateSnapshot(s,l);const u=To(r.infoSyncTree_,s,l);Wn(r.eventQueue_,s,u)}function ZS(r){return r.nextWriteId_++}function VR(r,e,n){const s=mR(r.serverSyncTree_,e);return s!=null?Promise.resolve(s):r.server_.get(e).then(l=>{const u=at(l).withIndex(e._queryParams.getIndex());c_(r.serverSyncTree_,e,n,!0);let c;if(e._queryParams.loadsAllData())c=To(r.serverSyncTree_,e._path,u);else{const d=lo(r.serverSyncTree_,e);c=PS(r.serverSyncTree_,e._path,u,d)}return Wn(r.eventQueue_,e._path,c),Tc(r.serverSyncTree_,e,n,null,!0),u},l=>(Fc(r,"get for query "+_t(e)+" failed: "+l),Promise.reject(new Error(l))))}function qR(r,e,n,s,l){Fc(r,"set",{path:e.toString(),value:n,priority:s});const u=hm(r),c=at(n,s),d=tm(r.serverSyncTree_,e),_=GS(c,d,u),m=ZS(r),p=US(r.serverSyncTree_,e,_,m,!0);fm(r.eventQueue_,p),r.server_.put(e.toString(),c.val(!0),(v,T)=>{const C=v==="ok";C||Yt("set at "+e+" failed: "+v);const b=ir(r.serverSyncTree_,m,!C);Wn(r.eventQueue_,e,b),wa(r,l,v,T)});const y=nb(r,e);Xc(r,y),Wn(r.eventQueue_,y,[])}function YR(r){Fc(r,"onDisconnectEvents");const e=hm(r),n=_c();r_(r.onDisconnect_,Oe(),(l,u)=>{const c=ER(l,u,r.serverSyncTree_,e);Ua(n,l,c)});let s=[];r_(n,Oe(),(l,u)=>{s=s.concat(To(r.serverSyncTree_,l,u));const c=nb(r,l);Xc(r,c)}),r.onDisconnect_=_c(),Wn(r.eventQueue_,Oe(),s)}function FR(r,e,n){r.server_.onDisconnectCancel(e.toString(),(s,l)=>{s==="ok"&&s_(r.onDisconnect_,e),wa(r,n,s,l)})}function G0(r,e,n,s){const l=at(n);r.server_.onDisconnectPut(e.toString(),l.val(!0),(u,c)=>{u==="ok"&&Ua(r.onDisconnect_,e,l),wa(r,s,u,c)})}function XR(r,e,n,s,l){const u=at(n,s);r.server_.onDisconnectPut(e.toString(),u.val(!0),(c,d)=>{c==="ok"&&Ua(r.onDisconnect_,e,u),wa(r,l,c,d)})}function QR(r,e,n,s){if(lc(n)){At("onDisconnect().update() called with empty data.  Don't do anything."),wa(r,s,"ok",void 0);return}r.server_.onDisconnectMerge(e.toString(),n,(l,u)=>{l==="ok"&&Mt(n,(c,d)=>{const _=at(d);Ua(r.onDisconnect_,lt(e,c),_)}),wa(r,s,l,u)})}function KR(r,e,n){let s;ye(e._path)===".info"?s=c_(r.infoSyncTree_,e,n):s=c_(r.serverSyncTree_,e,n),KS(r.eventQueue_,e._path,s)}function V0(r,e,n){let s;ye(e._path)===".info"?s=Tc(r.infoSyncTree_,e,n):s=Tc(r.serverSyncTree_,e,n),KS(r.eventQueue_,e._path,s)}function WR(r){r.persistentConnection_&&r.persistentConnection_.interrupt(UR)}function Fc(r,...e){let n="";r.persistentConnection_&&(n=r.persistentConnection_.id+":"),At(n,...e)}function wa(r,e,n,s){e&&La(()=>{if(n==="ok")e(null);else{const l=(n||"error").toUpperCase();let u=l;s&&(u+=": "+s);const c=new Error(u);c.code=l,e(c)}})}function JS(r,e,n){return tm(r.serverSyncTree_,e,n)||fe.EMPTY_NODE}function _m(r,e=r.transactionQueueTree_){if(e||Qc(r,e),Pa(e)){const n=eb(r,e);J(n.length>0,"Sending zero length transaction queue"),n.every(l=>l.status===0)&&ZR(r,Co(e),n)}else qS(e)&&qc(e,n=>{_m(r,n)})}function ZR(r,e,n){const s=n.map(m=>m.currentWriteId),l=JS(r,e,s);let u=l;const c=l.hash();for(let m=0;m<n.length;m++){const p=n[m];J(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const y=zt(e,p.path);u=u.updateChild(y,p.currentOutputSnapshotRaw)}const d=u.val(!0),_=e;r.server_.put(_.toString(),d,m=>{Fc(r,"transaction put response",{path:_.toString(),status:m});let p=[];if(m==="ok"){const y=[];for(let v=0;v<n.length;v++)n[v].status=2,p=p.concat(ir(r.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&y.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();Qc(r,um(r.transactionQueueTree_,e)),_m(r,r.transactionQueueTree_),Wn(r.eventQueue_,e,p);for(let v=0;v<y.length;v++)La(y[v])}else{if(m==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{Yt("transaction at "+_.toString()+" failed: "+m);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=m}Xc(r,e)}},c)}function Xc(r,e){const n=$S(r,e),s=Co(n),l=eb(r,n);return JR(r,l,s),s}function JR(r,e,n){if(e.length===0)return;const s=[];let l=[];const c=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const _=e[d],m=zt(n,_.path);let p=!1,y;if(J(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),_.status===4)p=!0,y=_.abortReason,l=l.concat(ir(r.serverSyncTree_,_.currentWriteId,!0));else if(_.status===0)if(_.retryCount>=PR)p=!0,y="maxretry",l=l.concat(ir(r.serverSyncTree_,_.currentWriteId,!0));else{const v=JS(r,_.path,c);_.currentInputSnapshot=v;const T=e[d].update(v.val());if(T!==void 0){Yc("transaction failed: Data returned ",T,_.path);let C=at(T);typeof T=="object"&&T!=null&&Jn(T,".priority")||(C=C.updatePriority(v.getPriority()));const R=_.currentWriteId,I=hm(r),P=GS(C,v,I);_.currentOutputSnapshotRaw=C,_.currentOutputSnapshotResolved=P,_.currentWriteId=ZS(r),c.splice(c.indexOf(R),1),l=l.concat(US(r.serverSyncTree_,_.path,P,_.currentWriteId,_.applyLocally)),l=l.concat(ir(r.serverSyncTree_,R,!0))}else p=!0,y="nodata",l=l.concat(ir(r.serverSyncTree_,_.currentWriteId,!0))}Wn(r.eventQueue_,n,l),l=[],p&&(e[d].status=2,(function(v){setTimeout(v,Math.floor(0))})(e[d].unwatcher),e[d].onComplete&&(y==="nodata"?s.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):s.push(()=>e[d].onComplete(new Error(y),!1,null))))}Qc(r,r.transactionQueueTree_);for(let d=0;d<s.length;d++)La(s[d]);_m(r,r.transactionQueueTree_)}function $S(r,e){let n,s=r.transactionQueueTree_;for(n=ye(e);n!==null&&Pa(s)===void 0;)s=um(s,n),e=Ve(e),n=ye(e);return s}function eb(r,e){const n=[];return tb(r,e,n),n.sort((s,l)=>s.order-l.order),n}function tb(r,e,n){const s=Pa(e);if(s)for(let l=0;l<s.length;l++)n.push(s[l]);qc(e,l=>{tb(r,l,n)})}function Qc(r,e){const n=Pa(e);if(n){let s=0;for(let l=0;l<n.length;l++)n[l].status!==2&&(n[s]=n[l],s++);n.length=s,VS(e,n.length>0?n:void 0)}qc(e,s=>{Qc(r,s)})}function nb(r,e){const n=Co($S(r,e)),s=um(r.transactionQueueTree_,e);return wR(s,l=>{Pd(r,l)}),Pd(r,s),YS(s,l=>{Pd(r,l)}),n}function Pd(r,e){const n=Pa(e);if(n){const s=[];let l=[],u=-1;for(let c=0;c<n.length;c++)n[c].status===3||(n[c].status===1?(J(u===c-1,"All SENT items should be at beginning of queue."),u=c,n[c].status=3,n[c].abortReason="set"):(J(n[c].status===0,"Unexpected transaction status in abort"),n[c].unwatcher(),l=l.concat(ir(r.serverSyncTree_,n[c].currentWriteId,!0)),n[c].onComplete&&s.push(n[c].onComplete.bind(null,new Error("set"),!1,null))));u===-1?VS(e,void 0):n.length=u+1,Wn(r.eventQueue_,Co(e),l);for(let c=0;c<s.length;c++)La(s[c])}}function $R(r){let e="";const n=r.split("/");for(let s=0;s<n.length;s++)if(n[s].length>0){let l=n[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function eO(r){const e={};r.charAt(0)==="?"&&(r=r.substring(1));for(const n of r.split("&")){if(n.length===0)continue;const s=n.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Yt(`Invalid query segment '${n}' in query '${r}'`)}return e}const q0=function(r,e){const n=tO(r),s=n.namespace;n.domain==="firebase.com"&&Ni(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&n.domain!=="localhost"&&Ni("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||uN();const l=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new rS(n.host,n.secure,s,l,e,"",s!==n.subdomain),path:new ze(n.pathString)}},tO=function(r){let e="",n="",s="",l="",u="",c=!0,d="https",_=443;if(typeof r=="string"){let m=r.indexOf("//");m>=0&&(d=r.substring(0,m-1),r=r.substring(m+2));let p=r.indexOf("/");p===-1&&(p=r.length);let y=r.indexOf("?");y===-1&&(y=r.length),e=r.substring(0,Math.min(p,y)),p<y&&(l=$R(r.substring(p,y)));const v=eO(r.substring(Math.min(r.length,y)));m=e.indexOf(":"),m>=0?(c=d==="https"||d==="wss",_=parseInt(e.substring(m+1),10)):m=e.length;const T=e.slice(0,m);if(T.toLowerCase()==="localhost")n="localhost";else if(T.split(".").length<=2)n=T;else{const C=e.indexOf(".");s=e.substring(0,C).toLowerCase(),n=e.substring(C+1),u=s}"ns"in v&&(u=v.ns)}return{host:e,port:_,domain:n,subdomain:s,secure:c,scheme:d,pathString:l,namespace:u}};class nO{constructor(e,n,s,l){this.eventType=e,this.eventRegistration=n,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_t(this.snapshot.exportVal())}}class iO{constructor(e,n,s){this.eventRegistration=e,this.error=n,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ib{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return J(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class sO{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new bi;return FR(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Hl("OnDisconnect.remove",this._path);const e=new bi;return G0(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Hl("OnDisconnect.set",this._path),h_("OnDisconnect.set",e,this._path);const n=new bi;return G0(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Hl("OnDisconnect.setWithPriority",this._path),h_("OnDisconnect.setWithPriority",e,this._path),MR("OnDisconnect.setWithPriority",n);const s=new bi;return XR(this._repo,this._path,e,n,s.wrapCallback(()=>{})),s.promise}update(e){Hl("OnDisconnect.update",this._path),DR("OnDisconnect.update",e,this._path);const n=new bi;return QR(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}class mm{constructor(e,n,s,l){this._repo=e,this._path=n,this._queryParams=s,this._orderByCalled=l}get key(){return ve(this._path)?null:V_(this._path)}get ref(){return new Mi(this._repo,this._path)}get _queryIdentifier(){const e=N0(this._queryParams),n=H_(e);return n==="{}"?"default":n}get _queryObject(){return N0(this._queryParams)}isEqual(e){if(e=Zt(e),!(e instanceof mm))return!1;const n=this._repo===e._repo,s=q_(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return n&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+FN(this._path)}}class Mi extends mm{constructor(e,n){super(e,n,new Q_,!1)}get parent(){const e=_S(this._path);return e===null?null:new Mi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class oo{constructor(e,n,s){this._node=e,this.ref=n,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ze(e),s=d_(this.ref,e);return new oo(this._node.getChild(n),s,$e)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new oo(l,d_(this.ref,s),$e)))}hasChild(e){const n=new ze(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Vn(r,e){return r=Zt(r),r._checkNotDeleted("ref"),e!==void 0?d_(r._root,e):r._root}function d_(r,e){return r=Zt(r),ye(r._path)===null?IR("child","path",e):QS("child","path",e),new Mi(r._repo,lt(r._path,e))}function rO(r){return r=Zt(r),new sO(r._repo,r._path)}function An(r,e){r=Zt(r),Hl("set",r._path),h_("set",e,r._path);const n=new bi;return qR(r._repo,r._path,e,null,n.wrapCallback(()=>{})),n.promise}function Qu(r){r=Zt(r);const e=new ib(()=>{}),n=new Kc(e);return VR(r._repo,r,n).then(s=>new oo(s,new Mi(r._repo,r._path),r._queryParams.getIndex()))}class Kc{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const s=n._queryParams.getIndex();return new nO("value",this,new oo(e.snapshotNode,new Mi(n._repo,n._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new iO(this,e,n):null}matches(e){return e instanceof Kc?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function aO(r,e,n,s,l){let u;if(typeof s=="object"&&(u=void 0,l=s),typeof s=="function"&&(u=s),l&&l.onlyOnce){const _=n,m=(p,y)=>{V0(r._repo,r,d),_(p,y)};m.userCallback=n.userCallback,m.context=n.context,n=m}const c=new ib(n,u||void 0),d=new Kc(c);return KR(r._repo,r,d),()=>V0(r._repo,r,d)}function lO(r,e,n,s){return aO(r,"value",e,n,s)}iR(Mi);oR(Mi);const oO="FIREBASE_DATABASE_EMULATOR_HOST",__={};let uO=!1;function cO(r,e,n,s){const l=e.lastIndexOf(":"),u=e.substring(0,l),c=Ia(u);r.repoInfo_=new rS(e,c,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0,n),s&&(r.authTokenProvider_=s)}function fO(r,e,n,s,l){let u=s||r.options.databaseURL;u===void 0&&(r.options.projectId||Ni("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),At("Using default host for project ",r.options.projectId),u=`${r.options.projectId}-default-rtdb.firebaseio.com`);let c=q0(u,l),d=c.repoInfo,_;typeof process<"u"&&u0&&(_=u0[oO]),_?(u=`http://${_}?ns=${d.namespace}`,c=q0(u,l),d=c.repoInfo):c.repoInfo.secure;const m=new SN(r.name,r.options,e);kR("Invalid Firebase Database URL",c),ve(c.path)||Ni("Database URL must point to the root of a Firebase Database (not including a child path).");const p=dO(d,r,m,new vN(r,n));return new _O(p,r)}function hO(r,e){const n=__[e];(!n||n[r.key]!==r)&&Ni(`Database ${e}(${r.repoInfo_}) has already been deleted.`),WR(r),delete n[r.key]}function dO(r,e,n,s){let l=__[e.name];l||(l={},__[e.name]=l);let u=l[r.toURLString()];return u&&Ni("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new HR(r,uO,n,s),l[r.toURLString()]=u,u}class _O{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mi(this._repo,Oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(hO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ni("Cannot call "+e+" on a deleted database.")}}function mO(r=G1(),e){const n=P_(r,"database").getImmediate({identifier:e});if(!n._instanceStarted){const s=Nw("database");s&&pO(n,...s)}return n}function pO(r,e,n,s={}){r=Zt(r),r._checkNotDeleted("useEmulator");const l=`${e}:${n}`,u=r._repoInternal;if(r._instanceStarted){if(l===r._repoInternal.repoInfo_.host&&ur(s,u.repoInfo_.emulatorOptions))return;Ni("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&Ni('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Zu(Zu.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:xw(s.mockUserToken,r.app.options.projectId);c=new Zu(d)}Ia(e)&&(z1(e),L1("Database",!0)),cO(u,l,s,c)}function gO(r){iN(za),ba(new cr("database",(e,{instanceIdentifier:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return fO(s,l,u,n)},"PUBLIC").setMultipleInstances(!0)),ms(c0,f0,r),ms(c0,f0,"esm2020")}wi.prototype.simpleListen=function(r,e){this.sendRequest("q",{p:r},e)};wi.prototype.echo=function(r,e){this.sendRequest("echo",{d:r},e)};gO();function sb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yO=sb,rb=new yo("auth","Firebase",sb());const Ec=new L_("@firebase/auth");function vO(r,...e){Ec.logLevel<=He.WARN&&Ec.warn(`Auth (${za}): ${r}`,...e)}function Ju(r,...e){Ec.logLevel<=He.ERROR&&Ec.error(`Auth (${za}): ${r}`,...e)}function xi(r,...e){throw pm(r,...e)}function Qn(r,...e){return pm(r,...e)}function ab(r,e,n){const s={...yO(),[e]:n};return new yo("auth","Firebase",s).create(e,{appName:r.name})}function ys(r){return ab(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return rb.create(r,...e)}function de(r,e,...n){if(!r)throw pm(e,...n)}function Ei(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ju(e),new Error(e)}function Ri(r,e){r||Ei(e)}function m_(){return typeof self<"u"&&self.location?.href||""}function SO(){return Y0()==="http:"||Y0()==="https:"}function Y0(){return typeof self<"u"&&self.location?.protocol||null}function bO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SO()||Mw()||"connection"in navigator)?navigator.onLine:!0}function TO(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class wo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=z_()||U1()}get(){return bO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gm(r,e){Ri(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wO=new wo(3e4,6e4);function Wc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ha(r,e,n,s,l={}){return ob(r,l,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const d=ka({key:r.config.apiKey,...c}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const m={method:e,headers:_,...u};return Dw()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&Ia(r.emulatorConfig.host)&&(m.credentials="include"),lb.fetch()(await cb(r,r.config.apiHost,n,d),m)})}async function ob(r,e,n){r._canInitEmulator=!1;const s={...EO,...e};try{const l=new AO(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Ku(r,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[_,m]=d.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(r,"credential-already-in-use",c);if(_==="EMAIL_EXISTS")throw Ku(r,"email-already-in-use",c);if(_==="USER_DISABLED")throw Ku(r,"user-disabled",c);const p=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw ab(r,p,m);xi(r,p)}}catch(l){if(l instanceof xs)throw l;xi(r,"network-request-failed",{message:String(l)})}}async function ub(r,e,n,s,l={}){const u=await Ha(r,e,n,s,l);return"mfaPendingCredential"in u&&xi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function cb(r,e,n,s){const l=`${e}${n}?${s}`,u=r,c=u.config.emulator?gm(r.config,l):`${r.config.apiScheme}://${l}`;return CO.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class AO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),wO.get())})}}function Ku(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Qn(r,e,s);return l.customData._tokenResponse=n,l}async function NO(r,e){return Ha(r,"POST","/v1/accounts:delete",e)}async function Cc(r,e){return Ha(r,"POST","/v1/accounts:lookup",e)}function Ql(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xO(r,e=!1){const n=Zt(r),s=await n.getIdToken(e),l=ym(s);de(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,c=u?.sign_in_provider;return{claims:l,token:s,authTime:Ql(Hd(l.auth_time)),issuedAtTime:Ql(Hd(l.iat)),expirationTime:Ql(Hd(l.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Hd(r){return Number(r)*1e3}function ym(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Ju("JWT malformed, contained fewer than 3 sections"),null;try{const l=ac(n);return l?JSON.parse(l):(Ju("Failed to decode base64 JWT payload"),null)}catch(l){return Ju("Caught error parsing JWT payload as JSON",l?.toString()),null}}function F0(r){const e=ym(r);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function uo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof xs&&RO(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function RO({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class OO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class p_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function wc(r){const e=r.auth,n=await r.getIdToken(),s=await uo(r,Cc(e,{idToken:n}));de(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?fb(l.providerUserInfo):[],c=MO(r.providerData,u),d=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!c?.length,m=d?_:!1,p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new p_(l.createdAt,l.lastLoginAt),isAnonymous:m};Object.assign(r,p)}async function DO(r){const e=Zt(r);await wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MO(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function fb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function IO(r,e){const n=await ob(r,{},async()=>{const s=ka({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,c=await cb(r,l,"/v1/token",`key=${u}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:d,body:s};return r.emulatorConfig&&Ia(r.emulatorConfig.host)&&(_.credentials="include"),lb.fetch()(c,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kO(r,e){return Ha(r,"POST","/v2/accounts:revokeToken",Wc(r,e))}class da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=F0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await IO(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,c=new da;return s&&(de(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),l&&(de(typeof l=="string","internal-error",{appName:e}),c.accessToken=l),u&&(de(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new da,this.toJSON())}_performRefresh(){return Ei("not implemented")}}function rs(r,e){de(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Un{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new OO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new p_(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await uo(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xO(this,e)}reload(){return DO(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await wc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(ys(this.auth));const e=await this.getIdToken();return await uo(this,NO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,_=n._redirectEventId??void 0,m=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:y,emailVerified:v,isAnonymous:T,providerData:C,stsTokenManager:b}=n;de(y&&b,e,"internal-error");const R=da.fromJSON(this.name,b);de(typeof y=="string",e,"internal-error"),rs(s,e.name),rs(l,e.name),de(typeof v=="boolean",e,"internal-error"),de(typeof T=="boolean",e,"internal-error"),rs(u,e.name),rs(c,e.name),rs(d,e.name),rs(_,e.name),rs(m,e.name),rs(p,e.name);const I=new Un({uid:y,auth:e,email:l,emailVerified:v,displayName:s,isAnonymous:T,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:R,createdAt:m,lastLoginAt:p});return C&&Array.isArray(C)&&(I.providerData=C.map(P=>({...P}))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,s=!1){const l=new da;l.updateFromServerResponse(n);const u=new Un({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await wc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];de(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?fb(l.providerUserInfo):[],c=!(l.email&&l.passwordHash)&&!u?.length,d=new da;d.updateFromIdToken(s);const _=new Un({uid:l.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new p_(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(_,m),_}}const X0=new Map;function Ci(r){Ri(r instanceof Function,"Expected a class definition");let e=X0.get(r);return e?(Ri(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,X0.set(r,e),e)}class hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hb.type="NONE";const Q0=hb;function $u(r,e,n){return`firebase:${r}:${e}:${n}`}class _a{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=$u(this.userKey,l.apiKey,u),this.fullPersistenceKey=$u("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cc(this.auth,{idToken:e}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new _a(Ci(Q0),e,s);const l=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||Ci(Q0);const c=$u(s,e.config.apiKey,e.name);let d=null;for(const m of n)try{const p=await m._get(c);if(p){let y;if(typeof p=="string"){const v=await Cc(e,{idToken:p}).catch(()=>{});if(!v)break;y=await Un._fromGetAccountInfoResponse(e,v,p)}else y=Un._fromJSON(e,p);m!==u&&(d=y),u=m;break}}catch{}const _=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new _a(u,e,s):(u=_[0],d&&await u._set(c,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==u)try{await m._remove(c)}catch{}})),new _a(u,e,s))}}function K0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(db(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yb(e))return"Blackberry";if(vb(e))return"Webos";if(_b(e))return"Safari";if((e.includes("chrome/")||mb(e))&&!e.includes("edge/"))return"Chrome";if(gb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function db(r=Lt()){return/firefox\//i.test(r)}function _b(r=Lt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mb(r=Lt()){return/crios\//i.test(r)}function pb(r=Lt()){return/iemobile/i.test(r)}function gb(r=Lt()){return/android/i.test(r)}function yb(r=Lt()){return/blackberry/i.test(r)}function vb(r=Lt()){return/webos/i.test(r)}function vm(r=Lt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function zO(r=Lt()){return vm(r)&&!!window.navigator?.standalone}function LO(){return Iw()&&document.documentMode===10}function Sb(r=Lt()){return vm(r)||gb(r)||vb(r)||yb(r)||/windows phone/i.test(r)||pb(r)}function bb(r,e=[]){let n;switch(r){case"Browser":n=K0(Lt());break;case"Worker":n=`${K0(Lt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${za}/${s}`}class UO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((c,d)=>{try{const _=e(u);c(_)}catch(_){d(_)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function PO(r,e={}){return Ha(r,"GET","/v2/passwordPolicy",Wc(r,e))}const HO=6;class BO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??HO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class jO{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W0(this),this.idTokenSubscription=new W0(this),this.beforeStateQueue=new UO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ci(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _a.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cc(this,{idToken:e}),s=await Un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===c)&&d?.user&&(s=d.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(ys(this));const n=e?Zt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PO(this),n=new BO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await kO(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ci(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await _a.create(this,[Ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const _=e.addObserver(n,s,l);return()=>{c=!0,_()}}else{const _=e.addObserver(n);return()=>{c=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zc(r){return Zt(r)}class W0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Vw(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GO(r){Sm=r}function VO(r){return Sm.loadJS(r)}function qO(){return Sm.gapiScript}function YO(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function FO(r,e){const n=P_(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(ur(u,e??{}))return l;xi(l,"already-initialized")}return n.initialize({options:e})}function XO(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ci);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function QO(r,e,n){const s=Zc(r);de(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=Tb(e),{host:c,port:d}=KO(e),_=d===null?"":`:${d}`,m={url:`${u}//${c}${_}/`},p=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){de(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),de(ur(m,s.config.emulator)&&ur(p,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=p,s.settings.appVerificationDisabledForTesting=!0,Ia(c)?(z1(`${u}//${c}${_}`),L1("Auth",!0)):WO()}function Tb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function KO(r){const e=Tb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Z0(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:Z0(c)}}}function Z0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function WO(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Eb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,n){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function ma(r,e){return ub(r,"POST","/v1/accounts:signInWithIdp",Wc(r,e))}const ZO="http://localhost";class _r extends Eb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const c=new _r(s,l);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ma(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ma(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ma(e,n)}buildRequest(){const e={requestUri:ZO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ka(n)}return e}}class Cb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ao extends Cb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class as extends Ao{constructor(){super("facebook.com")}static credential(e){return _r._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";class ls extends Ao{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _r._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";class os extends Ao{constructor(){super("github.com")}static credential(e){return _r._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";class us extends Ao{constructor(){super("twitter.com")}static credential(e,n){return _r._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return us.credential(n,s)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";async function JO(r,e){return ub(r,"POST","/v1/accounts:signUp",Wc(r,e))}class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await Un._fromIdTokenResponse(e,s,l),c=J0(s);return new Cs({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=J0(s);return new Cs({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function J0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function $O(r){if(kn(r.app))return Promise.reject(ys(r));const e=Zc(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Cs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await JO(e,{returnSecureToken:!0}),s=await Cs._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}class Ac extends xs{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Ac.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new Ac(e,n,s,l)}}function wb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ac._fromErrorAndOperation(r,u,e,s):u})}async function e2(r,e,n=!1){const s=await uo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Cs._forOperation(r,"link",s)}async function t2(r,e,n=!1){const{auth:s}=r;if(kn(s.app))return Promise.reject(ys(s));const l="reauthenticate";try{const u=await uo(r,wb(s,l,e,r),n);de(u.idToken,s,"internal-error");const c=ym(u.idToken);de(c,s,"internal-error");const{sub:d}=c;return de(r.uid===d,s,"user-mismatch"),Cs._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&xi(s,"user-mismatch"),u}}async function n2(r,e,n=!1){if(kn(r.app))return Promise.reject(ys(r));const s="signIn",l=await wb(r,s,e),u=await Cs._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}function i2(r,e,n,s){return Zt(r).onIdTokenChanged(e,n,s)}function s2(r,e,n){return Zt(r).beforeAuthStateChanged(e,n)}function r2(r,e,n,s){return Zt(r).onAuthStateChanged(e,n,s)}const Nc="__sak";class Ab{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nc,"1"),this.storage.removeItem(Nc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const a2=1e3,l2=10;class Nb extends Ab{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,_)=>{this.notifyListeners(c,_)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);LO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,l2):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nb.type="LOCAL";const o2=Nb;class xb extends Ab{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xb.type="SESSION";const Rb=xb;function u2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new Jc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,c=this.handlersMap[l];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const d=Array.from(c).map(async m=>m(n.origin,u)),_=await u2(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jc.receivers=[];function bm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class c2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,c;return new Promise((d,_)=>{const m=bm("",20);l.port1.start();const p=setTimeout(()=>{_(new Error("unsupported_event"))},s);c={messageChannel:l,onMessage(y){const v=y;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(p),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(v.data.response);break;default:clearTimeout(p),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(c),l.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[l.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Kn(){return window}function f2(r){Kn().location.href=r}function Ob(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function h2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d2(){return navigator?.serviceWorker?.controller||null}function _2(){return Ob()?self:null}const Db="firebaseLocalStorageDb",m2=1,xc="firebaseLocalStorage",Mb="fbase_key";class No{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $c(r,e){return r.transaction([xc],e?"readwrite":"readonly").objectStore(xc)}function p2(){const r=indexedDB.deleteDatabase(Db);return new No(r).toPromise()}function g_(){const r=indexedDB.open(Db,m2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xc,{keyPath:Mb})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xc)?e(s):(s.close(),await p2(),e(await g_()))})})}async function $0(r,e,n){const s=$c(r,!0).put({[Mb]:e,value:n});return new No(s).toPromise()}async function g2(r,e){const n=$c(r,!1).get(e),s=await new No(n).toPromise();return s===void 0?null:s.value}function e1(r,e){const n=$c(r,!0).delete(e);return new No(n).toPromise()}const y2=800,v2=3;class Ib{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await g_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>v2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jc._getInstance(_2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await h2(),!this.activeServiceWorker)return;this.sender=new c2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await g_();return await $0(e,Nc,"1"),await e1(e,Nc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>$0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>g2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>e1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=$c(l,!1).getAll();return new No(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ib.type="LOCAL";const S2=Ib;new wo(3e4,6e4);function b2(r,e){return e?Ci(e):(de(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Tm extends Eb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ma(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ma(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function T2(r){return n2(r.auth,new Tm(r),r.bypassAuthState)}function E2(r){const{auth:e,user:n}=r;return de(n,e,"internal-error"),t2(n,new Tm(r),r.bypassAuthState)}async function C2(r){const{auth:e,user:n}=r;return de(n,e,"internal-error"),e2(n,new Tm(r),r.bypassAuthState)}class kb{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:c,type:d}=e;if(c){this.reject(c);return}const _={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(_))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T2;case"linkViaPopup":case"linkViaRedirect":return C2;case"reauthViaPopup":case"reauthViaRedirect":return E2;default:xi(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const w2=new wo(2e3,1e4);class oa extends kb{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w2.get())};e()}}oa.currentPopupAction=null;const A2="pendingRedirect",ec=new Map;class N2 extends kb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ec.get(this.auth._key());if(!e){try{const s=await x2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ec.set(this.auth._key(),e)}return this.bypassAuthState||ec.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x2(r,e){const n=D2(e),s=O2(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function R2(r,e){ec.set(r._key(),e)}function O2(r){return Ci(r._redirectPersistence)}function D2(r){return $u(A2,r.config.apiKey,r.name)}async function M2(r,e,n=!1){if(kn(r.app))return Promise.reject(ys(r));const s=Zc(r),l=b2(s,e),c=await new N2(s,l,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const I2=600*1e3;class k2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!zb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Qn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I2&&this.cachedEventUids.clear(),this.cachedEventUids.has(t1(e))}saveEventToCache(e){this.cachedEventUids.add(t1(e)),this.lastProcessedEventTime=Date.now()}}function t1(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function zb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function z2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zb(r);default:return!1}}async function L2(r,e={}){return Ha(r,"GET","/v1/projects",e)}const U2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P2=/^https?/;async function H2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await L2(r);for(const n of e)try{if(B2(n))return}catch{}xi(r,"unauthorized-domain")}function B2(r){const e=m_(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!P2.test(n))return!1;if(U2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const j2=new wo(3e4,6e4);function n1(){const r=Kn().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function G2(r){return new Promise((e,n)=>{function s(){n1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n1(),n(Qn(r,"network-request-failed"))},timeout:j2.get()})}if(Kn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Kn().gapi?.load)s();else{const l=YO("iframefcb");return Kn()[l]=()=>{gapi.load?s():n(Qn(r,"network-request-failed"))},VO(`${qO()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw tc=null,e})}let tc=null;function V2(r){return tc=tc||G2(r),tc}const q2=new wo(5e3,15e3),Y2="__/auth/iframe",F2="emulator/auth/iframe",X2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K2(r){const e=r.config;de(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?gm(e,F2):`https://${r.config.authDomain}/${Y2}`,s={apiKey:e.apiKey,appName:r.name,v:za},l=Q2.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ka(s).slice(1)}`}async function W2(r){const e=await V2(r),n=Kn().gapi;return de(n,r,"internal-error"),e.open({where:document.body,url:K2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X2,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const c=Qn(r,"network-request-failed"),d=Kn().setTimeout(()=>{u(c)},q2.get());function _(){Kn().clearTimeout(d),l(s)}s.ping(_).then(_,()=>{u(c)})}))}const Z2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J2=500,$2=600,eD="_blank",tD="http://localhost";class i1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nD(r,e,n,s=J2,l=$2){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const _={...Z2,width:s.toString(),height:l.toString(),top:u,left:c},m=Lt().toLowerCase();n&&(d=mb(m)?eD:n),db(m)&&(e=e||tD,_.scrollbars="yes");const p=Object.entries(_).reduce((v,[T,C])=>`${v}${T}=${C},`,"");if(zO(m)&&d!=="_self")return iD(e||"",d),new i1(null);const y=window.open(e||"",d,p);de(y,r,"popup-blocked");try{y.focus()}catch{}return new i1(y)}function iD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const sD="__/auth/handler",rD="emulator/auth/handler",aD=encodeURIComponent("fac");async function s1(r,e,n,s,l,u){de(r.config.authDomain,r,"auth-domain-config-required"),de(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:za,eventId:l};if(e instanceof Cb){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",lc(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))c[p]=y}if(e instanceof Ao){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(c.scopes=p.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const _=await r._getAppCheckToken(),m=_?`#${aD}=${encodeURIComponent(_)}`:"";return`${lD(r)}?${ka(d).slice(1)}${m}`}function lD({config:r}){return r.emulator?gm(r,rD):`https://${r.authDomain}/${sD}`}const Bd="webStorageSupport";class oD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rb,this._completeRedirectFn=M2,this._overrideRedirectResult=R2}async _openPopup(e,n,s,l){Ri(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await s1(e,n,s,m_(),l);return nD(e,u,bm())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await s1(e,n,s,m_(),l);return f2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Ri(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await W2(e),s=new k2(e);return n.register("authEvent",l=>(de(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bd,{type:Bd},l=>{const u=l?.[0]?.[Bd];u!==void 0&&n(!!u),xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=H2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Sb()||_b()||vm()}}const uD=oD;var r1="@firebase/auth",a1="1.12.0";class cD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hD(r){ba(new cr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;de(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bb(r)},m=new jO(s,l,u,_);return XO(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ba(new cr("auth-internal",e=>{const n=Zc(e.getProvider("auth").getImmediate());return(s=>new cD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(r1,a1,fD(r)),ms(r1,a1,"esm2020")}const dD=300,_D=k1("authIdTokenMaxAge")||dD;let l1=null;const mD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_D)return;const l=n?.token;l1!==l&&(l1=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function pD(r=G1()){const e=P_(r,"auth");if(e.isInitialized())return e.getImmediate();const n=FO(r,{popupRedirectResolver:uD,persistence:[S2,o2,Rb]}),s=k1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=mD(u.toString());s2(n,c,()=>c(n.currentUser)),i2(n,d=>c(d))}}const l=M1("auth");return l&&QO(n,`http://${l}`),n}function gD(){return document.getElementsByTagName("head")?.[0]??document}GO({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=Qn("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",gD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hD("Browser");const yD={apiKey:"AIzaSyC3Br7iDX-2irFrN9dLE6vjtsuWFQzfo2U",authDomain:"portfolio-chess.firebaseapp.com",databaseURL:"https://portfolio-chess-default-rtdb.firebaseio.com",projectId:"portfolio-chess",storageBucket:"portfolio-chess.firebasestorage.app",messagingSenderId:"5157075220",appId:"1:5157075220:web:68efc5fed277db42f8ea01",measurementId:"G-NJVP8F749N"},Lb=j1(yD),qn=mO(Lb),o1=pD(Lb),gr=9,yr=6,Rt=[{primary:"#ff4444",glow:"rgba(255, 68, 68, 0.6)",name:"Red"},{primary:"#44ff44",glow:"rgba(68, 255, 68, 0.6)",name:"Green"},{primary:"#4488ff",glow:"rgba(68, 136, 255, 0.6)",name:"Blue"},{primary:"#ff8844",glow:"rgba(255, 136, 68, 0.6)",name:"Orange"}];function Rc(r,e){const n=r===0,s=r===gr-1,l=e===0,u=e===yr-1,c=[n,s,l,u].filter(Boolean).length;return c===2?2:c===1?3:4}function Ub(r,e){const n=[];return r>0&&n.push({row:r-1,col:e}),r<gr-1&&n.push({row:r+1,col:e}),e>0&&n.push({row:r,col:e-1}),e<yr-1&&n.push({row:r,col:e+1}),n}function Ws(){return Array(gr).fill(null).map(()=>Array(yr).fill(null).map(()=>({owner:null,count:0})))}function Pb(r){return r.map(e=>e.map(n=>({...n})))}function Em(r,e){for(let n of r)for(let s of n)if(s.owner===e&&s.count>0)return!1;return!0}function u1(r,e){const n=e.filter(s=>!Em(r,s.id));return n.length===1?n[0]:null}function vD(r,e){const n=Pb(r),s=[];let l=!1;for(let u=0;u<gr;u++)for(let c=0;c<yr;c++){const d=n[u][c],_=Rc(u,c);if(d.count>=_){s.push({row:u,col:c});const m=Ub(u,c);n[u][c]={owner:null,count:0};for(const p of m){const y=n[p.row][p.col];n[p.row][p.col]={owner:e,count:y.count+1},n[p.row][p.col].count>=Rc(p.row,p.col)&&(l=!0)}}}return{newGrid:n,explodedCells:s,hasMoreExplosions:l}}function SD(r,e,n,s){const l=Pb(r),u=l[e][n];return l[e][n]={owner:s,count:u.count+1},l}function bD(r){for(let e=0;e<gr;e++)for(let n=0;n<yr;n++)if(r[e][n].count>=Rc(e,n))return!0;return!1}const yi="chainreaction/game_test_3";function TD(){const[r,e]=Ae.useState(null),[n,s]=Ae.useState(null),[l,u]=Ae.useState(""),[c,d]=Ae.useState(!1),[_,m]=Ae.useState([]),[p,y]=Ae.useState(null),v=Ae.useRef(null);Ae.useEffect(()=>{const te=r2(o1,ee=>{ee?s(ee.uid):$O(o1).catch(re=>{console.error("Error signing in anonymously:",re),y(re.message)})});return()=>te()},[]),Ae.useEffect(()=>{const te=Vn(qn,yi);let ee;ee=setTimeout(async()=>{console.warn("Firebase connection slow, attempting to initialize game state...");try{const $={status:"WAITING",players:[],hostId:null,hostJoinedAt:null,grid:Ws(),turnIndex:0,winner:null,maxPlayers:4,maxPlayers:4,movesMade:0,activeAnimation:null,lastUpdate:Date.now()};await An(te,$),e($)}catch($){console.error("Failed to initialize game state:",$),y($.message)}},1e4);const re=lO(te,$=>{clearTimeout(ee);const K=$.val();if(console.log("Firebase data received:",K),K){const G=(K.grid||Ws()).map(he=>(he||[]).map(ce=>({owner:ce?.owner||null,count:ce?.count||0}))),ne={status:K.status||"WAITING",players:K.players||[],hostId:K.hostId||null,hostJoinedAt:K.hostJoinedAt||(K.players&&K.players.length>0?K.lastUpdate||Date.now():null),grid:G,turnIndex:K.turnIndex||0,winner:K.winner||null,maxPlayers:K.maxPlayers||4,movesMade:K.movesMade||0,activeAnimation:K.activeAnimation||null,lastUpdate:K.lastUpdate||Date.now()};if(K.activeAnimation&&K.activeAnimation.id!==v.current){const{id:he,cells:ce,color:w,timestamp:H}=K.activeAnimation;if(Date.now()-H<2e3){v.current=he,m(ce);const Z=[];ce.forEach(W=>{Ub(W.row,W.col).forEach(_e=>{Z.push({id:Math.random(),from:{row:W.row,col:W.col},to:{row:_e.row,col:_e.col},color:w})})}),I(Z),setTimeout(()=>{I([]),m([])},400)}}e(ne)}else{const N={status:"WAITING",players:[],hostId:null,hostJoinedAt:null,grid:Ws(),turnIndex:0,winner:null,maxPlayers:4,maxPlayers:4,movesMade:0,activeAnimation:null,lastUpdate:Date.now()};An(te,N).catch(G=>{console.error("Failed to set initial state:",G),y(G.message)}),e(N)}},$=>{clearTimeout(ee),console.error("Firebase onValue error:",$),y($.message)});return()=>{clearTimeout(ee),re()}},[]),Ae.useEffect(()=>{if(!n||!r?.players?.some(re=>re.id===n))return;Vn(qn,`${yi}/players`);const te=Vn(qn,`chainreaction/presence/${n}`);An(te,{online:!0,lastSeen:Date.now()});const ee=rO(te);return ee.remove(),()=>{ee.cancel()}},[n,r?.players]);const T=Ae.useCallback(async te=>{if(!n||!te.trim())return!1;try{const ee=Vn(qn,yi),re=Qu(ee),$=new Promise((W,ae)=>setTimeout(()=>ae(new Error("Network timeout")),5e3));let K;try{K=(await Promise.race([re,$])).val()}catch(W){console.error("Connection timed out:",W),K=r||{status:"WAITING",players:[],hostId:null,grid:Ws(),turnIndex:0,winner:null,maxPlayers:4,movesMade:0,lastUpdate:Date.now()}}if(K||(K={status:"WAITING",players:[],hostId:null,grid:Ws(),turnIndex:0,winner:null,maxPlayers:4,movesMade:0,lastUpdate:Date.now()}),K.status!=="WAITING")return console.error("Game not in WAITING state"),!1;const N=K.players||[],G=K.maxPlayers||4;if(N.length>=G)return console.error("Game is full"),!1;if(N.some(W=>W.id===n))return u(te),!0;const ne=N.length,he={id:n,name:te.trim(),color:Rt[ne].primary,colorIndex:ne},ce=[...N,he],w={...K,players:ce,hostId:K.hostId||n,hostJoinedAt:K.hostJoinedAt||(N.length===0?Date.now():null),lastUpdate:Date.now()},H=An(ee,w),Z=new Promise((W,ae)=>setTimeout(()=>ae(new Error("Network timeout during write")),5e3));return await Promise.race([H,Z]),u(te),!0}catch(ee){return console.error("Error joining game:",ee),!1}},[n]),C=Ae.useCallback(async()=>{if(!n||!r)return;const te=Vn(qn,yi),re=r.players.filter(N=>N.id!==n).map((N,G)=>({...N,color:Rt[G].primary,colorIndex:G})),$=re.length>0?re[0].id:null,K={...r,players:re,hostId:$,hostJoinedAt:re.length>0?r.hostJoinedAt:null,lastUpdate:Date.now()};await An(te,K),u("")},[n,r]),b=Ae.useCallback(async()=>{if(!n||!r||r.hostId!==n||r.players.length<1)return!1;const te=Vn(qn,yi),ee={...r,status:"PLAYING",grid:Ws(),turnIndex:0,winner:null,movesMade:0,lastUpdate:Date.now()};return await An(te,ee),!0},[n,r]),[R,I]=Ae.useState([]),P=Ae.useCallback(async(te,ee,re)=>{const $=Vn(qn,yi);let K=te;for(;bD(K);){const{newGrid:N,explodedCells:G,hasMoreExplosions:ne}=vD(K,ee),he=G[0],ce=K[he.row][he.col].owner,w=r.players.findIndex(Ii=>Ii.id===ce),H=w>=0?w:0,Z=Rt[H]?.primary||"#fff",ae=(await Qu($)).val(),_e={id:Math.random().toString(36).substr(2,9),cells:G,color:Z,timestamp:Date.now()};await An($,{...ae,activeAnimation:_e,lastUpdate:Date.now()}),await new Promise(Ii=>setTimeout(Ii,400));const St=(await Qu($)).val(),Xe=u1(N,r.players),Os=(re||0)>=r.players.length,$n={...St,grid:N,lastUpdate:Date.now()};let Sr=!1;if(Os&&Xe&&($n.winner=Xe.id,$n.status="FINISHED",$n.movesMade=re,Sr=!0),await An($,$n),K=N,Sr)return K;if(ne)await new Promise(Ii=>setTimeout(Ii,100));else break}return K},[r]),D=Ae.useCallback(async(te,ee)=>{if(!n||!r||c||r.status!=="PLAYING"||r.players[r.turnIndex].id!==n)return!1;const $=r.grid[te][ee];if($.owner!==null&&$.owner!==n)return!1;d(!0);try{const K=Vn(qn,yi);let N=SD(r.grid,te,ee,n);const G=(r.movesMade||0)+1;await An(K,{...r,grid:N,movesMade:G,lastUpdate:Date.now()}),N=await P(N,n,G);let he=(await Qu(K)).val();if(he.status==="FINISHED")return!0;let ce=null,w="PLAYING";G>=r.players.length&&(ce=u1(N,r.players),ce&&(w="FINISHED"));let H=r.turnIndex;if(w!=="FINISHED"){H=(r.turnIndex+1)%r.players.length;let Z=0;for(;Z<r.players.length;){const W=r.players[H],ae=N.flat().some(_e=>_e.owner===W.id);if(!Em(N,W.id)||G<r.players.length)break;H=(H+1)%r.players.length,Z++}}return await An(K,{...he,grid:N,turnIndex:H,winner:ce?.id||null,status:w,movesMade:G,activeAnimation:null,lastUpdate:Date.now()}),!0}finally{d(!1)}},[n,r,c,P]),L=Ae.useCallback(async()=>{if(!r)return;console.log("Resetting game state in Firebase...");const te=Vn(qn,yi),ee={status:"WAITING",players:[],hostId:null,hostJoinedAt:null,grid:Ws(),turnIndex:0,winner:null,maxPlayers:4,movesMade:0,activeAnimation:null,lastUpdate:Date.now()};try{await An(te,ee),u(""),s(null),setTimeout(()=>{window.location.reload()},500)}catch(re){console.error("Failed to reset game:",re)}},[r]),B=Ae.useCallback(async te=>{if(!r||!n||r.hostId!==n||r.status!=="WAITING"||te<2||te>4)return!1;try{const ee=Vn(qn,yi);return await An(ee,{...r,maxPlayers:te,lastUpdate:Date.now()}),!0}catch(ee){return console.error("Error setting max players:",ee),!1}},[n,r]),X=r?.players?.[r?.turnIndex],q=r?.players?.find(te=>te.id===n),Q=X?.id===n,F=r?.hostId===n,le=r?.players?.some(te=>te.id===n);return{gameState:r,playerId:n,playerName:l,myPlayer:q,currentPlayer:X,isMyTurn:Q,isHost:F,isInGame:le,isProcessing:c,explodingCells:_,flyingAtoms:R,connectionError:p,joinGame:T,leaveGame:C,startGame:b,makeMove:D,resetGame:L,setMaxPlayers:B}}function ED(){const r=Ae.useRef(null);return Ae.useEffect(()=>{const e=r.current,n=e.getContext("2d");let s=window.innerWidth,l=window.innerHeight,u;const c={x:-1e3,y:-1e3},d=250,_=2.5,m=I=>{c.x=I.clientX,c.y=I.clientY},p=I=>{I.touches.length>0&&(c.x=I.touches[0].clientX,c.y=I.touches[0].clientY)};window.addEventListener("mousemove",m),window.addEventListener("touchmove",p);const y=[],v=20;class T{constructor(){this.x=Math.random()*s,this.y=Math.random()*l,this.vx=(Math.random()-.5)*1.5,this.vy=(Math.random()-.5)*1.5,this.size=Math.random()*12+8;const P=Rt[Math.floor(Math.random()*Rt.length)];this.color=P.primary,this.mass=this.size,this.baseVx=this.vx,this.baseVy=this.vy}update(){const P=this.x-c.x,D=this.y-c.y,L=Math.sqrt(P*P+D*D);if(L<d){const B=(d-L)/d,X=Math.atan2(D,P);this.vx+=Math.cos(X)*B*_,this.vy+=Math.sin(X)*B*_}this.vx*=.98,this.vy*=.98,Math.abs(this.vx)<Math.abs(this.baseVx)&&(this.vx+=this.baseVx*.02),Math.abs(this.vy)<Math.abs(this.baseVy)&&(this.vy+=this.baseVy*.02),this.x+=this.vx,this.y+=this.vy,this.x-this.size<0&&(this.x=this.size,this.vx*=-1),this.x+this.size>s&&(this.x=s-this.size,this.vx*=-1),this.y-this.size<0&&(this.y=this.size,this.vy*=-1),this.y+this.size>l&&(this.y=l-this.size,this.vy*=-1)}draw(){n.beginPath(),n.arc(this.x,this.y,this.size,0,Math.PI*2);const P=n.createRadialGradient(this.x-this.size*.3,this.y-this.size*.3,this.size*.1,this.x,this.y,this.size);P.addColorStop(0,"#ffffff"),P.addColorStop(.3,this.color),P.addColorStop(1,this.color),n.fillStyle=P,n.fill(),n.shadowBlur=15,n.shadowColor=this.color,n.fill(),n.shadowBlur=0}}for(let I=0;I<v;I++)y.push(new T);const C=()=>{s=window.innerWidth,l=window.innerHeight,e.width=s,e.height=l},b=()=>{for(let I=0;I<y.length;I++)for(let P=I+1;P<y.length;P++){const D=y[I],L=y[P],B=L.x-D.x,X=L.y-D.y,q=Math.sqrt(B*B+X*X);if(q<D.size+L.size){const Q=Math.atan2(X,B),F=Math.sin(Q),le=Math.cos(Q),te=D.vx*le+D.vy*F,ee=D.vy*le-D.vx*F,re=L.vx*le+L.vy*F,$=L.vy*le-L.vx*F,K=((D.mass-L.mass)*te+2*L.mass*re)/(D.mass+L.mass),N=((L.mass-D.mass)*re+2*D.mass*te)/(D.mass+L.mass),G=K*le-ee*F,ne=ee*le+K*F,he=N*le-$*F,ce=$*le+N*F;D.vx=G,D.vy=ne,L.vx=he,L.vy=ce;const w=(D.size+L.size-q)/2;D.x-=w*le,D.y-=w*F,L.x+=w*le,L.y+=w*F}}},R=()=>{n.clearRect(0,0,s,l),b(),y.forEach(I=>{I.update(),I.draw()}),u=requestAnimationFrame(R)};return C(),window.addEventListener("resize",C),R(),()=>{window.removeEventListener("resize",C),window.removeEventListener("mousemove",m),window.removeEventListener("touchmove",p),cancelAnimationFrame(u)}},[]),z.jsx("canvas",{ref:r,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:0,background:"radial-gradient(circle at center, #1a1a2e 0%, #000 100%)",pointerEvents:"none"}})}function CD({gameState:r,playerId:e,playerName:n,isHost:s,isInGame:l,onJoin:u,onLeave:c,onStart:d,onSetMaxPlayers:_,onReset:m,connectionError:p}){const[y,v]=Ae.useState(""),[T,C]=Ae.useState(!1),[b,R]=Ae.useState(""),[I,P]=Ae.useState(!1),[D,L]=Ae.useState(null);Ae.useEffect(()=>{if(!r?.hostJoinedAt){L(null);return}const $=300*1e3,K=()=>{const G=Date.now()-r.hostJoinedAt,ne=$-G;ne<=0?r.hostJoinedAt&&m&&m():L(ne)},N=setInterval(K,1e3);return K(),()=>clearInterval(N)},[r?.hostJoinedAt,m]);const B=$=>{if($===null||$<0)return"";const K=Math.floor($/1e3),N=Math.floor(K/60),G=K%60;return`${N}:${G.toString().padStart(2,"0")}`},X=r?.maxPlayers||4,q=r?.players||[],Q=q.length,F=async()=>{if(!y.trim()){R("Please enter your name");return}if(y.trim().length>12){R("Name must be 12 characters or less");return}C(!0),R("");try{await u(y.trim())||R("Failed to join. Game may be full or already started.")}catch($){console.error("Join error:",$),R($.message||"An unexpected error occurred. Please try again.")}finally{C(!1)}},le=async()=>{if(q.length<2){R("Need at least 2 players to start");return}await d()},te=$=>{$.key==="Enter"&&F()},ee=$=>{s&&_&&_($)},re=()=>{navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")};return z.jsxs("div",{className:"lobby-container",children:[z.jsx(ED,{}),z.jsxs("div",{className:"lobby-card",children:[z.jsxs("div",{className:"lobby-header",children:[z.jsxs("div",{className:"logo-container",children:[z.jsx("div",{className:"atom atom-1"}),z.jsx("div",{className:"atom atom-2"}),z.jsx("div",{className:"atom atom-3"})]}),z.jsx("h1",{className:"lobby-title",children:"Chain Reaction"}),z.jsx("p",{className:"lobby-subtitle",children:"Multiplayer Strategy Game"}),D!==null&&z.jsxs("div",{className:"lobby-timer",style:{color:D<6e4?"#ff6b6b":"var(--text-secondary)",fontSize:"0.85rem",marginTop:"8px",fontWeight:500},children:[" Lobby resets in ",B(D)]})]}),l?z.jsxs("div",{className:"joined-section",children:[z.jsxs("div",{className:"players-section",children:[z.jsxs("div",{className:"section-header",children:[z.jsx("span",{children:"Players"}),z.jsxs("span",{children:[Q,"/",X]})]}),z.jsxs("div",{className:"players-grid",children:[q.map(($,K)=>{const N=$.id===e,G=Rt[K]?.primary||"#ccc";return z.jsxs("div",{className:`player-card ${N?"is-me":""}`,style:{"--player-color":G},children:[z.jsx("div",{className:"player-avatar",children:z.jsx("div",{className:"player-orb"})}),z.jsxs("div",{className:"player-info",children:[z.jsx("span",{className:"player-name",children:N?"You":$.name}),z.jsx("span",{className:"player-status",children:K===0?"Wait...":"Ready"})]}),$.id===r.hostId&&z.jsx("span",{className:"host-badge",children:"HOST"})]},$.id)}),Array(X-Q).fill(null).map(($,K)=>z.jsxs("div",{className:"player-card empty",children:[z.jsx("div",{className:"player-avatar",children:z.jsx("div",{className:"player-orb",style:{background:"transparent",border:"2px dotted rgba(255,255,255,0.2)"}})}),z.jsx("div",{className:"player-info",children:z.jsx("span",{className:"player-name",style:{opacity:.5},children:"Empty"})})]},`empty-${K}`))]})]}),s&&z.jsxs("div",{className:"host-controls",children:[z.jsxs("div",{className:"control-group",children:[z.jsx("span",{className:"control-label",children:"Max Players"}),z.jsx("div",{className:"player-count-buttons",children:[2,3,4].map($=>z.jsx("button",{className:`count-btn ${X===$?"active":""}`,onClick:()=>ee($),disabled:Q>$,children:$},$))})]}),z.jsx("button",{onClick:le,disabled:Q<2,className:"start-button",children:Q<2?"Need 2+ Players":"Start Game"})]}),!s&&z.jsx("div",{className:"error-banner",style:{background:"rgba(255, 255, 255, 0.05)",color:"#fff",borderColor:"transparent"},children:"Waiting for host to start..."})]}):z.jsxs("div",{className:"join-section",children:[z.jsxs("div",{className:"input-container",children:[z.jsx("input",{type:"text",placeholder:"Enter your nickname",value:y,onChange:$=>v($.target.value),onKeyPress:te,maxLength:12,className:"name-input",disabled:T,autoFocus:!0}),z.jsxs("span",{className:"char-count",children:[y.length,"/12"]})]}),b&&z.jsx("div",{className:"error-banner",children:b}),p&&z.jsxs("div",{className:"error-banner",children:["Auth: ",p]}),z.jsx("button",{onClick:F,disabled:T||Q>=X||!e,className:"join-button",children:e?T?"Joining...":"Join Game":"Connecting..."}),Q>=X&&z.jsxs("p",{className:"error-banner",style:{background:"rgba(255, 255, 255, 0.05)",color:"#fff",borderColor:"transparent"},children:["Lobby is full (",X,"/",X,")"]})]}),z.jsxs("div",{className:"lobby-footer",children:[z.jsxs("button",{className:"icon-button",onClick:()=>P(!0),children:[z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[z.jsx("circle",{cx:"12",cy:"12",r:"10"}),z.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),z.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"How to Play"]}),z.jsxs("button",{className:"icon-button",onClick:re,children:[z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[z.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),z.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),"Invite"]}),l&&z.jsx("button",{className:"icon-button danger",onClick:c,children:z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[z.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),z.jsx("polyline",{points:"16 17 21 12 16 7"}),z.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]}),I&&z.jsxs("div",{className:"rules-overlay",children:[z.jsxs("div",{className:"rules-header",children:[z.jsx("span",{children:"How to Play"}),z.jsx("button",{className:"close-btn",onClick:()=>P(!1),children:z.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[z.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),z.jsxs("ul",{className:"rules-list",children:[z.jsxs("li",{children:[z.jsx("div",{className:"rule-icon",children:""}),z.jsx("span",{children:"Place atoms on empty cells or cells you already own."})]}),z.jsxs("li",{children:[z.jsx("div",{className:"rule-icon",children:""}),z.jsx("span",{children:"Cells explode when they reach critical mass (Number of neighbours)."})]}),z.jsxs("li",{children:[z.jsx("div",{className:"rule-icon",children:""}),z.jsx("span",{children:"Explosions claim neighboring cells for you."})]}),z.jsxs("li",{children:[z.jsx("div",{className:"rule-icon",children:""}),z.jsx("span",{children:"Eliminate all opponents to win the game!"})]})]})]})]})]})}function wD({row:r,col:e,cell:n,isExploding:s,isMyTurn:l,canPlace:u,onClick:c}){const d=Rc(r,e),_=n.count,m=n.owner;m!==null&&(Rt.find((I,P)=>Rt[P]?.primary===n.ownerColor)||Rt[n.colorIndex]||Rt[0]);const p=n.colorIndex!==void 0&&n.colorIndex!==null?Rt[n.colorIndex]:null;_>0&&console.log(`Cell [${r},${e}]`,{atomCount:_,owner:m,colorIndex:n.colorIndex,color:p});const[y,v]=Kd.useState(!1);Kd.useEffect(()=>{if(_>0){v(!0);const I=setTimeout(()=>v(!1),300);return()=>clearTimeout(I)}},[_]);const T=()=>{l&&u&&c(r,e)},C=()=>{const I=[],P=Math.min(_,4);for(let D=0;D<P;D++)I.push(z.jsx("div",{className:`atom-group atom-${P}-${D} ${s?"exploding":""}`,style:{"--atom-delay":`${D*.1}s`},children:z.jsx("div",{className:"atom",style:{"--atom-color":p?.primary||"#fff","--atom-glow":p?.glow||"rgba(255,255,255,0.5)"}})},D));return I},b=_===d-1,R=l&&u;return z.jsx("div",{className:`cell ${R?"clickable":""} ${b?"critical":""} ${s?"exploding":""} ${y?"receiving":""}`,onClick:T,"data-critical-mass":d,children:z.jsx("div",{className:"cell-inner",children:z.jsx("div",{className:"atoms-container","data-atom-count":_,children:C()})})})}function vi(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Hb(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var dn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Aa={duration:.5,overwrite:!1,delay:0},Cm,Nt,Ke,Rn=1e8,Ge=1/Rn,y_=Math.PI*2,AD=y_/4,ND=0,Bb=Math.sqrt,xD=Math.cos,RD=Math.sin,vt=function(e){return typeof e=="string"},nt=function(e){return typeof e=="function"},Oi=function(e){return typeof e=="number"},wm=function(e){return typeof e>"u"},Zn=function(e){return typeof e=="object"},Ft=function(e){return e!==!1},Am=function(){return typeof window<"u"},Wu=function(e){return nt(e)||vt(e)},jb=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Dt=Array.isArray,OD=/random\([^)]+\)/g,DD=/,\s*/g,c1=/(?:-?\.?\d|\.)+/gi,Gb=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ua=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,jd=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Vb=/[+-]=-?[.\d]+/,MD=/[^,'"\[\]\s]+/gi,ID=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ze,Yn,v_,Nm,_n={},Oc={},qb,Yb=function(e){return(Oc=Na(e,_n))&&Wt},xm=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},co=function(e,n){return!n&&console.warn(e)},Fb=function(e,n){return e&&(_n[e]=n)&&Oc&&(Oc[e]=n)||_n},fo=function(){return 0},kD={suppressEvents:!0,isStart:!0,kill:!1},nc={suppressEvents:!0,kill:!1},zD={suppressEvents:!0},Rm={},vs=[],S_={},Xb,un={},Gd={},f1=30,ic=[],Om="",Dm=function(e){var n=e[0],s,l;if(Zn(n)||nt(n)||(e=[e]),!(s=(n._gsap||{}).harness)){for(l=ic.length;l--&&!ic[l].targetTest(n););s=ic[l]}for(l=e.length;l--;)e[l]&&(e[l]._gsap||(e[l]._gsap=new gT(e[l],s)))||e.splice(l,1);return e},rr=function(e){return e._gsap||Dm(On(e))[0]._gsap},Qb=function(e,n,s){return(s=e[n])&&nt(s)?e[n]():wm(s)&&e.getAttribute&&e.getAttribute(n)||s},Xt=function(e,n){return(e=e.split(",")).forEach(n)||e},rt=function(e){return Math.round(e*1e5)/1e5||0},We=function(e){return Math.round(e*1e7)/1e7||0},pa=function(e,n){var s=n.charAt(0),l=parseFloat(n.substr(2));return e=parseFloat(e),s==="+"?e+l:s==="-"?e-l:s==="*"?e*l:e/l},LD=function(e,n){for(var s=n.length,l=0;e.indexOf(n[l])<0&&++l<s;);return l<s},Dc=function(){var e=vs.length,n=vs.slice(0),s,l;for(S_={},vs.length=0,s=0;s<e;s++)l=n[s],l&&l._lazy&&(l.render(l._lazy[0],l._lazy[1],!0)._lazy=0)},Mm=function(e){return!!(e._initted||e._startAt||e.add)},Kb=function(e,n,s,l){vs.length&&!Nt&&Dc(),e.render(n,s,!!(Nt&&n<0&&Mm(e))),vs.length&&!Nt&&Dc()},Wb=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(MD).length<2?n:vt(e)?e.trim():e},Zb=function(e){return e},mn=function(e,n){for(var s in n)s in e||(e[s]=n[s]);return e},UD=function(e){return function(n,s){for(var l in s)l in n||l==="duration"&&e||l==="ease"||(n[l]=s[l])}},Na=function(e,n){for(var s in n)e[s]=n[s];return e},h1=function r(e,n){for(var s in n)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(e[s]=Zn(n[s])?r(e[s]||(e[s]={}),n[s]):n[s]);return e},Mc=function(e,n){var s={},l;for(l in e)l in n||(s[l]=e[l]);return s},Kl=function(e){var n=e.parent||Ze,s=e.keyframes?UD(Dt(e.keyframes)):mn;if(Ft(e.inherit))for(;n;)s(e,n.vars.defaults),n=n.parent||n._dp;return e},PD=function(e,n){for(var s=e.length,l=s===n.length;l&&s--&&e[s]===n[s];);return s<0},Jb=function(e,n,s,l,u){var c=e[l],d;if(u)for(d=n[u];c&&c[u]>d;)c=c._prev;return c?(n._next=c._next,c._next=n):(n._next=e[s],e[s]=n),n._next?n._next._prev=n:e[l]=n,n._prev=c,n.parent=n._dp=e,n},ef=function(e,n,s,l){s===void 0&&(s="_first"),l===void 0&&(l="_last");var u=n._prev,c=n._next;u?u._next=c:e[s]===n&&(e[s]=c),c?c._prev=u:e[l]===n&&(e[l]=u),n._next=n._prev=n.parent=null},ws=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},ar=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var s=e;s;)s._dirty=1,s=s.parent;return e},HD=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},b_=function(e,n,s,l){return e._startAt&&(Nt?e._startAt.revert(nc):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,l))},BD=function r(e){return!e||e._ts&&r(e.parent)},d1=function(e){return e._repeat?xa(e._tTime,e=e.duration()+e._rDelay)*e:0},xa=function(e,n){var s=Math.floor(e=We(e/n));return e&&s===e?s-1:s},Ic=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},tf=function(e){return e._end=We(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ge)||0))},nf=function(e,n){var s=e._dp;return s&&s.smoothChildTiming&&e._ts&&(e._start=We(s._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),tf(e),s._dirty||ar(s,e)),e},$b=function(e,n){var s;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(s=Ic(e.rawTime(),n),(!n._dur||xo(0,n.totalDuration(),s)-n._tTime>Ge)&&n.render(s,!0)),ar(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(s=e;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;e._zTime=-Ge}},Fn=function(e,n,s,l){return n.parent&&ws(n),n._start=We((Oi(s)?s:s||e!==Ze?Nn(e,s,n):e._time)+n._delay),n._end=We(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),Jb(e,n,"_first","_last",e._sort?"_start":0),T_(n)||(e._recent=n),l||$b(e,n),e._ts<0&&nf(e,e._tTime),e},eT=function(e,n){return(_n.ScrollTrigger||xm("scrollTrigger",n))&&_n.ScrollTrigger.create(n,e)},tT=function(e,n,s,l,u){if(km(e,n,u),!e._initted)return 1;if(!s&&e._pt&&!Nt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Xb!==cn.frame)return vs.push(e),e._lazy=[u,l],1},jD=function r(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||r(n))},T_=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},GD=function(e,n,s,l){var u=e.ratio,c=n<0||!n&&(!e._start&&jD(e)&&!(!e._initted&&T_(e))||(e._ts<0||e._dp._ts<0)&&!T_(e))?0:1,d=e._rDelay,_=0,m,p,y;if(d&&e._repeat&&(_=xo(0,e._tDur,n),p=xa(_,d),e._yoyo&&p&1&&(c=1-c),p!==xa(e._tTime,d)&&(u=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==u||Nt||l||e._zTime===Ge||!n&&e._zTime){if(!e._initted&&tT(e,n,l,s,_))return;for(y=e._zTime,e._zTime=n||(s?Ge:0),s||(s=n&&!y),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=_,m=e._pt;m;)m.r(c,m.d),m=m._next;n<0&&b_(e,n,s,!0),e._onUpdate&&!s&&fn(e,"onUpdate"),_&&e._repeat&&!s&&e.parent&&fn(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===c&&(c&&ws(e,1),!s&&!Nt&&(fn(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},VD=function(e,n,s){var l;if(s>n)for(l=e._first;l&&l._start<=s;){if(l.data==="isPause"&&l._start>n)return l;l=l._next}else for(l=e._last;l&&l._start>=s;){if(l.data==="isPause"&&l._start<n)return l;l=l._prev}},Ra=function(e,n,s,l){var u=e._repeat,c=We(n)||0,d=e._tTime/e._tDur;return d&&!l&&(e._time*=c/e._dur),e._dur=c,e._tDur=u?u<0?1e10:We(c*(u+1)+e._rDelay*u):c,d>0&&!l&&nf(e,e._tTime=e._tDur*d),e.parent&&tf(e),s||ar(e.parent,e),e},_1=function(e){return e instanceof kt?ar(e):Ra(e,e._dur)},qD={_start:0,endTime:fo,totalDuration:fo},Nn=function r(e,n,s){var l=e.labels,u=e._recent||qD,c=e.duration()>=Rn?u.endTime(!1):e._dur,d,_,m;return vt(n)&&(isNaN(n)||n in l)?(_=n.charAt(0),m=n.substr(-1)==="%",d=n.indexOf("="),_==="<"||_===">"?(d>=0&&(n=n.replace(/=/,"")),(_==="<"?u._start:u.endTime(u._repeat>=0))+(parseFloat(n.substr(1))||0)*(m?(d<0?u:s).totalDuration()/100:1)):d<0?(n in l||(l[n]=c),l[n]):(_=parseFloat(n.charAt(d-1)+n.substr(d+1)),m&&s&&(_=_/100*(Dt(s)?s[0]:s).totalDuration()),d>1?r(e,n.substr(0,d-1),s)+_:c+_)):n==null?c:+n},Wl=function(e,n,s){var l=Oi(n[1]),u=(l?2:1)+(e<2?0:1),c=n[u],d,_;if(l&&(c.duration=n[1]),c.parent=s,e){for(d=c,_=s;_&&!("immediateRender"in d);)d=_.vars.defaults||{},_=Ft(_.vars.inherit)&&_.parent;c.immediateRender=Ft(d.immediateRender),e<2?c.runBackwards=1:c.startAt=n[u-1]}return new ht(n[0],c,n[u+1])},Rs=function(e,n){return e||e===0?n(e):n},xo=function(e,n,s){return s<e?e:s>n?n:s},Ot=function(e,n){return!vt(e)||!(n=ID.exec(e))?"":n[1]},YD=function(e,n,s){return Rs(s,function(l){return xo(e,n,l)})},E_=[].slice,nT=function(e,n){return e&&Zn(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Zn(e[0]))&&!e.nodeType&&e!==Yn},FD=function(e,n,s){return s===void 0&&(s=[]),e.forEach(function(l){var u;return vt(l)&&!n||nT(l,1)?(u=s).push.apply(u,On(l)):s.push(l)})||s},On=function(e,n,s){return Ke&&!n&&Ke.selector?Ke.selector(e):vt(e)&&!s&&(v_||!Oa())?E_.call((n||Nm).querySelectorAll(e),0):Dt(e)?FD(e,s):nT(e)?E_.call(e,0):e?[e]:[]},C_=function(e){return e=On(e)[0]||co("Invalid scope")||{},function(n){var s=e.current||e.nativeElement||e;return On(n,s.querySelectorAll?s:s===e?co("Invalid scope")||Nm.createElement("div"):e)}},iT=function(e){return e.sort(function(){return .5-Math.random()})},sT=function(e){if(nt(e))return e;var n=Zn(e)?e:{each:e},s=lr(n.ease),l=n.from||0,u=parseFloat(n.base)||0,c={},d=l>0&&l<1,_=isNaN(l)||d,m=n.axis,p=l,y=l;return vt(l)?p=y={center:.5,edges:.5,end:1}[l]||0:!d&&_&&(p=l[0],y=l[1]),function(v,T,C){var b=(C||n).length,R=c[b],I,P,D,L,B,X,q,Q,F;if(!R){if(F=n.grid==="auto"?0:(n.grid||[1,Rn])[1],!F){for(q=-Rn;q<(q=C[F++].getBoundingClientRect().left)&&F<b;);F<b&&F--}for(R=c[b]=[],I=_?Math.min(F,b)*p-.5:l%F,P=F===Rn?0:_?b*y/F-.5:l/F|0,q=0,Q=Rn,X=0;X<b;X++)D=X%F-I,L=P-(X/F|0),R[X]=B=m?Math.abs(m==="y"?L:D):Bb(D*D+L*L),B>q&&(q=B),B<Q&&(Q=B);l==="random"&&iT(R),R.max=q-Q,R.min=Q,R.v=b=(parseFloat(n.amount)||parseFloat(n.each)*(F>b?b-1:m?m==="y"?b/F:F:Math.max(F,b/F))||0)*(l==="edges"?-1:1),R.b=b<0?u-b:u,R.u=Ot(n.amount||n.each)||0,s=s&&b<0?_T(s):s}return b=(R[v]-R.min)/R.max||0,We(R.b+(s?s(b):b)*R.v)+R.u}},w_=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(s){var l=We(Math.round(parseFloat(s)/e)*e*n);return(l-l%1)/n+(Oi(s)?0:Ot(s))}},rT=function(e,n){var s=Dt(e),l,u;return!s&&Zn(e)&&(l=s=e.radius||Rn,e.values?(e=On(e.values),(u=!Oi(e[0]))&&(l*=l)):e=w_(e.increment)),Rs(n,s?nt(e)?function(c){return u=e(c),Math.abs(u-c)<=l?u:c}:function(c){for(var d=parseFloat(u?c.x:c),_=parseFloat(u?c.y:0),m=Rn,p=0,y=e.length,v,T;y--;)u?(v=e[y].x-d,T=e[y].y-_,v=v*v+T*T):v=Math.abs(e[y]-d),v<m&&(m=v,p=y);return p=!l||m<=l?e[p]:c,u||p===c||Oi(c)?p:p+Ot(c)}:w_(e))},aT=function(e,n,s,l){return Rs(Dt(e)?!n:s===!0?!!(s=0):!l,function(){return Dt(e)?e[~~(Math.random()*e.length)]:(s=s||1e-5)&&(l=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((e-s/2+Math.random()*(n-e+s*.99))/s)*s*l)/l})},XD=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(l){return n.reduce(function(u,c){return c(u)},l)}},QD=function(e,n){return function(s){return e(parseFloat(s))+(n||Ot(s))}},KD=function(e,n,s){return oT(e,n,0,1,s)},lT=function(e,n,s){return Rs(s,function(l){return e[~~n(l)]})},WD=function r(e,n,s){var l=n-e;return Dt(e)?lT(e,r(0,e.length),n):Rs(s,function(u){return(l+(u-e)%l)%l+e})},ZD=function r(e,n,s){var l=n-e,u=l*2;return Dt(e)?lT(e,r(0,e.length-1),n):Rs(s,function(c){return c=(u+(c-e)%u)%u||0,e+(c>l?u-c:c)})},ho=function(e){return e.replace(OD,function(n){var s=n.indexOf("[")+1,l=n.substring(s||7,s?n.indexOf("]"):n.length-1).split(DD);return aT(s?l:+l[0],s?0:+l[1],+l[2]||1e-5)})},oT=function(e,n,s,l,u){var c=n-e,d=l-s;return Rs(u,function(_){return s+((_-e)/c*d||0)})},JD=function r(e,n,s,l){var u=isNaN(e+n)?0:function(T){return(1-T)*e+T*n};if(!u){var c=vt(e),d={},_,m,p,y,v;if(s===!0&&(l=1)&&(s=null),c)e={p:e},n={p:n};else if(Dt(e)&&!Dt(n)){for(p=[],y=e.length,v=y-2,m=1;m<y;m++)p.push(r(e[m-1],e[m]));y--,u=function(C){C*=y;var b=Math.min(v,~~C);return p[b](C-b)},s=n}else l||(e=Na(Dt(e)?[]:{},e));if(!p){for(_ in n)Im.call(d,e,_,"get",n[_]);u=function(C){return Um(C,d)||(c?e.p:e)}}}return Rs(s,u)},m1=function(e,n,s){var l=e.labels,u=Rn,c,d,_;for(c in l)d=l[c]-n,d<0==!!s&&d&&u>(d=Math.abs(d))&&(_=c,u=d);return _},fn=function(e,n,s){var l=e.vars,u=l[n],c=Ke,d=e._ctx,_,m,p;if(u)return _=l[n+"Params"],m=l.callbackScope||e,s&&vs.length&&Dc(),d&&(Ke=d),p=_?u.apply(m,_):u.call(m),Ke=c,p},Bl=function(e){return ws(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Nt),e.progress()<1&&fn(e,"onInterrupt"),e},ca,uT=[],cT=function(e){if(e)if(e=!e.name&&e.default||e,Am()||e.headless){var n=e.name,s=nt(e),l=n&&!s&&e.init?function(){this._props=[]}:e,u={init:fo,render:Um,add:Im,kill:_M,modifier:dM,rawVars:0},c={targetTest:0,get:0,getSetter:Lm,aliases:{},register:0};if(Oa(),e!==l){if(un[n])return;mn(l,mn(Mc(e,u),c)),Na(l.prototype,Na(u,Mc(e,c))),un[l.prop=n]=l,e.targetTest&&(ic.push(l),Rm[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}Fb(n,l),e.register&&e.register(Wt,l,Qt)}else uT.push(e)},je=255,jl={aqua:[0,je,je],lime:[0,je,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,je],navy:[0,0,128],white:[je,je,je],olive:[128,128,0],yellow:[je,je,0],orange:[je,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[je,0,0],pink:[je,192,203],cyan:[0,je,je],transparent:[je,je,je,0]},Vd=function(e,n,s){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(s-n)*e*6:e<.5?s:e*3<2?n+(s-n)*(2/3-e)*6:n)*je+.5|0},fT=function(e,n,s){var l=e?Oi(e)?[e>>16,e>>8&je,e&je]:0:jl.black,u,c,d,_,m,p,y,v,T,C;if(!l){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),jl[e])l=jl[e];else if(e.charAt(0)==="#"){if(e.length<6&&(u=e.charAt(1),c=e.charAt(2),d=e.charAt(3),e="#"+u+u+c+c+d+d+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return l=parseInt(e.substr(1,6),16),[l>>16,l>>8&je,l&je,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),l=[e>>16,e>>8&je,e&je]}else if(e.substr(0,3)==="hsl"){if(l=C=e.match(c1),!n)_=+l[0]%360/360,m=+l[1]/100,p=+l[2]/100,c=p<=.5?p*(m+1):p+m-p*m,u=p*2-c,l.length>3&&(l[3]*=1),l[0]=Vd(_+1/3,u,c),l[1]=Vd(_,u,c),l[2]=Vd(_-1/3,u,c);else if(~e.indexOf("="))return l=e.match(Gb),s&&l.length<4&&(l[3]=1),l}else l=e.match(c1)||jl.transparent;l=l.map(Number)}return n&&!C&&(u=l[0]/je,c=l[1]/je,d=l[2]/je,y=Math.max(u,c,d),v=Math.min(u,c,d),p=(y+v)/2,y===v?_=m=0:(T=y-v,m=p>.5?T/(2-y-v):T/(y+v),_=y===u?(c-d)/T+(c<d?6:0):y===c?(d-u)/T+2:(u-c)/T+4,_*=60),l[0]=~~(_+.5),l[1]=~~(m*100+.5),l[2]=~~(p*100+.5)),s&&l.length<4&&(l[3]=1),l},hT=function(e){var n=[],s=[],l=-1;return e.split(Ss).forEach(function(u){var c=u.match(ua)||[];n.push.apply(n,c),s.push(l+=c.length+1)}),n.c=s,n},p1=function(e,n,s){var l="",u=(e+l).match(Ss),c=n?"hsla(":"rgba(",d=0,_,m,p,y;if(!u)return e;if(u=u.map(function(v){return(v=fT(v,n,1))&&c+(n?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),s&&(p=hT(e),_=s.c,_.join(l)!==p.c.join(l)))for(m=e.replace(Ss,"1").split(ua),y=m.length-1;d<y;d++)l+=m[d]+(~_.indexOf(d)?u.shift()||c+"0,0,0,0)":(p.length?p:u.length?u:s).shift());if(!m)for(m=e.split(Ss),y=m.length-1;d<y;d++)l+=m[d]+u[d];return l+m[y]},Ss=(function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in jl)r+="|"+e+"\\b";return new RegExp(r+")","gi")})(),$D=/hsl[a]?\(/,dT=function(e){var n=e.join(" "),s;if(Ss.lastIndex=0,Ss.test(n))return s=$D.test(n),e[1]=p1(e[1],s),e[0]=p1(e[0],s,hT(e[1])),!0},_o,cn=(function(){var r=Date.now,e=500,n=33,s=r(),l=s,u=1e3/240,c=u,d=[],_,m,p,y,v,T,C=function b(R){var I=r()-l,P=R===!0,D,L,B,X;if((I>e||I<0)&&(s+=I-n),l+=I,B=l-s,D=B-c,(D>0||P)&&(X=++y.frame,v=B-y.time*1e3,y.time=B=B/1e3,c+=D+(D>=u?4:u-D),L=1),P||(_=m(b)),L)for(T=0;T<d.length;T++)d[T](B,v,X,R)};return y={time:0,frame:0,tick:function(){C(!0)},deltaRatio:function(R){return v/(1e3/(R||60))},wake:function(){qb&&(!v_&&Am()&&(Yn=v_=window,Nm=Yn.document||{},_n.gsap=Wt,(Yn.gsapVersions||(Yn.gsapVersions=[])).push(Wt.version),Yb(Oc||Yn.GreenSockGlobals||!Yn.gsap&&Yn||{}),uT.forEach(cT)),p=typeof requestAnimationFrame<"u"&&requestAnimationFrame,_&&y.sleep(),m=p||function(R){return setTimeout(R,c-y.time*1e3+1|0)},_o=1,C(2))},sleep:function(){(p?cancelAnimationFrame:clearTimeout)(_),_o=0,m=fo},lagSmoothing:function(R,I){e=R||1/0,n=Math.min(I||33,e)},fps:function(R){u=1e3/(R||240),c=y.time*1e3+u},add:function(R,I,P){var D=I?function(L,B,X,q){R(L,B,X,q),y.remove(D)}:R;return y.remove(R),d[P?"unshift":"push"](D),Oa(),D},remove:function(R,I){~(I=d.indexOf(R))&&d.splice(I,1)&&T>=I&&T--},_listeners:d},y})(),Oa=function(){return!_o&&cn.wake()},Ne={},eM=/^[\d.\-M][\d.\-,\s]/,tM=/["']/g,nM=function(e){for(var n={},s=e.substr(1,e.length-3).split(":"),l=s[0],u=1,c=s.length,d,_,m;u<c;u++)_=s[u],d=u!==c-1?_.lastIndexOf(","):_.length,m=_.substr(0,d),n[l]=isNaN(m)?m.replace(tM,"").trim():+m,l=_.substr(d+1).trim();return n},iM=function(e){var n=e.indexOf("(")+1,s=e.indexOf(")"),l=e.indexOf("(",n);return e.substring(n,~l&&l<s?e.indexOf(")",s+1):s)},sM=function(e){var n=(e+"").split("("),s=Ne[n[0]];return s&&n.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[nM(n[1])]:iM(e).split(",").map(Wb)):Ne._CE&&eM.test(e)?Ne._CE("",e):s},_T=function(e){return function(n){return 1-e(1-n)}},mT=function r(e,n){for(var s=e._first,l;s;)s instanceof kt?r(s,n):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==n&&(s.timeline?r(s.timeline,n):(l=s._ease,s._ease=s._yEase,s._yEase=l,s._yoyo=n)),s=s._next},lr=function(e,n){return e&&(nt(e)?e:Ne[e]||sM(e))||n},vr=function(e,n,s,l){s===void 0&&(s=function(_){return 1-n(1-_)}),l===void 0&&(l=function(_){return _<.5?n(_*2)/2:1-n((1-_)*2)/2});var u={easeIn:n,easeOut:s,easeInOut:l},c;return Xt(e,function(d){Ne[d]=_n[d]=u,Ne[c=d.toLowerCase()]=s;for(var _ in u)Ne[c+(_==="easeIn"?".in":_==="easeOut"?".out":".inOut")]=Ne[d+"."+_]=u[_]}),u},pT=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},qd=function r(e,n,s){var l=n>=1?n:1,u=(s||(e?.3:.45))/(n<1?n:1),c=u/y_*(Math.asin(1/l)||0),d=function(p){return p===1?1:l*Math.pow(2,-10*p)*RD((p-c)*u)+1},_=e==="out"?d:e==="in"?function(m){return 1-d(1-m)}:pT(d);return u=y_/u,_.config=function(m,p){return r(e,m,p)},_},Yd=function r(e,n){n===void 0&&(n=1.70158);var s=function(c){return c?--c*c*((n+1)*c+n)+1:0},l=e==="out"?s:e==="in"?function(u){return 1-s(1-u)}:pT(s);return l.config=function(u){return r(e,u)},l};Xt("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var n=e<5?e+1:e;vr(r+",Power"+(n-1),e?function(s){return Math.pow(s,n)}:function(s){return s},function(s){return 1-Math.pow(1-s,n)},function(s){return s<.5?Math.pow(s*2,n)/2:1-Math.pow((1-s)*2,n)/2})});Ne.Linear.easeNone=Ne.none=Ne.Linear.easeIn;vr("Elastic",qd("in"),qd("out"),qd());(function(r,e){var n=1/e,s=2*n,l=2.5*n,u=function(d){return d<n?r*d*d:d<s?r*Math.pow(d-1.5/e,2)+.75:d<l?r*(d-=2.25/e)*d+.9375:r*Math.pow(d-2.625/e,2)+.984375};vr("Bounce",function(c){return 1-u(1-c)},u)})(7.5625,2.75);vr("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});vr("Circ",function(r){return-(Bb(1-r*r)-1)});vr("Sine",function(r){return r===1?1:-xD(r*AD)+1});vr("Back",Yd("in"),Yd("out"),Yd());Ne.SteppedEase=Ne.steps=_n.SteppedEase={config:function(e,n){e===void 0&&(e=1);var s=1/e,l=e+(n?0:1),u=n?1:0,c=1-Ge;return function(d){return((l*xo(0,c,d)|0)+u)*s}}};Aa.ease=Ne["quad.out"];Xt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return Om+=r+","+r+"Params,"});var gT=function(e,n){this.id=ND++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:Qb,this.set=n?n.getSetter:Lm},mo=(function(){function r(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Ra(this,+n.duration,1,1),this.data=n.data,Ke&&(this._ctx=Ke,Ke.data.push(this)),_o||cn.wake()}var e=r.prototype;return e.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},e.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},e.totalDuration=function(s){return arguments.length?(this._dirty=0,Ra(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(s,l){if(Oa(),!arguments.length)return this._tTime;var u=this._dp;if(u&&u.smoothChildTiming&&this._ts){for(nf(this,s),!u._dp||u.parent||$b(u,this);u&&u.parent;)u.parent._time!==u._start+(u._ts>=0?u._tTime/u._ts:(u.totalDuration()-u._tTime)/-u._ts)&&u.totalTime(u._tTime,!0),u=u.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&Fn(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!l||this._initted&&Math.abs(this._zTime)===Ge||!this._initted&&this._dur&&s||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),Kb(this,s,l)),this},e.time=function(s,l){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+d1(this))%(this._dur+this._rDelay)||(s?this._dur:0),l):this._time},e.totalProgress=function(s,l){return arguments.length?this.totalTime(this.totalDuration()*s,l):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(s,l){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+d1(this),l):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(s,l){var u=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*u,l):this._repeat?xa(this._tTime,u)+1:1},e.timeScale=function(s,l){if(!arguments.length)return this._rts===-Ge?0:this._rts;if(this._rts===s)return this;var u=this.parent&&this._ts?Ic(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-Ge?0:this._rts,this.totalTime(xo(-Math.abs(this._delay),this.totalDuration(),u),l!==!1),tf(this),HD(this)},e.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Oa(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ge&&(this._tTime-=Ge)))),this):this._ps},e.startTime=function(s){if(arguments.length){this._start=We(s);var l=this.parent||this._dp;return l&&(l._sort||!this.parent)&&Fn(l,this,this._start-this._delay),this}return this._start},e.endTime=function(s){return this._start+(Ft(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(s){var l=this.parent||this._dp;return l?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ic(l.rawTime(s),this):this._tTime:this._tTime},e.revert=function(s){s===void 0&&(s=zD);var l=Nt;return Nt=s,Mm(this)&&(this.timeline&&this.timeline.revert(s),this.totalTime(-.01,s.suppressEvents)),this.data!=="nested"&&s.kill!==!1&&this.kill(),Nt=l,this},e.globalTime=function(s){for(var l=this,u=arguments.length?s:l.rawTime();l;)u=l._start+u/(Math.abs(l._ts)||1),l=l._dp;return!this.parent&&this._sat?this._sat.globalTime(s):u},e.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,_1(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(s){if(arguments.length){var l=this._time;return this._rDelay=s,_1(this),l?this.time(l):this}return this._rDelay},e.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},e.seek=function(s,l){return this.totalTime(Nn(this,s),Ft(l))},e.restart=function(s,l){return this.play().totalTime(s?-this._delay:0,Ft(l)),this._dur||(this._zTime=-Ge),this},e.play=function(s,l){return s!=null&&this.seek(s,l),this.reversed(!1).paused(!1)},e.reverse=function(s,l){return s!=null&&this.seek(s||this.totalDuration(),l),this.reversed(!0).paused(!1)},e.pause=function(s,l){return s!=null&&this.seek(s,l),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-Ge:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ge,this},e.isActive=function(){var s=this.parent||this._dp,l=this._start,u;return!!(!s||this._ts&&this._initted&&s.isActive()&&(u=s.rawTime(!0))>=l&&u<this.endTime(!0)-Ge)},e.eventCallback=function(s,l,u){var c=this.vars;return arguments.length>1?(l?(c[s]=l,u&&(c[s+"Params"]=u),s==="onUpdate"&&(this._onUpdate=l)):delete c[s],this):c[s]},e.then=function(s){var l=this,u=l._prom;return new Promise(function(c){var d=nt(s)?s:Zb,_=function(){var p=l.then;l.then=null,u&&u(),nt(d)&&(d=d(l))&&(d.then||d===l)&&(l.then=p),c(d),l.then=p};l._initted&&l.totalProgress()===1&&l._ts>=0||!l._tTime&&l._ts<0?_():l._prom=_})},e.kill=function(){Bl(this)},r})();mn(mo.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ge,_prom:0,_ps:!1,_rts:1});var kt=(function(r){Hb(e,r);function e(s,l){var u;return s===void 0&&(s={}),u=r.call(this,s)||this,u.labels={},u.smoothChildTiming=!!s.smoothChildTiming,u.autoRemoveChildren=!!s.autoRemoveChildren,u._sort=Ft(s.sortChildren),Ze&&Fn(s.parent||Ze,vi(u),l),s.reversed&&u.reverse(),s.paused&&u.paused(!0),s.scrollTrigger&&eT(vi(u),s.scrollTrigger),u}var n=e.prototype;return n.to=function(l,u,c){return Wl(0,arguments,this),this},n.from=function(l,u,c){return Wl(1,arguments,this),this},n.fromTo=function(l,u,c,d){return Wl(2,arguments,this),this},n.set=function(l,u,c){return u.duration=0,u.parent=this,Kl(u).repeatDelay||(u.repeat=0),u.immediateRender=!!u.immediateRender,new ht(l,u,Nn(this,c),1),this},n.call=function(l,u,c){return Fn(this,ht.delayedCall(0,l,u),c)},n.staggerTo=function(l,u,c,d,_,m,p){return c.duration=u,c.stagger=c.stagger||d,c.onComplete=m,c.onCompleteParams=p,c.parent=this,new ht(l,c,Nn(this,_)),this},n.staggerFrom=function(l,u,c,d,_,m,p){return c.runBackwards=1,Kl(c).immediateRender=Ft(c.immediateRender),this.staggerTo(l,u,c,d,_,m,p)},n.staggerFromTo=function(l,u,c,d,_,m,p,y){return d.startAt=c,Kl(d).immediateRender=Ft(d.immediateRender),this.staggerTo(l,u,d,_,m,p,y)},n.render=function(l,u,c){var d=this._time,_=this._dirty?this.totalDuration():this._tDur,m=this._dur,p=l<=0?0:We(l),y=this._zTime<0!=l<0&&(this._initted||!m),v,T,C,b,R,I,P,D,L,B,X,q;if(this!==Ze&&p>_&&l>=0&&(p=_),p!==this._tTime||c||y){if(d!==this._time&&m&&(p+=this._time-d,l+=this._time-d),v=p,L=this._start,D=this._ts,I=!D,y&&(m||(d=this._zTime),(l||!u)&&(this._zTime=l)),this._repeat){if(X=this._yoyo,R=m+this._rDelay,this._repeat<-1&&l<0)return this.totalTime(R*100+l,u,c);if(v=We(p%R),p===_?(b=this._repeat,v=m):(B=We(p/R),b=~~B,b&&b===B&&(v=m,b--),v>m&&(v=m)),B=xa(this._tTime,R),!d&&this._tTime&&B!==b&&this._tTime-B*R-this._dur<=0&&(B=b),X&&b&1&&(v=m-v,q=1),b!==B&&!this._lock){var Q=X&&B&1,F=Q===(X&&b&1);if(b<B&&(Q=!Q),d=Q?0:p%m?m:p,this._lock=1,this.render(d||(q?0:We(b*R)),u,!m)._lock=0,this._tTime=p,!u&&this.parent&&fn(this,"onRepeat"),this.vars.repeatRefresh&&!q&&(this.invalidate()._lock=1,B=b),d&&d!==this._time||I!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(m=this._dur,_=this._tDur,F&&(this._lock=2,d=Q?m:-1e-4,this.render(d,!0),this.vars.repeatRefresh&&!q&&this.invalidate()),this._lock=0,!this._ts&&!I)return this;mT(this,q)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(P=VD(this,We(d),We(v)),P&&(p-=v-(v=P._start))),this._tTime=p,this._time=v,this._act=!D,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=l,d=0),!d&&p&&m&&!u&&!B&&(fn(this,"onStart"),this._tTime!==p))return this;if(v>=d&&l>=0)for(T=this._first;T;){if(C=T._next,(T._act||v>=T._start)&&T._ts&&P!==T){if(T.parent!==this)return this.render(l,u,c);if(T.render(T._ts>0?(v-T._start)*T._ts:(T._dirty?T.totalDuration():T._tDur)+(v-T._start)*T._ts,u,c),v!==this._time||!this._ts&&!I){P=0,C&&(p+=this._zTime=-Ge);break}}T=C}else{T=this._last;for(var le=l<0?l:v;T;){if(C=T._prev,(T._act||le<=T._end)&&T._ts&&P!==T){if(T.parent!==this)return this.render(l,u,c);if(T.render(T._ts>0?(le-T._start)*T._ts:(T._dirty?T.totalDuration():T._tDur)+(le-T._start)*T._ts,u,c||Nt&&Mm(T)),v!==this._time||!this._ts&&!I){P=0,C&&(p+=this._zTime=le?-Ge:Ge);break}}T=C}}if(P&&!u&&(this.pause(),P.render(v>=d?0:-Ge)._zTime=v>=d?1:-1,this._ts))return this._start=L,tf(this),this.render(l,u,c);this._onUpdate&&!u&&fn(this,"onUpdate",!0),(p===_&&this._tTime>=this.totalDuration()||!p&&d)&&(L===this._start||Math.abs(D)!==Math.abs(this._ts))&&(this._lock||((l||!m)&&(p===_&&this._ts>0||!p&&this._ts<0)&&ws(this,1),!u&&!(l<0&&!d)&&(p||d||!_)&&(fn(this,p===_&&l>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(p<_&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(l,u){var c=this;if(Oi(u)||(u=Nn(this,u,l)),!(l instanceof mo)){if(Dt(l))return l.forEach(function(d){return c.add(d,u)}),this;if(vt(l))return this.addLabel(l,u);if(nt(l))l=ht.delayedCall(0,l);else return this}return this!==l?Fn(this,l,u):this},n.getChildren=function(l,u,c,d){l===void 0&&(l=!0),u===void 0&&(u=!0),c===void 0&&(c=!0),d===void 0&&(d=-Rn);for(var _=[],m=this._first;m;)m._start>=d&&(m instanceof ht?u&&_.push(m):(c&&_.push(m),l&&_.push.apply(_,m.getChildren(!0,u,c)))),m=m._next;return _},n.getById=function(l){for(var u=this.getChildren(1,1,1),c=u.length;c--;)if(u[c].vars.id===l)return u[c]},n.remove=function(l){return vt(l)?this.removeLabel(l):nt(l)?this.killTweensOf(l):(l.parent===this&&ef(this,l),l===this._recent&&(this._recent=this._last),ar(this))},n.totalTime=function(l,u){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=We(cn.time-(this._ts>0?l/this._ts:(this.totalDuration()-l)/-this._ts))),r.prototype.totalTime.call(this,l,u),this._forcing=0,this):this._tTime},n.addLabel=function(l,u){return this.labels[l]=Nn(this,u),this},n.removeLabel=function(l){return delete this.labels[l],this},n.addPause=function(l,u,c){var d=ht.delayedCall(0,u||fo,c);return d.data="isPause",this._hasPause=1,Fn(this,d,Nn(this,l))},n.removePause=function(l){var u=this._first;for(l=Nn(this,l);u;)u._start===l&&u.data==="isPause"&&ws(u),u=u._next},n.killTweensOf=function(l,u,c){for(var d=this.getTweensOf(l,c),_=d.length;_--;)cs!==d[_]&&d[_].kill(l,u);return this},n.getTweensOf=function(l,u){for(var c=[],d=On(l),_=this._first,m=Oi(u),p;_;)_ instanceof ht?LD(_._targets,d)&&(m?(!cs||_._initted&&_._ts)&&_.globalTime(0)<=u&&_.globalTime(_.totalDuration())>u:!u||_.isActive())&&c.push(_):(p=_.getTweensOf(d,u)).length&&c.push.apply(c,p),_=_._next;return c},n.tweenTo=function(l,u){u=u||{};var c=this,d=Nn(c,l),_=u,m=_.startAt,p=_.onStart,y=_.onStartParams,v=_.immediateRender,T,C=ht.to(c,mn({ease:u.ease||"none",lazy:!1,immediateRender:!1,time:d,overwrite:"auto",duration:u.duration||Math.abs((d-(m&&"time"in m?m.time:c._time))/c.timeScale())||Ge,onStart:function(){if(c.pause(),!T){var R=u.duration||Math.abs((d-(m&&"time"in m?m.time:c._time))/c.timeScale());C._dur!==R&&Ra(C,R,0,1).render(C._time,!0,!0),T=1}p&&p.apply(C,y||[])}},u));return v?C.render(0):C},n.tweenFromTo=function(l,u,c){return this.tweenTo(u,mn({startAt:{time:Nn(this,l)}},c))},n.recent=function(){return this._recent},n.nextLabel=function(l){return l===void 0&&(l=this._time),m1(this,Nn(this,l))},n.previousLabel=function(l){return l===void 0&&(l=this._time),m1(this,Nn(this,l),1)},n.currentLabel=function(l){return arguments.length?this.seek(l,!0):this.previousLabel(this._time+Ge)},n.shiftChildren=function(l,u,c){c===void 0&&(c=0);var d=this._first,_=this.labels,m;for(l=We(l);d;)d._start>=c&&(d._start+=l,d._end+=l),d=d._next;if(u)for(m in _)_[m]>=c&&(_[m]+=l);return ar(this)},n.invalidate=function(l){var u=this._first;for(this._lock=0;u;)u.invalidate(l),u=u._next;return r.prototype.invalidate.call(this,l)},n.clear=function(l){l===void 0&&(l=!0);for(var u=this._first,c;u;)c=u._next,this.remove(u),u=c;return this._dp&&(this._time=this._tTime=this._pTime=0),l&&(this.labels={}),ar(this)},n.totalDuration=function(l){var u=0,c=this,d=c._last,_=Rn,m,p,y;if(arguments.length)return c.timeScale((c._repeat<0?c.duration():c.totalDuration())/(c.reversed()?-l:l));if(c._dirty){for(y=c.parent;d;)m=d._prev,d._dirty&&d.totalDuration(),p=d._start,p>_&&c._sort&&d._ts&&!c._lock?(c._lock=1,Fn(c,d,p-d._delay,1)._lock=0):_=p,p<0&&d._ts&&(u-=p,(!y&&!c._dp||y&&y.smoothChildTiming)&&(c._start+=We(p/c._ts),c._time-=p,c._tTime-=p),c.shiftChildren(-p,!1,-1/0),_=0),d._end>u&&d._ts&&(u=d._end),d=m;Ra(c,c===Ze&&c._time>u?c._time:u,1,1),c._dirty=0}return c._tDur},e.updateRoot=function(l){if(Ze._ts&&(Kb(Ze,Ic(l,Ze)),Xb=cn.frame),cn.frame>=f1){f1+=dn.autoSleep||120;var u=Ze._first;if((!u||!u._ts)&&dn.autoSleep&&cn._listeners.length<2){for(;u&&!u._ts;)u=u._next;u||cn.sleep()}}},e})(mo);mn(kt.prototype,{_lock:0,_hasPause:0,_forcing:0});var rM=function(e,n,s,l,u,c,d){var _=new Qt(this._pt,e,n,0,1,ET,null,u),m=0,p=0,y,v,T,C,b,R,I,P;for(_.b=s,_.e=l,s+="",l+="",(I=~l.indexOf("random("))&&(l=ho(l)),c&&(P=[s,l],c(P,e,n),s=P[0],l=P[1]),v=s.match(jd)||[];y=jd.exec(l);)C=y[0],b=l.substring(m,y.index),T?T=(T+1)%5:b.substr(-5)==="rgba("&&(T=1),C!==v[p++]&&(R=parseFloat(v[p-1])||0,_._pt={_next:_._pt,p:b||p===1?b:",",s:R,c:C.charAt(1)==="="?pa(R,C)-R:parseFloat(C)-R,m:T&&T<4?Math.round:0},m=jd.lastIndex);return _.c=m<l.length?l.substring(m,l.length):"",_.fp=d,(Vb.test(l)||I)&&(_.e=0),this._pt=_,_},Im=function(e,n,s,l,u,c,d,_,m,p){nt(l)&&(l=l(u||0,e,c));var y=e[n],v=s!=="get"?s:nt(y)?m?e[n.indexOf("set")||!nt(e["get"+n.substr(3)])?n:"get"+n.substr(3)](m):e[n]():y,T=nt(y)?m?cM:bT:zm,C;if(vt(l)&&(~l.indexOf("random(")&&(l=ho(l)),l.charAt(1)==="="&&(C=pa(v,l)+(Ot(v)||0),(C||C===0)&&(l=C))),!p||v!==l||A_)return!isNaN(v*l)&&l!==""?(C=new Qt(this._pt,e,n,+v||0,l-(v||0),typeof y=="boolean"?hM:TT,0,T),m&&(C.fp=m),d&&C.modifier(d,this,e),this._pt=C):(!y&&!(n in e)&&xm(n,l),rM.call(this,e,n,v,l,T,_||dn.stringFilter,m))},aM=function(e,n,s,l,u){if(nt(e)&&(e=Zl(e,u,n,s,l)),!Zn(e)||e.style&&e.nodeType||Dt(e)||jb(e))return vt(e)?Zl(e,u,n,s,l):e;var c={},d;for(d in e)c[d]=Zl(e[d],u,n,s,l);return c},yT=function(e,n,s,l,u,c){var d,_,m,p;if(un[e]&&(d=new un[e]).init(u,d.rawVars?n[e]:aM(n[e],l,u,c,s),s,l,c)!==!1&&(s._pt=_=new Qt(s._pt,u,e,0,1,d.render,d,0,d.priority),s!==ca))for(m=s._ptLookup[s._targets.indexOf(u)],p=d._props.length;p--;)m[d._props[p]]=_;return d},cs,A_,km=function r(e,n,s){var l=e.vars,u=l.ease,c=l.startAt,d=l.immediateRender,_=l.lazy,m=l.onUpdate,p=l.runBackwards,y=l.yoyoEase,v=l.keyframes,T=l.autoRevert,C=e._dur,b=e._startAt,R=e._targets,I=e.parent,P=I&&I.data==="nested"?I.vars.targets:R,D=e._overwrite==="auto"&&!Cm,L=e.timeline,B,X,q,Q,F,le,te,ee,re,$,K,N,G;if(L&&(!v||!u)&&(u="none"),e._ease=lr(u,Aa.ease),e._yEase=y?_T(lr(y===!0?u:y,Aa.ease)):0,y&&e._yoyo&&!e._repeat&&(y=e._yEase,e._yEase=e._ease,e._ease=y),e._from=!L&&!!l.runBackwards,!L||v&&!l.stagger){if(ee=R[0]?rr(R[0]).harness:0,N=ee&&l[ee.prop],B=Mc(l,Rm),b&&(b._zTime<0&&b.progress(1),n<0&&p&&d&&!T?b.render(-1,!0):b.revert(p&&C?nc:kD),b._lazy=0),c){if(ws(e._startAt=ht.set(R,mn({data:"isStart",overwrite:!1,parent:I,immediateRender:!0,lazy:!b&&Ft(_),startAt:null,delay:0,onUpdate:m&&function(){return fn(e,"onUpdate")},stagger:0},c))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Nt||!d&&!T)&&e._startAt.revert(nc),d&&C&&n<=0&&s<=0){n&&(e._zTime=n);return}}else if(p&&C&&!b){if(n&&(d=!1),q=mn({overwrite:!1,data:"isFromStart",lazy:d&&!b&&Ft(_),immediateRender:d,stagger:0,parent:I},B),N&&(q[ee.prop]=N),ws(e._startAt=ht.set(R,q)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Nt?e._startAt.revert(nc):e._startAt.render(-1,!0)),e._zTime=n,!d)r(e._startAt,Ge,Ge);else if(!n)return}for(e._pt=e._ptCache=0,_=C&&Ft(_)||_&&!C,X=0;X<R.length;X++){if(F=R[X],te=F._gsap||Dm(R)[X]._gsap,e._ptLookup[X]=$={},S_[te.id]&&vs.length&&Dc(),K=P===R?X:P.indexOf(F),ee&&(re=new ee).init(F,N||B,e,K,P)!==!1&&(e._pt=Q=new Qt(e._pt,F,re.name,0,1,re.render,re,0,re.priority),re._props.forEach(function(ne){$[ne]=Q}),re.priority&&(le=1)),!ee||N)for(q in B)un[q]&&(re=yT(q,B,e,K,F,P))?re.priority&&(le=1):$[q]=Q=Im.call(e,F,q,"get",B[q],K,P,0,l.stringFilter);e._op&&e._op[X]&&e.kill(F,e._op[X]),D&&e._pt&&(cs=e,Ze.killTweensOf(F,$,e.globalTime(n)),G=!e.parent,cs=0),e._pt&&_&&(S_[te.id]=1)}le&&CT(e),e._onInit&&e._onInit(e)}e._onUpdate=m,e._initted=(!e._op||e._pt)&&!G,v&&n<=0&&L.render(Rn,!0,!0)},lM=function(e,n,s,l,u,c,d,_){var m=(e._pt&&e._ptCache||(e._ptCache={}))[n],p,y,v,T;if(!m)for(m=e._ptCache[n]=[],v=e._ptLookup,T=e._targets.length;T--;){if(p=v[T][n],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==n&&p.fp!==n;)p=p._next;if(!p)return A_=1,e.vars[n]="+=0",km(e,d),A_=0,_?co(n+" not eligible for reset"):1;m.push(p)}for(T=m.length;T--;)y=m[T],p=y._pt||y,p.s=(l||l===0)&&!u?l:p.s+(l||0)+c*p.c,p.c=s-p.s,y.e&&(y.e=rt(s)+Ot(y.e)),y.b&&(y.b=p.s+Ot(y.b))},oM=function(e,n){var s=e[0]?rr(e[0]).harness:0,l=s&&s.aliases,u,c,d,_;if(!l)return n;u=Na({},n);for(c in l)if(c in u)for(_=l[c].split(","),d=_.length;d--;)u[_[d]]=u[c];return u},uM=function(e,n,s,l){var u=n.ease||l||"power1.inOut",c,d;if(Dt(n))d=s[e]||(s[e]=[]),n.forEach(function(_,m){return d.push({t:m/(n.length-1)*100,v:_,e:u})});else for(c in n)d=s[c]||(s[c]=[]),c==="ease"||d.push({t:parseFloat(e),v:n[c],e:u})},Zl=function(e,n,s,l,u){return nt(e)?e.call(n,s,l,u):vt(e)&&~e.indexOf("random(")?ho(e):e},vT=Om+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",ST={};Xt(vT+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return ST[r]=1});var ht=(function(r){Hb(e,r);function e(s,l,u,c){var d;typeof l=="number"&&(u.duration=l,l=u,u=null),d=r.call(this,c?l:Kl(l))||this;var _=d.vars,m=_.duration,p=_.delay,y=_.immediateRender,v=_.stagger,T=_.overwrite,C=_.keyframes,b=_.defaults,R=_.scrollTrigger,I=_.yoyoEase,P=l.parent||Ze,D=(Dt(s)||jb(s)?Oi(s[0]):"length"in l)?[s]:On(s),L,B,X,q,Q,F,le,te;if(d._targets=D.length?Dm(D):co("GSAP target "+s+" not found. https://gsap.com",!dn.nullTargetWarn)||[],d._ptLookup=[],d._overwrite=T,C||v||Wu(m)||Wu(p)){if(l=d.vars,L=d.timeline=new kt({data:"nested",defaults:b||{},targets:P&&P.data==="nested"?P.vars.targets:D}),L.kill(),L.parent=L._dp=vi(d),L._start=0,v||Wu(m)||Wu(p)){if(q=D.length,le=v&&sT(v),Zn(v))for(Q in v)~vT.indexOf(Q)&&(te||(te={}),te[Q]=v[Q]);for(B=0;B<q;B++)X=Mc(l,ST),X.stagger=0,I&&(X.yoyoEase=I),te&&Na(X,te),F=D[B],X.duration=+Zl(m,vi(d),B,F,D),X.delay=(+Zl(p,vi(d),B,F,D)||0)-d._delay,!v&&q===1&&X.delay&&(d._delay=p=X.delay,d._start+=p,X.delay=0),L.to(F,X,le?le(B,F,D):0),L._ease=Ne.none;L.duration()?m=p=0:d.timeline=0}else if(C){Kl(mn(L.vars.defaults,{ease:"none"})),L._ease=lr(C.ease||l.ease||"none");var ee=0,re,$,K;if(Dt(C))C.forEach(function(N){return L.to(D,N,">")}),L.duration();else{X={};for(Q in C)Q==="ease"||Q==="easeEach"||uM(Q,C[Q],X,C.easeEach);for(Q in X)for(re=X[Q].sort(function(N,G){return N.t-G.t}),ee=0,B=0;B<re.length;B++)$=re[B],K={ease:$.e,duration:($.t-(B?re[B-1].t:0))/100*m},K[Q]=$.v,L.to(D,K,ee),ee+=K.duration;L.duration()<m&&L.to({},{duration:m-L.duration()})}}m||d.duration(m=L.duration())}else d.timeline=0;return T===!0&&!Cm&&(cs=vi(d),Ze.killTweensOf(D),cs=0),Fn(P,vi(d),u),l.reversed&&d.reverse(),l.paused&&d.paused(!0),(y||!m&&!C&&d._start===We(P._time)&&Ft(y)&&BD(vi(d))&&P.data!=="nested")&&(d._tTime=-Ge,d.render(Math.max(0,-p)||0)),R&&eT(vi(d),R),d}var n=e.prototype;return n.render=function(l,u,c){var d=this._time,_=this._tDur,m=this._dur,p=l<0,y=l>_-Ge&&!p?_:l<Ge?0:l,v,T,C,b,R,I,P,D,L;if(!m)GD(this,l,u,c);else if(y!==this._tTime||!l||c||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==p||this._lazy){if(v=y,D=this.timeline,this._repeat){if(b=m+this._rDelay,this._repeat<-1&&p)return this.totalTime(b*100+l,u,c);if(v=We(y%b),y===_?(C=this._repeat,v=m):(R=We(y/b),C=~~R,C&&C===R?(v=m,C--):v>m&&(v=m)),I=this._yoyo&&C&1,I&&(L=this._yEase,v=m-v),R=xa(this._tTime,b),v===d&&!c&&this._initted&&C===R)return this._tTime=y,this;C!==R&&(D&&this._yEase&&mT(D,I),this.vars.repeatRefresh&&!I&&!this._lock&&v!==b&&this._initted&&(this._lock=c=1,this.render(We(b*C),!0).invalidate()._lock=0))}if(!this._initted){if(tT(this,p?l:v,c,u,y))return this._tTime=0,this;if(d!==this._time&&!(c&&this.vars.repeatRefresh&&C!==R))return this;if(m!==this._dur)return this.render(l,u,c)}if(this._tTime=y,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=P=(L||this._ease)(v/m),this._from&&(this.ratio=P=1-P),!d&&y&&!u&&!R&&(fn(this,"onStart"),this._tTime!==y))return this;for(T=this._pt;T;)T.r(P,T.d),T=T._next;D&&D.render(l<0?l:D._dur*D._ease(v/this._dur),u,c)||this._startAt&&(this._zTime=l),this._onUpdate&&!u&&(p&&b_(this,l,u,c),fn(this,"onUpdate")),this._repeat&&C!==R&&this.vars.onRepeat&&!u&&this.parent&&fn(this,"onRepeat"),(y===this._tDur||!y)&&this._tTime===y&&(p&&!this._onUpdate&&b_(this,l,!0,!0),(l||!m)&&(y===this._tDur&&this._ts>0||!y&&this._ts<0)&&ws(this,1),!u&&!(p&&!d)&&(y||d||I)&&(fn(this,y===_?"onComplete":"onReverseComplete",!0),this._prom&&!(y<_&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(l){return(!l||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(l),r.prototype.invalidate.call(this,l)},n.resetTo=function(l,u,c,d,_){_o||cn.wake(),this._ts||this.play();var m=Math.min(this._dur,(this._dp._time-this._start)*this._ts),p;return this._initted||km(this,m),p=this._ease(m/this._dur),lM(this,l,u,c,d,p,m,_)?this.resetTo(l,u,c,d,1):(nf(this,0),this.parent||Jb(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(l,u){if(u===void 0&&(u="all"),!l&&(!u||u==="all"))return this._lazy=this._pt=0,this.parent?Bl(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Nt),this;if(this.timeline){var c=this.timeline.totalDuration();return this.timeline.killTweensOf(l,u,cs&&cs.vars.overwrite!==!0)._first||Bl(this),this.parent&&c!==this.timeline.totalDuration()&&Ra(this,this._dur*this.timeline._tDur/c,0,1),this}var d=this._targets,_=l?On(l):d,m=this._ptLookup,p=this._pt,y,v,T,C,b,R,I;if((!u||u==="all")&&PD(d,_))return u==="all"&&(this._pt=0),Bl(this);for(y=this._op=this._op||[],u!=="all"&&(vt(u)&&(b={},Xt(u,function(P){return b[P]=1}),u=b),u=oM(d,u)),I=d.length;I--;)if(~_.indexOf(d[I])){v=m[I],u==="all"?(y[I]=u,C=v,T={}):(T=y[I]=y[I]||{},C=u);for(b in C)R=v&&v[b],R&&((!("kill"in R.d)||R.d.kill(b)===!0)&&ef(this,R,"_pt"),delete v[b]),T!=="all"&&(T[b]=1)}return this._initted&&!this._pt&&p&&Bl(this),this},e.to=function(l,u){return new e(l,u,arguments[2])},e.from=function(l,u){return Wl(1,arguments)},e.delayedCall=function(l,u,c,d){return new e(u,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:l,onComplete:u,onReverseComplete:u,onCompleteParams:c,onReverseCompleteParams:c,callbackScope:d})},e.fromTo=function(l,u,c){return Wl(2,arguments)},e.set=function(l,u){return u.duration=0,u.repeatDelay||(u.repeat=0),new e(l,u)},e.killTweensOf=function(l,u,c){return Ze.killTweensOf(l,u,c)},e})(mo);mn(ht.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Xt("staggerTo,staggerFrom,staggerFromTo",function(r){ht[r]=function(){var e=new kt,n=E_.call(arguments,0);return n.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,n)}});var zm=function(e,n,s){return e[n]=s},bT=function(e,n,s){return e[n](s)},cM=function(e,n,s,l){return e[n](l.fp,s)},fM=function(e,n,s){return e.setAttribute(n,s)},Lm=function(e,n){return nt(e[n])?bT:wm(e[n])&&e.setAttribute?fM:zm},TT=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},hM=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},ET=function(e,n){var s=n._pt,l="";if(!e&&n.b)l=n.b;else if(e===1&&n.e)l=n.e;else{for(;s;)l=s.p+(s.m?s.m(s.s+s.c*e):Math.round((s.s+s.c*e)*1e4)/1e4)+l,s=s._next;l+=n.c}n.set(n.t,n.p,l,n)},Um=function(e,n){for(var s=n._pt;s;)s.r(e,s.d),s=s._next},dM=function(e,n,s,l){for(var u=this._pt,c;u;)c=u._next,u.p===l&&u.modifier(e,n,s),u=c},_M=function(e){for(var n=this._pt,s,l;n;)l=n._next,n.p===e&&!n.op||n.op===e?ef(this,n,"_pt"):n.dep||(s=1),n=l;return!s},mM=function(e,n,s,l){l.mSet(e,n,l.m.call(l.tween,s,l.mt),l)},CT=function(e){for(var n=e._pt,s,l,u,c;n;){for(s=n._next,l=u;l&&l.pr>n.pr;)l=l._next;(n._prev=l?l._prev:c)?n._prev._next=n:u=n,(n._next=l)?l._prev=n:c=n,n=s}e._pt=u},Qt=(function(){function r(n,s,l,u,c,d,_,m,p){this.t=s,this.s=u,this.c=c,this.p=l,this.r=d||TT,this.d=_||this,this.set=m||zm,this.pr=p||0,this._next=n,n&&(n._prev=this)}var e=r.prototype;return e.modifier=function(s,l,u){this.mSet=this.mSet||this.set,this.set=mM,this.m=s,this.mt=u,this.tween=l},r})();Xt(Om+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return Rm[r]=1});_n.TweenMax=_n.TweenLite=ht;_n.TimelineLite=_n.TimelineMax=kt;Ze=new kt({sortChildren:!1,defaults:Aa,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});dn.stringFilter=dT;var or=[],sc={},pM=[],g1=0,gM=0,Fd=function(e){return(sc[e]||pM).map(function(n){return n()})},N_=function(){var e=Date.now(),n=[];e-g1>2&&(Fd("matchMediaInit"),or.forEach(function(s){var l=s.queries,u=s.conditions,c,d,_,m;for(d in l)c=Yn.matchMedia(l[d]).matches,c&&(_=1),c!==u[d]&&(u[d]=c,m=1);m&&(s.revert(),_&&n.push(s))}),Fd("matchMediaRevert"),n.forEach(function(s){return s.onMatch(s,function(l){return s.add(null,l)})}),g1=e,Fd("matchMedia"))},wT=(function(){function r(n,s){this.selector=s&&C_(s),this.data=[],this._r=[],this.isReverted=!1,this.id=gM++,n&&this.add(n)}var e=r.prototype;return e.add=function(s,l,u){nt(s)&&(u=l,l=s,s=nt);var c=this,d=function(){var m=Ke,p=c.selector,y;return m&&m!==c&&m.data.push(c),u&&(c.selector=C_(u)),Ke=c,y=l.apply(c,arguments),nt(y)&&c._r.push(y),Ke=m,c.selector=p,c.isReverted=!1,y};return c.last=d,s===nt?d(c,function(_){return c.add(null,_)}):s?c[s]=d:d},e.ignore=function(s){var l=Ke;Ke=null,s(this),Ke=l},e.getTweens=function(){var s=[];return this.data.forEach(function(l){return l instanceof r?s.push.apply(s,l.getTweens()):l instanceof ht&&!(l.parent&&l.parent.data==="nested")&&s.push(l)}),s},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(s,l){var u=this;if(s?(function(){for(var d=u.getTweens(),_=u.data.length,m;_--;)m=u.data[_],m.data==="isFlip"&&(m.revert(),m.getChildren(!0,!0,!1).forEach(function(p){return d.splice(d.indexOf(p),1)}));for(d.map(function(p){return{g:p._dur||p._delay||p._sat&&!p._sat.vars.immediateRender?p.globalTime(0):-1/0,t:p}}).sort(function(p,y){return y.g-p.g||-1/0}).forEach(function(p){return p.t.revert(s)}),_=u.data.length;_--;)m=u.data[_],m instanceof kt?m.data!=="nested"&&(m.scrollTrigger&&m.scrollTrigger.revert(),m.kill()):!(m instanceof ht)&&m.revert&&m.revert(s);u._r.forEach(function(p){return p(s,u)}),u.isReverted=!0})():this.data.forEach(function(d){return d.kill&&d.kill()}),this.clear(),l)for(var c=or.length;c--;)or[c].id===this.id&&or.splice(c,1)},e.revert=function(s){this.kill(s||{})},r})(),yM=(function(){function r(n){this.contexts=[],this.scope=n,Ke&&Ke.data.push(this)}var e=r.prototype;return e.add=function(s,l,u){Zn(s)||(s={matches:s});var c=new wT(0,u||this.scope),d=c.conditions={},_,m,p;Ke&&!c.selector&&(c.selector=Ke.selector),this.contexts.push(c),l=c.add("onMatch",l),c.queries=s;for(m in s)m==="all"?p=1:(_=Yn.matchMedia(s[m]),_&&(or.indexOf(c)<0&&or.push(c),(d[m]=_.matches)&&(p=1),_.addListener?_.addListener(N_):_.addEventListener("change",N_)));return p&&l(c,function(y){return c.add(null,y)}),this},e.revert=function(s){this.kill(s||{})},e.kill=function(s){this.contexts.forEach(function(l){return l.kill(s,!0)})},r})(),kc={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];n.forEach(function(l){return cT(l)})},timeline:function(e){return new kt(e)},getTweensOf:function(e,n){return Ze.getTweensOf(e,n)},getProperty:function(e,n,s,l){vt(e)&&(e=On(e)[0]);var u=rr(e||{}).get,c=s?Zb:Wb;return s==="native"&&(s=""),e&&(n?c((un[n]&&un[n].get||u)(e,n,s,l)):function(d,_,m){return c((un[d]&&un[d].get||u)(e,d,_,m))})},quickSetter:function(e,n,s){if(e=On(e),e.length>1){var l=e.map(function(p){return Wt.quickSetter(p,n,s)}),u=l.length;return function(p){for(var y=u;y--;)l[y](p)}}e=e[0]||{};var c=un[n],d=rr(e),_=d.harness&&(d.harness.aliases||{})[n]||n,m=c?function(p){var y=new c;ca._pt=0,y.init(e,s?p+s:p,ca,0,[e]),y.render(1,y),ca._pt&&Um(1,ca)}:d.set(e,_);return c?m:function(p){return m(e,_,s?p+s:p,d,1)}},quickTo:function(e,n,s){var l,u=Wt.to(e,mn((l={},l[n]="+=0.1",l.paused=!0,l.stagger=0,l),s||{})),c=function(_,m,p){return u.resetTo(n,_,m,p)};return c.tween=u,c},isTweening:function(e){return Ze.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=lr(e.ease,Aa.ease)),h1(Aa,e||{})},config:function(e){return h1(dn,e||{})},registerEffect:function(e){var n=e.name,s=e.effect,l=e.plugins,u=e.defaults,c=e.extendTimeline;(l||"").split(",").forEach(function(d){return d&&!un[d]&&!_n[d]&&co(n+" effect requires "+d+" plugin.")}),Gd[n]=function(d,_,m){return s(On(d),mn(_||{},u),m)},c&&(kt.prototype[n]=function(d,_,m){return this.add(Gd[n](d,Zn(_)?_:(m=_)&&{},this),m)})},registerEase:function(e,n){Ne[e]=lr(n)},parseEase:function(e,n){return arguments.length?lr(e,n):Ne},getById:function(e){return Ze.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var s=new kt(e),l,u;for(s.smoothChildTiming=Ft(e.smoothChildTiming),Ze.remove(s),s._dp=0,s._time=s._tTime=Ze._time,l=Ze._first;l;)u=l._next,(n||!(!l._dur&&l instanceof ht&&l.vars.onComplete===l._targets[0]))&&Fn(s,l,l._start-l._delay),l=u;return Fn(Ze,s,0),s},context:function(e,n){return e?new wT(e,n):Ke},matchMedia:function(e){return new yM(e)},matchMediaRefresh:function(){return or.forEach(function(e){var n=e.conditions,s,l;for(l in n)n[l]&&(n[l]=!1,s=1);s&&e.revert()})||N_()},addEventListener:function(e,n){var s=sc[e]||(sc[e]=[]);~s.indexOf(n)||s.push(n)},removeEventListener:function(e,n){var s=sc[e],l=s&&s.indexOf(n);l>=0&&s.splice(l,1)},utils:{wrap:WD,wrapYoyo:ZD,distribute:sT,random:aT,snap:rT,normalize:KD,getUnit:Ot,clamp:YD,splitColor:fT,toArray:On,selector:C_,mapRange:oT,pipe:XD,unitize:QD,interpolate:JD,shuffle:iT},install:Yb,effects:Gd,ticker:cn,updateRoot:kt.updateRoot,plugins:un,globalTimeline:Ze,core:{PropTween:Qt,globals:Fb,Tween:ht,Timeline:kt,Animation:mo,getCache:rr,_removeLinkedListItem:ef,reverting:function(){return Nt},context:function(e){return e&&Ke&&(Ke.data.push(e),e._ctx=Ke),Ke},suppressOverwrites:function(e){return Cm=e}}};Xt("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return kc[r]=ht[r]});cn.add(kt.updateRoot);ca=kc.to({},{duration:0});var vM=function(e,n){for(var s=e._pt;s&&s.p!==n&&s.op!==n&&s.fp!==n;)s=s._next;return s},SM=function(e,n){var s=e._targets,l,u,c;for(l in n)for(u=s.length;u--;)c=e._ptLookup[u][l],c&&(c=c.d)&&(c._pt&&(c=vM(c,l)),c&&c.modifier&&c.modifier(n[l],e,s[u],l))},Xd=function(e,n){return{name:e,headless:1,rawVars:1,init:function(l,u,c){c._onInit=function(d){var _,m;if(vt(u)&&(_={},Xt(u,function(p){return _[p]=1}),u=_),n){_={};for(m in u)_[m]=n(u[m]);u=_}SM(d,u)}}}},Wt=kc.registerPlugin({name:"attr",init:function(e,n,s,l,u){var c,d,_;this.tween=s;for(c in n)_=e.getAttribute(c)||"",d=this.add(e,"setAttribute",(_||0)+"",n[c],l,u,0,0,c),d.op=c,d.b=_,this._props.push(c)},render:function(e,n){for(var s=n._pt;s;)Nt?s.set(s.t,s.p,s.b,s):s.r(e,s.d),s=s._next}},{name:"endArray",headless:1,init:function(e,n){for(var s=n.length;s--;)this.add(e,s,e[s]||0,n[s],0,0,0,0,0,1)}},Xd("roundProps",w_),Xd("modifiers"),Xd("snap",rT))||kc;ht.version=kt.version=Wt.version="3.14.2";qb=1;Am()&&Oa();Ne.Power0;Ne.Power1;Ne.Power2;Ne.Power3;Ne.Power4;Ne.Linear;Ne.Quad;Ne.Cubic;Ne.Quart;Ne.Quint;Ne.Strong;Ne.Elastic;Ne.Back;Ne.SteppedEase;Ne.Bounce;Ne.Sine;Ne.Expo;Ne.Circ;var y1,fs,ga,Pm,sr,v1,Hm,bM=function(){return typeof window<"u"},Di={},tr=180/Math.PI,ya=Math.PI/180,aa=Math.atan2,S1=1e8,Bm=/([A-Z])/g,TM=/(left|right|width|margin|padding|x)/i,EM=/[\s,\(]\S/,Xn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},x_=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},CM=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},wM=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},AM=function(e,n){return n.set(n.t,n.p,e===1?n.e:e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},NM=function(e,n){var s=n.s+n.c*e;n.set(n.t,n.p,~~(s+(s<0?-.5:.5))+n.u,n)},AT=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},NT=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},xM=function(e,n,s){return e.style[n]=s},RM=function(e,n,s){return e.style.setProperty(n,s)},OM=function(e,n,s){return e._gsap[n]=s},DM=function(e,n,s){return e._gsap.scaleX=e._gsap.scaleY=s},MM=function(e,n,s,l,u){var c=e._gsap;c.scaleX=c.scaleY=s,c.renderTransform(u,c)},IM=function(e,n,s,l,u){var c=e._gsap;c[n]=s,c.renderTransform(u,c)},Je="transform",Kt=Je+"Origin",kM=function r(e,n){var s=this,l=this.target,u=l.style,c=l._gsap;if(e in Di&&u){if(this.tfm=this.tfm||{},e!=="transform")e=Xn[e]||e,~e.indexOf(",")?e.split(",").forEach(function(d){return s.tfm[d]=Si(l,d)}):this.tfm[e]=c.x?c[e]:Si(l,e),e===Kt&&(this.tfm.zOrigin=c.zOrigin);else return Xn.transform.split(",").forEach(function(d){return r.call(s,d,n)});if(this.props.indexOf(Je)>=0)return;c.svg&&(this.svgo=l.getAttribute("data-svg-origin"),this.props.push(Kt,n,"")),e=Je}(u||n)&&this.props.push(e,n,u[e])},xT=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},zM=function(){var e=this.props,n=this.target,s=n.style,l=n._gsap,u,c;for(u=0;u<e.length;u+=3)e[u+1]?e[u+1]===2?n[e[u]](e[u+2]):n[e[u]]=e[u+2]:e[u+2]?s[e[u]]=e[u+2]:s.removeProperty(e[u].substr(0,2)==="--"?e[u]:e[u].replace(Bm,"-$1").toLowerCase());if(this.tfm){for(c in this.tfm)l[c]=this.tfm[c];l.svg&&(l.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),u=Hm(),(!u||!u.isStart)&&!s[Je]&&(xT(s),l.zOrigin&&s[Kt]&&(s[Kt]+=" "+l.zOrigin+"px",l.zOrigin=0,l.renderTransform()),l.uncache=1)}},RT=function(e,n){var s={target:e,props:[],revert:zM,save:kM};return e._gsap||Wt.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(l){return s.save(l)}),s},OT,R_=function(e,n){var s=fs.createElementNS?fs.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):fs.createElement(e);return s&&s.style?s:fs.createElement(e)},hn=function r(e,n,s){var l=getComputedStyle(e);return l[n]||l.getPropertyValue(n.replace(Bm,"-$1").toLowerCase())||l.getPropertyValue(n)||!s&&r(e,Da(n)||n,1)||""},b1="O,Moz,ms,Ms,Webkit".split(","),Da=function(e,n,s){var l=n||sr,u=l.style,c=5;if(e in u&&!s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);c--&&!(b1[c]+e in u););return c<0?null:(c===3?"ms":c>=0?b1[c]:"")+e},O_=function(){bM()&&window.document&&(y1=window,fs=y1.document,ga=fs.documentElement,sr=R_("div")||{style:{}},R_("div"),Je=Da(Je),Kt=Je+"Origin",sr.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",OT=!!Da("perspective"),Hm=Wt.core.reverting,Pm=1)},T1=function(e){var n=e.ownerSVGElement,s=R_("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),l=e.cloneNode(!0),u;l.style.display="block",s.appendChild(l),ga.appendChild(s);try{u=l.getBBox()}catch{}return s.removeChild(l),ga.removeChild(s),u},E1=function(e,n){for(var s=n.length;s--;)if(e.hasAttribute(n[s]))return e.getAttribute(n[s])},DT=function(e){var n,s;try{n=e.getBBox()}catch{n=T1(e),s=1}return n&&(n.width||n.height)||s||(n=T1(e)),n&&!n.width&&!n.x&&!n.y?{x:+E1(e,["x","cx","x1"])||0,y:+E1(e,["y","cy","y1"])||0,width:0,height:0}:n},MT=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&DT(e))},As=function(e,n){if(n){var s=e.style,l;n in Di&&n!==Kt&&(n=Je),s.removeProperty?(l=n.substr(0,2),(l==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),s.removeProperty(l==="--"?n:n.replace(Bm,"-$1").toLowerCase())):s.removeAttribute(n)}},hs=function(e,n,s,l,u,c){var d=new Qt(e._pt,n,s,0,1,c?NT:AT);return e._pt=d,d.b=l,d.e=u,e._props.push(s),d},C1={deg:1,rad:1,turn:1},LM={grid:1,flex:1},Ns=function r(e,n,s,l){var u=parseFloat(s)||0,c=(s+"").trim().substr((u+"").length)||"px",d=sr.style,_=TM.test(n),m=e.tagName.toLowerCase()==="svg",p=(m?"client":"offset")+(_?"Width":"Height"),y=100,v=l==="px",T=l==="%",C,b,R,I;if(l===c||!u||C1[l]||C1[c])return u;if(c!=="px"&&!v&&(u=r(e,n,s,"px")),I=e.getCTM&&MT(e),(T||c==="%")&&(Di[n]||~n.indexOf("adius")))return C=I?e.getBBox()[_?"width":"height"]:e[p],rt(T?u/C*y:u/100*C);if(d[_?"width":"height"]=y+(v?c:l),b=l!=="rem"&&~n.indexOf("adius")||l==="em"&&e.appendChild&&!m?e:e.parentNode,I&&(b=(e.ownerSVGElement||{}).parentNode),(!b||b===fs||!b.appendChild)&&(b=fs.body),R=b._gsap,R&&T&&R.width&&_&&R.time===cn.time&&!R.uncache)return rt(u/R.width*y);if(T&&(n==="height"||n==="width")){var P=e.style[n];e.style[n]=y+l,C=e[p],P?e.style[n]=P:As(e,n)}else(T||c==="%")&&!LM[hn(b,"display")]&&(d.position=hn(e,"position")),b===e&&(d.position="static"),b.appendChild(sr),C=sr[p],b.removeChild(sr),d.position="absolute";return _&&T&&(R=rr(b),R.time=cn.time,R.width=b[p]),rt(v?C*u/y:C&&u?y/C*u:0)},Si=function(e,n,s,l){var u;return Pm||O_(),n in Xn&&n!=="transform"&&(n=Xn[n],~n.indexOf(",")&&(n=n.split(",")[0])),Di[n]&&n!=="transform"?(u=go(e,l),u=n!=="transformOrigin"?u[n]:u.svg?u.origin:Lc(hn(e,Kt))+" "+u.zOrigin+"px"):(u=e.style[n],(!u||u==="auto"||l||~(u+"").indexOf("calc("))&&(u=zc[n]&&zc[n](e,n,s)||hn(e,n)||Qb(e,n)||(n==="opacity"?1:0))),s&&!~(u+"").trim().indexOf(" ")?Ns(e,n,u,s)+s:u},UM=function(e,n,s,l){if(!s||s==="none"){var u=Da(n,e,1),c=u&&hn(e,u,1);c&&c!==s?(n=u,s=c):n==="borderColor"&&(s=hn(e,"borderTopColor"))}var d=new Qt(this._pt,e.style,n,0,1,ET),_=0,m=0,p,y,v,T,C,b,R,I,P,D,L,B;if(d.b=s,d.e=l,s+="",l+="",l.substring(0,6)==="var(--"&&(l=hn(e,l.substring(4,l.indexOf(")")))),l==="auto"&&(b=e.style[n],e.style[n]=l,l=hn(e,n)||l,b?e.style[n]=b:As(e,n)),p=[s,l],dT(p),s=p[0],l=p[1],v=s.match(ua)||[],B=l.match(ua)||[],B.length){for(;y=ua.exec(l);)R=y[0],P=l.substring(_,y.index),C?C=(C+1)%5:(P.substr(-5)==="rgba("||P.substr(-5)==="hsla(")&&(C=1),R!==(b=v[m++]||"")&&(T=parseFloat(b)||0,L=b.substr((T+"").length),R.charAt(1)==="="&&(R=pa(T,R)+L),I=parseFloat(R),D=R.substr((I+"").length),_=ua.lastIndex-D.length,D||(D=D||dn.units[n]||L,_===l.length&&(l+=D,d.e+=D)),L!==D&&(T=Ns(e,n,b,D)||0),d._pt={_next:d._pt,p:P||m===1?P:",",s:T,c:I-T,m:C&&C<4||n==="zIndex"?Math.round:0});d.c=_<l.length?l.substring(_,l.length):""}else d.r=n==="display"&&l==="none"?NT:AT;return Vb.test(l)&&(d.e=0),this._pt=d,d},w1={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},PM=function(e){var n=e.split(" "),s=n[0],l=n[1]||"50%";return(s==="top"||s==="bottom"||l==="left"||l==="right")&&(e=s,s=l,l=e),n[0]=w1[s]||s,n[1]=w1[l]||l,n.join(" ")},HM=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var s=n.t,l=s.style,u=n.u,c=s._gsap,d,_,m;if(u==="all"||u===!0)l.cssText="",_=1;else for(u=u.split(","),m=u.length;--m>-1;)d=u[m],Di[d]&&(_=1,d=d==="transformOrigin"?Kt:Je),As(s,d);_&&(As(s,Je),c&&(c.svg&&s.removeAttribute("transform"),l.scale=l.rotate=l.translate="none",go(s,1),c.uncache=1,xT(l)))}},zc={clearProps:function(e,n,s,l,u){if(u.data!=="isFromStart"){var c=e._pt=new Qt(e._pt,n,s,0,0,HM);return c.u=l,c.pr=-10,c.tween=u,e._props.push(s),1}}},po=[1,0,0,1,0,0],IT={},kT=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},A1=function(e){var n=hn(e,Je);return kT(n)?po:n.substr(7).match(Gb).map(rt)},jm=function(e,n){var s=e._gsap||rr(e),l=e.style,u=A1(e),c,d,_,m;return s.svg&&e.getAttribute("transform")?(_=e.transform.baseVal.consolidate().matrix,u=[_.a,_.b,_.c,_.d,_.e,_.f],u.join(",")==="1,0,0,1,0,0"?po:u):(u===po&&!e.offsetParent&&e!==ga&&!s.svg&&(_=l.display,l.display="block",c=e.parentNode,(!c||!e.offsetParent&&!e.getBoundingClientRect().width)&&(m=1,d=e.nextElementSibling,ga.appendChild(e)),u=A1(e),_?l.display=_:As(e,"display"),m&&(d?c.insertBefore(e,d):c?c.appendChild(e):ga.removeChild(e))),n&&u.length>6?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)},D_=function(e,n,s,l,u,c){var d=e._gsap,_=u||jm(e,!0),m=d.xOrigin||0,p=d.yOrigin||0,y=d.xOffset||0,v=d.yOffset||0,T=_[0],C=_[1],b=_[2],R=_[3],I=_[4],P=_[5],D=n.split(" "),L=parseFloat(D[0])||0,B=parseFloat(D[1])||0,X,q,Q,F;s?_!==po&&(q=T*R-C*b)&&(Q=L*(R/q)+B*(-b/q)+(b*P-R*I)/q,F=L*(-C/q)+B*(T/q)-(T*P-C*I)/q,L=Q,B=F):(X=DT(e),L=X.x+(~D[0].indexOf("%")?L/100*X.width:L),B=X.y+(~(D[1]||D[0]).indexOf("%")?B/100*X.height:B)),l||l!==!1&&d.smooth?(I=L-m,P=B-p,d.xOffset=y+(I*T+P*b)-I,d.yOffset=v+(I*C+P*R)-P):d.xOffset=d.yOffset=0,d.xOrigin=L,d.yOrigin=B,d.smooth=!!l,d.origin=n,d.originIsAbsolute=!!s,e.style[Kt]="0px 0px",c&&(hs(c,d,"xOrigin",m,L),hs(c,d,"yOrigin",p,B),hs(c,d,"xOffset",y,d.xOffset),hs(c,d,"yOffset",v,d.yOffset)),e.setAttribute("data-svg-origin",L+" "+B)},go=function(e,n){var s=e._gsap||new gT(e);if("x"in s&&!n&&!s.uncache)return s;var l=e.style,u=s.scaleX<0,c="px",d="deg",_=getComputedStyle(e),m=hn(e,Kt)||"0",p,y,v,T,C,b,R,I,P,D,L,B,X,q,Q,F,le,te,ee,re,$,K,N,G,ne,he,ce,w,H,Z,W,ae;return p=y=v=b=R=I=P=D=L=0,T=C=1,s.svg=!!(e.getCTM&&MT(e)),_.translate&&((_.translate!=="none"||_.scale!=="none"||_.rotate!=="none")&&(l[Je]=(_.translate!=="none"?"translate3d("+(_.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(_.rotate!=="none"?"rotate("+_.rotate+") ":"")+(_.scale!=="none"?"scale("+_.scale.split(" ").join(",")+") ":"")+(_[Je]!=="none"?_[Je]:"")),l.scale=l.rotate=l.translate="none"),q=jm(e,s.svg),s.svg&&(s.uncache?(ne=e.getBBox(),m=s.xOrigin-ne.x+"px "+(s.yOrigin-ne.y)+"px",G=""):G=!n&&e.getAttribute("data-svg-origin"),D_(e,G||m,!!G||s.originIsAbsolute,s.smooth!==!1,q)),B=s.xOrigin||0,X=s.yOrigin||0,q!==po&&(te=q[0],ee=q[1],re=q[2],$=q[3],p=K=q[4],y=N=q[5],q.length===6?(T=Math.sqrt(te*te+ee*ee),C=Math.sqrt($*$+re*re),b=te||ee?aa(ee,te)*tr:0,P=re||$?aa(re,$)*tr+b:0,P&&(C*=Math.abs(Math.cos(P*ya))),s.svg&&(p-=B-(B*te+X*re),y-=X-(B*ee+X*$))):(ae=q[6],Z=q[7],ce=q[8],w=q[9],H=q[10],W=q[11],p=q[12],y=q[13],v=q[14],Q=aa(ae,H),R=Q*tr,Q&&(F=Math.cos(-Q),le=Math.sin(-Q),G=K*F+ce*le,ne=N*F+w*le,he=ae*F+H*le,ce=K*-le+ce*F,w=N*-le+w*F,H=ae*-le+H*F,W=Z*-le+W*F,K=G,N=ne,ae=he),Q=aa(-re,H),I=Q*tr,Q&&(F=Math.cos(-Q),le=Math.sin(-Q),G=te*F-ce*le,ne=ee*F-w*le,he=re*F-H*le,W=$*le+W*F,te=G,ee=ne,re=he),Q=aa(ee,te),b=Q*tr,Q&&(F=Math.cos(Q),le=Math.sin(Q),G=te*F+ee*le,ne=K*F+N*le,ee=ee*F-te*le,N=N*F-K*le,te=G,K=ne),R&&Math.abs(R)+Math.abs(b)>359.9&&(R=b=0,I=180-I),T=rt(Math.sqrt(te*te+ee*ee+re*re)),C=rt(Math.sqrt(N*N+ae*ae)),Q=aa(K,N),P=Math.abs(Q)>2e-4?Q*tr:0,L=W?1/(W<0?-W:W):0),s.svg&&(G=e.getAttribute("transform"),s.forceCSS=e.setAttribute("transform","")||!kT(hn(e,Je)),G&&e.setAttribute("transform",G))),Math.abs(P)>90&&Math.abs(P)<270&&(u?(T*=-1,P+=b<=0?180:-180,b+=b<=0?180:-180):(C*=-1,P+=P<=0?180:-180)),n=n||s.uncache,s.x=p-((s.xPercent=p&&(!n&&s.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-p)?-50:0)))?e.offsetWidth*s.xPercent/100:0)+c,s.y=y-((s.yPercent=y&&(!n&&s.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-y)?-50:0)))?e.offsetHeight*s.yPercent/100:0)+c,s.z=v+c,s.scaleX=rt(T),s.scaleY=rt(C),s.rotation=rt(b)+d,s.rotationX=rt(R)+d,s.rotationY=rt(I)+d,s.skewX=P+d,s.skewY=D+d,s.transformPerspective=L+c,(s.zOrigin=parseFloat(m.split(" ")[2])||!n&&s.zOrigin||0)&&(l[Kt]=Lc(m)),s.xOffset=s.yOffset=0,s.force3D=dn.force3D,s.renderTransform=s.svg?jM:OT?zT:BM,s.uncache=0,s},Lc=function(e){return(e=e.split(" "))[0]+" "+e[1]},Qd=function(e,n,s){var l=Ot(n);return rt(parseFloat(n)+parseFloat(Ns(e,"x",s+"px",l)))+l},BM=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,zT(e,n)},Zs="0deg",Pl="0px",Js=") ",zT=function(e,n){var s=n||this,l=s.xPercent,u=s.yPercent,c=s.x,d=s.y,_=s.z,m=s.rotation,p=s.rotationY,y=s.rotationX,v=s.skewX,T=s.skewY,C=s.scaleX,b=s.scaleY,R=s.transformPerspective,I=s.force3D,P=s.target,D=s.zOrigin,L="",B=I==="auto"&&e&&e!==1||I===!0;if(D&&(y!==Zs||p!==Zs)){var X=parseFloat(p)*ya,q=Math.sin(X),Q=Math.cos(X),F;X=parseFloat(y)*ya,F=Math.cos(X),c=Qd(P,c,q*F*-D),d=Qd(P,d,-Math.sin(X)*-D),_=Qd(P,_,Q*F*-D+D)}R!==Pl&&(L+="perspective("+R+Js),(l||u)&&(L+="translate("+l+"%, "+u+"%) "),(B||c!==Pl||d!==Pl||_!==Pl)&&(L+=_!==Pl||B?"translate3d("+c+", "+d+", "+_+") ":"translate("+c+", "+d+Js),m!==Zs&&(L+="rotate("+m+Js),p!==Zs&&(L+="rotateY("+p+Js),y!==Zs&&(L+="rotateX("+y+Js),(v!==Zs||T!==Zs)&&(L+="skew("+v+", "+T+Js),(C!==1||b!==1)&&(L+="scale("+C+", "+b+Js),P.style[Je]=L||"translate(0, 0)"},jM=function(e,n){var s=n||this,l=s.xPercent,u=s.yPercent,c=s.x,d=s.y,_=s.rotation,m=s.skewX,p=s.skewY,y=s.scaleX,v=s.scaleY,T=s.target,C=s.xOrigin,b=s.yOrigin,R=s.xOffset,I=s.yOffset,P=s.forceCSS,D=parseFloat(c),L=parseFloat(d),B,X,q,Q,F;_=parseFloat(_),m=parseFloat(m),p=parseFloat(p),p&&(p=parseFloat(p),m+=p,_+=p),_||m?(_*=ya,m*=ya,B=Math.cos(_)*y,X=Math.sin(_)*y,q=Math.sin(_-m)*-v,Q=Math.cos(_-m)*v,m&&(p*=ya,F=Math.tan(m-p),F=Math.sqrt(1+F*F),q*=F,Q*=F,p&&(F=Math.tan(p),F=Math.sqrt(1+F*F),B*=F,X*=F)),B=rt(B),X=rt(X),q=rt(q),Q=rt(Q)):(B=y,Q=v,X=q=0),(D&&!~(c+"").indexOf("px")||L&&!~(d+"").indexOf("px"))&&(D=Ns(T,"x",c,"px"),L=Ns(T,"y",d,"px")),(C||b||R||I)&&(D=rt(D+C-(C*B+b*q)+R),L=rt(L+b-(C*X+b*Q)+I)),(l||u)&&(F=T.getBBox(),D=rt(D+l/100*F.width),L=rt(L+u/100*F.height)),F="matrix("+B+","+X+","+q+","+Q+","+D+","+L+")",T.setAttribute("transform",F),P&&(T.style[Je]=F)},GM=function(e,n,s,l,u){var c=360,d=vt(u),_=parseFloat(u)*(d&&~u.indexOf("rad")?tr:1),m=_-l,p=l+m+"deg",y,v;return d&&(y=u.split("_")[1],y==="short"&&(m%=c,m!==m%(c/2)&&(m+=m<0?c:-c)),y==="cw"&&m<0?m=(m+c*S1)%c-~~(m/c)*c:y==="ccw"&&m>0&&(m=(m-c*S1)%c-~~(m/c)*c)),e._pt=v=new Qt(e._pt,n,s,l,m,CM),v.e=p,v.u="deg",e._props.push(s),v},N1=function(e,n){for(var s in n)e[s]=n[s];return e},VM=function(e,n,s){var l=N1({},s._gsap),u="perspective,force3D,transformOrigin,svgOrigin",c=s.style,d,_,m,p,y,v,T,C;l.svg?(m=s.getAttribute("transform"),s.setAttribute("transform",""),c[Je]=n,d=go(s,1),As(s,Je),s.setAttribute("transform",m)):(m=getComputedStyle(s)[Je],c[Je]=n,d=go(s,1),c[Je]=m);for(_ in Di)m=l[_],p=d[_],m!==p&&u.indexOf(_)<0&&(T=Ot(m),C=Ot(p),y=T!==C?Ns(s,_,m,C):parseFloat(m),v=parseFloat(p),e._pt=new Qt(e._pt,d,_,y,v-y,x_),e._pt.u=C||0,e._props.push(_));N1(d,l)};Xt("padding,margin,Width,Radius",function(r,e){var n="Top",s="Right",l="Bottom",u="Left",c=(e<3?[n,s,l,u]:[n+u,n+s,l+s,l+u]).map(function(d){return e<2?r+d:"border"+d+r});zc[e>1?"border"+r:r]=function(d,_,m,p,y){var v,T;if(arguments.length<4)return v=c.map(function(C){return Si(d,C,m)}),T=v.join(" "),T.split(v[0]).length===5?v[0]:T;v=(p+"").split(" "),T={},c.forEach(function(C,b){return T[C]=v[b]=v[b]||v[(b-1)/2|0]}),d.init(_,T,y)}});var LT={name:"css",register:O_,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,s,l,u){var c=this._props,d=e.style,_=s.vars.startAt,m,p,y,v,T,C,b,R,I,P,D,L,B,X,q,Q,F;Pm||O_(),this.styles=this.styles||RT(e),Q=this.styles.props,this.tween=s;for(b in n)if(b!=="autoRound"&&(p=n[b],!(un[b]&&yT(b,n,s,l,e,u)))){if(T=typeof p,C=zc[b],T==="function"&&(p=p.call(s,l,e,u),T=typeof p),T==="string"&&~p.indexOf("random(")&&(p=ho(p)),C)C(this,e,b,p,s)&&(q=1);else if(b.substr(0,2)==="--")m=(getComputedStyle(e).getPropertyValue(b)+"").trim(),p+="",Ss.lastIndex=0,Ss.test(m)||(R=Ot(m),I=Ot(p),I?R!==I&&(m=Ns(e,b,m,I)+I):R&&(p+=R)),this.add(d,"setProperty",m,p,l,u,0,0,b),c.push(b),Q.push(b,0,d[b]);else if(T!=="undefined"){if(_&&b in _?(m=typeof _[b]=="function"?_[b].call(s,l,e,u):_[b],vt(m)&&~m.indexOf("random(")&&(m=ho(m)),Ot(m+"")||m==="auto"||(m+=dn.units[b]||Ot(Si(e,b))||""),(m+"").charAt(1)==="="&&(m=Si(e,b))):m=Si(e,b),v=parseFloat(m),P=T==="string"&&p.charAt(1)==="="&&p.substr(0,2),P&&(p=p.substr(2)),y=parseFloat(p),b in Xn&&(b==="autoAlpha"&&(v===1&&Si(e,"visibility")==="hidden"&&y&&(v=0),Q.push("visibility",0,d.visibility),hs(this,d,"visibility",v?"inherit":"hidden",y?"inherit":"hidden",!y)),b!=="scale"&&b!=="transform"&&(b=Xn[b],~b.indexOf(",")&&(b=b.split(",")[0]))),D=b in Di,D){if(this.styles.save(b),F=p,T==="string"&&p.substring(0,6)==="var(--"){if(p=hn(e,p.substring(4,p.indexOf(")"))),p.substring(0,5)==="calc("){var le=e.style.perspective;e.style.perspective=p,p=hn(e,"perspective"),le?e.style.perspective=le:As(e,"perspective")}y=parseFloat(p)}if(L||(B=e._gsap,B.renderTransform&&!n.parseTransform||go(e,n.parseTransform),X=n.smoothOrigin!==!1&&B.smooth,L=this._pt=new Qt(this._pt,d,Je,0,1,B.renderTransform,B,0,-1),L.dep=1),b==="scale")this._pt=new Qt(this._pt,B,"scaleY",B.scaleY,(P?pa(B.scaleY,P+y):y)-B.scaleY||0,x_),this._pt.u=0,c.push("scaleY",b),b+="X";else if(b==="transformOrigin"){Q.push(Kt,0,d[Kt]),p=PM(p),B.svg?D_(e,p,0,X,0,this):(I=parseFloat(p.split(" ")[2])||0,I!==B.zOrigin&&hs(this,B,"zOrigin",B.zOrigin,I),hs(this,d,b,Lc(m),Lc(p)));continue}else if(b==="svgOrigin"){D_(e,p,1,X,0,this);continue}else if(b in IT){GM(this,B,b,v,P?pa(v,P+p):p);continue}else if(b==="smoothOrigin"){hs(this,B,"smooth",B.smooth,p);continue}else if(b==="force3D"){B[b]=p;continue}else if(b==="transform"){VM(this,p,e);continue}}else b in d||(b=Da(b)||b);if(D||(y||y===0)&&(v||v===0)&&!EM.test(p)&&b in d)R=(m+"").substr((v+"").length),y||(y=0),I=Ot(p)||(b in dn.units?dn.units[b]:R),R!==I&&(v=Ns(e,b,m,I)),this._pt=new Qt(this._pt,D?B:d,b,v,(P?pa(v,P+y):y)-v,!D&&(I==="px"||b==="zIndex")&&n.autoRound!==!1?NM:x_),this._pt.u=I||0,D&&F!==p?(this._pt.b=m,this._pt.e=F,this._pt.r=AM):R!==I&&I!=="%"&&(this._pt.b=m,this._pt.r=wM);else if(b in d)UM.call(this,e,b,m,P?P+p:p);else if(b in e)this.add(e,b,m||e[b],P?P+p:p,l,u);else if(b!=="parseTransform"){xm(b,p);continue}D||(b in d?Q.push(b,0,d[b]):typeof e[b]=="function"?Q.push(b,2,e[b]()):Q.push(b,1,m||e[b])),c.push(b)}}q&&CT(this)},render:function(e,n){if(n.tween._time||!Hm())for(var s=n._pt;s;)s.r(e,s.d),s=s._next;else n.styles.revert()},get:Si,aliases:Xn,getSetter:function(e,n,s){var l=Xn[n];return l&&l.indexOf(",")<0&&(n=l),n in Di&&n!==Kt&&(e._gsap.x||Si(e,"x"))?s&&v1===s?n==="scale"?DM:OM:(v1=s||{})&&(n==="scale"?MM:IM):e.style&&!wm(e.style[n])?xM:~n.indexOf("-")?RM:Lm(e,n)},core:{_removeProperty:As,_getMatrix:jm}};Wt.utils.checkPrefix=Da;Wt.core.getStyleSaver=RT;(function(r,e,n,s){var l=Xt(r+","+e+","+n,function(u){Di[u]=1});Xt(e,function(u){dn.units[u]="deg",IT[u]=1}),Xn[l[13]]=r+","+e,Xt(s,function(u){var c=u.split(":");Xn[c[1]]=l[c[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Xt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){dn.units[r]="px"});Wt.registerPlugin(LT);var UT=Wt.registerPlugin(LT)||Wt;UT.core.Tween;const qM=5;class YM{constructor(e,n,s){this.canvas=e,this.ctx=e.getContext("2d"),this.rows=n,this.cols=s,this.width=e.width,this.height=e.height,this.atoms=[],this.sparks=[],this.rafId=null,this.lastTime=0,this.cellWidth=this.width/this.cols,this.cellHeight=this.height/this.rows,this.tick=this.tick.bind(this)}resize(e,n){this.width=e,this.height=n,this.canvas.width=e,this.canvas.height=n,this.cellWidth=e/this.cols,this.cellHeight=n/this.rows}getPixelPos(e,n){return{x:n*this.cellWidth+this.cellWidth/2,y:e*this.cellHeight+this.cellHeight/2}}start(){this.rafId||(this.lastTime=performance.now(),this.rafId=requestAnimationFrame(this.tick))}stop(){this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null)}tick(e){const n=(e-this.lastTime)/1e3;this.lastTime=e,this.update(n),this.draw(),this.rafId=requestAnimationFrame(this.tick)}spawnExplosion(e,n,s,l=0){const u=this.getPixelPos(e.row,e.col),c=this.getPixelPos(n.row,n.col),d={x:u.x,y:u.y,z:0,scaleX:1,scaleY:1,rotation:0,color:s,alpha:1,dead:!1,progress:0};UT.timeline({delay:l,onComplete:()=>{this.spawnSparks(c.x,c.y,s),d.dead=!0}}).to(d,{duration:.35,ease:"power2.inOut",x:c.x,y:c.y,onUpdate:function(){const m=this.progress();d.z=Math.sin(m*Math.PI)*30;const p=c.x-u.x,y=c.y-u.y;d.rotation=Math.atan2(y,p),m>.1&&m<.9?(d.scaleX=1.2,d.scaleY=1.2):(d.scaleX=1,d.scaleY=1)}}),this.atoms.push(d)}spawnSparks(e,n,s){for(let l=0;l<qM;l++){const u=Math.random()*Math.PI*2,c=100+Math.random()*100;this.sparks.push({x:e,y:n,vx:Math.cos(u)*c,vy:Math.sin(u)*c,life:1,color:s,decay:2+Math.random()})}}update(e){this.atoms=this.atoms.filter(n=>!n.dead);for(let n=this.sparks.length-1;n>=0;n--){const s=this.sparks[n];s.x+=s.vx*e,s.y+=s.vy*e,s.life-=s.decay*e,s.life<=0&&this.sparks.splice(n,1)}}draw(){this.ctx.clearRect(0,0,this.width,this.height),this.atoms.forEach(e=>{this.ctx.save(),this.ctx.translate(e.x,e.y-e.z),this.ctx.rotate(e.rotation),this.ctx.scale(e.scaleX,e.scaleY),this.ctx.beginPath();const n=10;this.ctx.arc(0,0,n,0,Math.PI*2);const s=this.ctx.createRadialGradient(-n*.3,-n*.3,n*.1,0,0,n);s.addColorStop(0,"#ffffff"),s.addColorStop(.3,e.color),s.addColorStop(1,e.color),this.ctx.fillStyle=s,this.ctx.fill(),this.ctx.shadowBlur=20,this.ctx.shadowColor=e.color,this.ctx.fill(),this.ctx.restore()}),this.sparks.forEach(e=>{this.ctx.save(),this.ctx.globalAlpha=e.life,this.ctx.translate(e.x,e.y),this.ctx.beginPath(),this.ctx.arc(0,0,3,0,Math.PI*2),this.ctx.fillStyle=e.color,this.ctx.fill(),this.ctx.restore()})}}function FM({atoms:r}){const e=Ae.useRef(null),n=Ae.useRef(null),s=Ae.useRef(new Set);return Ae.useEffect(()=>{const l=e.current;if(!l)return;const u=window.devicePixelRatio||1,c=l.getBoundingClientRect();l.width=c.width*u,l.height=c.height*u;const d=l.getContext("2d");d.scale(u,u);const _=new YM(l,gr,yr);_.resize(c.width,c.height),_.start(),n.current=_;const m=()=>{const p=l.getBoundingClientRect();l.width=p.width*u,l.height=p.height*u,d.scale(u,u),_.resize(p.width,p.height)};return window.addEventListener("resize",m),()=>{_.stop(),window.removeEventListener("resize",m)}},[]),Ae.useEffect(()=>{!n.current||!r||r.forEach(l=>{if(!s.current.has(l.id)&&(n.current.spawnExplosion(l.from,l.to,l.color),s.current.add(l.id),s.current.size>1e3)){const u=s.current.values();s.current.delete(u.next().value)}})},[r]),z.jsx("canvas",{ref:e,className:"flying-atoms-layer",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:20}})}function XM({gameState:r,playerId:e,isMyTurn:n,isProcessing:s,explodingCells:l,flyingAtoms:u,onCellClick:c,onEndGame:d,isSpectator:_}){const{grid:m,players:p,turnIndex:y}=r,v=p[y],T={};p.forEach(D=>{T[D.id]=D.colorIndex});const C=m.map(D=>D.map(L=>({...L,colorIndex:L.owner?T[L.owner]:null}))),[b,R]=Kd.useState(!1),I=(D,L)=>l.some(B=>B.row===D&&B.col===L),P=(D,L)=>{const B=m[D][L];return B.owner===null||B.owner===e};return z.jsxs("div",{className:"game-board-container",children:[z.jsxs("div",{className:"game-hud",children:[z.jsx("div",{className:"hud-players",children:p.map((D,L)=>{const X=(r.movesMade||0)>=p.length&&Em(m,D.id);return z.jsxs("div",{className:`hud-player ${D.id===v.id?"active":""} ${X?"eliminated":""}`,style:{"--p-color":Rt[L].primary,"--p-glow":Rt[L].glow},children:[z.jsx("div",{className:"hud-orb"}),z.jsxs("span",{className:"hud-name",children:[D.name,X&&z.jsx("small",{children:" (Out)"}),D.id===e&&z.jsx("small",{children:" (You)"})]})]},D.id)})}),z.jsx("div",{className:"hud-controls",children:b?z.jsxs("div",{className:"reset-confirm",children:[z.jsx("span",{children:"End Game?"}),z.jsx("button",{className:"confirm-btn yes",onClick:()=>{d(),R(!1)},children:""}),z.jsx("button",{className:"confirm-btn no",onClick:()=>R(!1),children:""})]}):z.jsxs("button",{className:"hud-end-btn",onClick:()=>R(!0),title:"End Game",children:[z.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:z.jsx("path",{d:"M4 12v6a2 2 0 002 2h12a2 2 0 002-2v-6M10 2h4M12 2v10",strokeLinecap:"round",strokeLinejoin:"round"})}),z.jsx("span",{className:"btn-label",children:"Reset"})]})})]}),z.jsx("div",{className:"game-grid-wrapper",children:z.jsxs("div",{className:"game-grid",style:{"--grid-cols":yr,"--grid-rows":gr},children:[C.map((D,L)=>D.map((B,X)=>z.jsx(wD,{row:L,col:X,cell:B,isExploding:I(L,X),isMyTurn:n&&!s,canPlace:P(L,X),onClick:c},`${L}-${X}`))),z.jsx(FM,{atoms:u})]})}),z.jsx("div",{className:"game-status-bar",children:_?z.jsxs("span",{className:"spectator-msg",children:[" Spectating - ",s?"Thinking...":`${v.name}'s turn`]}):n&&!s?z.jsx("span",{className:"your-turn-msg",children:"Your Turn"}):z.jsx("span",{className:"waiting-msg",children:s?"Thinking...":`${v.name}'s turn`})})]})}function QM({winner:r,players:e,onPlayAgain:n}){const[s,l]=Ae.useState(!1),u=e.find(d=>d.id===r),c=u?Rt[u.colorIndex]:Rt[0];return Ae.useEffect(()=>{l(!0);const d=setTimeout(()=>l(!1),5e3);return()=>clearTimeout(d)},[]),u?z.jsxs("div",{className:"win-screen-overlay",children:[s&&z.jsx("div",{className:"confetti-container",children:Array(50).fill(null).map((d,_)=>z.jsx("div",{className:"confetti",style:{"--x":`${Math.random()*100}%`,"--delay":`${Math.random()*2}s`,"--duration":`${2+Math.random()*2}s`,"--color":Rt[_%4].primary}},_))}),z.jsxs("div",{className:"win-card",style:{"--winner-color":c.primary,"--winner-glow":c.glow},children:[z.jsx("div",{className:"trophy-container",children:z.jsx("div",{className:"trophy",children:""})}),z.jsx("h1",{className:"winner-title",children:"Victory!"}),z.jsxs("div",{className:"winner-name-container",children:[z.jsx("div",{className:"winner-atom"}),z.jsx("h2",{className:"winner-name",children:u.name}),z.jsx("div",{className:"winner-atom"})]}),z.jsx("p",{className:"winner-message",children:"Dominated the reaction!"}),z.jsx("button",{onClick:n,className:"play-again-button",children:"Play Again"})]})]}):null}function KM(){const{gameState:r,playerId:e,playerName:n,isMyTurn:s,isHost:l,isInGame:u,isProcessing:c,explodingCells:d,flyingAtoms:_,connectionError:m,joinGame:p,leaveGame:y,startGame:v,makeMove:T,resetGame:C,setMaxPlayers:b}=TD();return r?z.jsxs("div",{className:"app",children:[z.jsxs("div",{className:"background-effects",children:[z.jsx("div",{className:"bg-gradient"}),z.jsx("div",{className:"bg-particles",children:Array(20).fill(null).map((R,I)=>z.jsx("div",{className:"particle",style:{"--x":`${Math.random()*100}%`,"--y":`${Math.random()*100}%`,"--size":`${2+Math.random()*4}px`,"--duration":`${10+Math.random()*20}s`,"--delay":`${Math.random()*10}s`}},I))})]}),z.jsxs("div",{className:"app-content",children:[r.status==="WAITING"&&z.jsx(CD,{gameState:r,playerId:e,playerName:n,isHost:l,isInGame:u,onJoin:p,onLeave:y,onStart:v,onSetMaxPlayers:b,onReset:C,connectionError:m}),r.status==="PLAYING"&&z.jsx(XM,{gameState:r,playerId:e,isMyTurn:s,isProcessing:c,explodingCells:d,flyingAtoms:_,onCellClick:T,onEndGame:C,isHost:l,isSpectator:!u}),r.status==="FINISHED"&&z.jsx(QM,{winner:r.winner,players:r.players,onPlayAgain:C})]})]}):z.jsxs("div",{className:"app loading",children:[z.jsxs("div",{className:"loader",children:[z.jsx("div",{className:"loader-atom"}),z.jsx("div",{className:"loader-atom"}),z.jsx("div",{className:"loader-atom"})]}),z.jsx("p",{children:m?`Connection error: ${m}`:"Connecting to game server..."}),m&&z.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"20px",padding:"10px 20px",background:"rgba(68, 136, 255, 0.3)",border:"1px solid rgba(68, 136, 255, 0.5)",borderRadius:"8px",color:"white",cursor:"pointer"},children:"Retry Connection"})]})}gw.createRoot(document.getElementById("root")).render(z.jsx(Ae.StrictMode,{children:z.jsx(KM,{})}));
